{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/js/algolia-search.js","path":"js/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/local-search.js","path":"js/local-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schemes/pisces.js","path":"js/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1}],"Cache":[{"_id":"themes/next/.all-contributorsrc","hash":"6ee1b5c79fba84db228ad559715ac4c69cfc421e","modified":1596884780707},{"_id":"themes/next/.editorconfig","hash":"731c650ddad6eb0fc7c3d4a91cad1698fe7ad311","modified":1596884780708},{"_id":"themes/next/.eslintrc.json","hash":"d3c11de434171d55d70daadd3914bc33544b74b8","modified":1596884780709},{"_id":"themes/next/.gitattributes","hash":"3e00e1fb043438cd820d94ee3dc9ffb6718996f3","modified":1596884780710},{"_id":"themes/next/.gitignore","hash":"8bf1bfc917aa8dd2d886fd36f764447a2b561e1e","modified":1596884780727},{"_id":"themes/next/.stylintrc","hash":"6259e2a0b65d46865ab89564b88fc67638668295","modified":1596884780728},{"_id":"themes/next/.travis.yml","hash":"fb9ac54e875f6ea16d5c83db497f6bd70ae83198","modified":1596884780729},{"_id":"themes/next/LICENSE.md","hash":"0a9c7399f102b4eb0a6950dd31264be421557c7d","modified":1596884780730},{"_id":"themes/next/README.md","hash":"01c1cfe17bbba58ba56be53fdd8fbcc535e44964","modified":1596884780730},{"_id":"themes/next/_config.yml","hash":"113fa1ee46c0b5b3ef6251e104cbbc63434a16cc","modified":1596884780732},{"_id":"themes/next/crowdin.yml","hash":"4a53f5985e545c635cb56b2a57ed290cb8cf8942","modified":1596884780732},{"_id":"themes/next/gulpfile.coffee","hash":"3f4e570ed7e554840b905200e0b662e4b509170e","modified":1596884780756},{"_id":"themes/next/package.json","hash":"0ee90fb9f79c23dfc6dc51a31ae4b0fbd96211eb","modified":1596884780882},{"_id":"source/_drafts/note.md","hash":"8b50990d402646aafda7325a32632464ae030124","modified":1596884780574},{"_id":"source/_posts/AWS-ECS-auto-deployment-with-Travis-CI.md","hash":"852926d9597ed5f748fe41c744fdb052a22e78bf","modified":1596884780576},{"_id":"source/_posts/Adding-GeoJSON-layers-in-your-Leaflet-project-in-TypeScript.md","hash":"b2d8d217a416f3fd081ca3ac7d73731e34b525b5","modified":1596884780580},{"_id":"source/_posts/ArcMap-Raster-Edit-Suite.md","hash":"501388fcc7328ca5414c9476e33a84bb007c4416","modified":1596884780580},{"_id":"source/_posts/Boundary-Now-a-simple-tool-to-extract-OSM-place-boundaries.md","hash":"4a1ad9652c48e7cfced3954b89c6346bfde7da8b","modified":1596884780582},{"_id":"source/_posts/Celebrating-the-1-000-data-portals-at-OpenDataDiscovery-org.md","hash":"29a35b0304fbb0f9d91f2e475b1af6dc96d811b0","modified":1596884780592},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification.md","hash":"08c6a56da230de12b3fdeb1eff05ef1164bace9c","modified":1596884780598},{"_id":"source/_posts/Converting-C-Data-Value-to-ArcObject-Raster-Pixel-Value.md","hash":"16d0023d22a35622aeebe60802b098f8d66cb53e","modified":1596884780607},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks.md","hash":"20576ec8d0f249db2a458d03ecf94df657db57b6","modified":1596884780608},{"_id":"source/_posts/Generating-masks-from-Landsat-8-image-in-ArcMap.md","hash":"00d25af8ecd0dcc919c92030c78507ad819b1bae","modified":1596884780620},{"_id":"source/_posts/Lazy-man-s-package-of-U-S-boundaries.md","hash":"e1673f91e6a1905551e3498e7b0e43891361ae2d","modified":1596884780623},{"_id":"source/_posts/Making-A-Map-with-Leaflet-in-TypeScript.md","hash":"1cb2b6a78688824ce938fed433aa764d8d2fe50f","modified":1596884780625},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update.md","hash":"5b839887bf9b905fc08ad2faae2f6ab2d4890c24","modified":1596884780626},{"_id":"source/_posts/Making-masks-with-Landsat-8-Quality-Assessment-band-using-Python.md","hash":"870f66efb4231a06c90296e9580b0a6fd4b58c71","modified":1596884780632},{"_id":"source/_posts/Pymasker.md","hash":"e0efc673d680fa246d4746a8d9a27aeeedf6e18b","modified":1596884780636},{"_id":"source/_posts/The-Launch-of-OpenDataDiscovery.org.md","hash":"957e4a1b12a1ed10440d445a7c794c9a2c8437b5","modified":1596884780637},{"_id":"source/_posts/The-unofficial-documentation-for-ArcGIS-Open-Data-dataset-search-API.md","hash":"6a694c34f3f57e03daffca285670e51d54b6c636","modified":1596884780643},{"_id":"source/_posts/Tips-on-developing-cross-platform-Node-js-application.md","hash":"d51835e0971979d1e259398bb5c6ae7dd6ca9290","modified":1596884780644},{"_id":"source/_posts/Using-an-untyped-Leaflet-plugin-in-your-TypeSccript-project.md","hash":"9274c41817a2b48cfe38627fa980bd19b7f82e2e","modified":1596884780648},{"_id":"source/_posts/Work-Life-2016.md","hash":"679a4b7120afa37116eaeb90a8eb9f6d710da90f","modified":1596884780649},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it.md","hash":"7f1b1e927d25a665f3ac41ebd88e3fb2bbc66f53","modified":1596884780670},{"_id":"source/_posts/geojson-multiply-a-simple-library-to-pack-single-type-geojson-features.md","hash":"3f60bf5a38664140d500ccfb11628c02890ce59e","modified":1596884780684},{"_id":"source/_posts/gtran-a-promised-consistent-user-friendly-GeoJson-conversion-package.md","hash":"1a4713e018ec609c68a899399ba27645bca3be7c","modified":1596884780685},{"_id":"source/all-categories/index.md","hash":"2e1a84d3badfb5dc754b8a8190760e7657474a50","modified":1596884780703},{"_id":"source/all-archives/index.md","hash":"07db316e1697f8242eb88fe68ade076a6cffd5ac","modified":1596884780702},{"_id":"source/all-tags/index.md","hash":"5e7253fc2ffe8e3da81f7e02f5a0752c34877d69","modified":1596884780705},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"f7ddb7faed8031a9f40eae4ee7bb48c1bc50fd14","modified":1596884780711},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"df11642d4fb7695b536740e77155d756bdb2499e","modified":1596884780712},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"1e212fe229bd659726b4a3bcf4b5b14e0310ba3a","modified":1596884780713},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"cf6b1e53119097fcfacb02758962806b4edc8b89","modified":1596884780719},{"_id":"themes/next/.github/auto_assign.yml","hash":"9fe0dbe3f6edc59bf10ea25b14eba0e92e2c8f42","modified":1596884780719},{"_id":"themes/next/.github/config.yml","hash":"cbd06d0c40afa9fdf056765120e9085826b00d20","modified":1596884780720},{"_id":"themes/next/.github/eslint-disable-bot.yml","hash":"e06053d417579ed967a94166deb6bda5ce41d805","modified":1596884780721},{"_id":"themes/next/.github/issue_label_bot.yaml","hash":"18eddb3ba5e94cac0642134581f86e26f568d388","modified":1596884780722},{"_id":"themes/next/.github/lock.yml","hash":"4f1070097b614b24050f238694127e3573ce8472","modified":1596884780723},{"_id":"themes/next/.github/mergeable.yml","hash":"1c1cb77a62df1e3654b151c2da34b4a10d351170","modified":1596884780724},{"_id":"themes/next/.github/release-drafter.yml","hash":"f3a449b637abd1fd9fe14342d6a242e18a86ddd2","modified":1596884780724},{"_id":"themes/next/.github/stale.yml","hash":"85975c43d606c39b91c0ad32197154be9d482a09","modified":1596884780725},{"_id":"themes/next/.github/support.yml","hash":"7ce2722d6904c31a086444c422dc49b6aa310651","modified":1596884780726},{"_id":"themes/next/docs/AGPL3.md","hash":"f463f95b169d64983f59fa6f3e4b6760290a0e6b","modified":1596884780734},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"6a8d3d3f37d2212e52e1081115f33b55f0e71cf7","modified":1596884780735},{"_id":"themes/next/docs/AUTHORS.md","hash":"99483bb9c09c7c694e34ee79aa3822ff16e0753d","modified":1596884780736},{"_id":"themes/next/docs/DATA-FILES.md","hash":"b6aba4f32482654d265df256988c18606318a5fd","modified":1596884780737},{"_id":"themes/next/docs/INSTALLATION.md","hash":"d747b33d4e0bb7b173b0eee3c427566e49c17b38","modified":1596884780738},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"661deb61a2d225af4498769dba09561046a3d871","modified":1596884780739},{"_id":"themes/next/docs/LICENSE.txt","hash":"ae5ad07e4f4106bad55535dba042221539e6c7f9","modified":1596884780740},{"_id":"themes/next/docs/MATH.md","hash":"5b7ea122699e84214fc83ff26e046626e6be4efc","modified":1596884780741},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"e1a7d82622845fb2d898043d604e798519d1cde7","modified":1596884780742},{"_id":"themes/next/languages/de.yml","hash":"c94ff69db40c22de61ce6446cdc9108177379074","modified":1596884780757},{"_id":"themes/next/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1596884780758},{"_id":"themes/next/languages/en.yml","hash":"f6a8d95948762c978d2ed065c5f87d2061aa6fc1","modified":1596884780759},{"_id":"themes/next/languages/es.yml","hash":"203084eace039610ac097e0e6ce6b5f4f8356217","modified":1596884780760},{"_id":"themes/next/languages/fa.yml","hash":"856e19aec28767e1f91a8e805011f82c7601ec60","modified":1596884780760},{"_id":"themes/next/languages/fr.yml","hash":"a9ac6ce36e97a06ad6ab3431eb652b8702b7a63e","modified":1596884780761},{"_id":"themes/next/languages/hu.yml","hash":"313894fd5615e37c1935a235f8f702df7852345a","modified":1596884780762},{"_id":"themes/next/languages/id.yml","hash":"1c321f62378dc029f7b795ad2fcb0f80277de52f","modified":1596884780763},{"_id":"themes/next/languages/it.yml","hash":"08b2db3eece91edd2759ca4b26de74b2992c7dae","modified":1596884780764},{"_id":"themes/next/languages/ja.yml","hash":"8341ccdd1b2fbf11e9d80c1aacd37a969c57ca9c","modified":1596884780765},{"_id":"themes/next/languages/ko.yml","hash":"4f3a4165ceaaada238316fe8bd2438f775abebfc","modified":1596884780766},{"_id":"themes/next/languages/nl.yml","hash":"387ea251057164f8dcd38553bac01a909cf11f0d","modified":1596884780767},{"_id":"themes/next/languages/pt-BR.yml","hash":"075140b21edd6cb0ec1e9b3e79e1339d1e1a17e4","modified":1596884780768},{"_id":"themes/next/languages/pt.yml","hash":"7d3f040065b0a04a23d3be42ddfcafc95f79854e","modified":1596884780768},{"_id":"themes/next/languages/ru.yml","hash":"ca8f3c22fb10cf3e455890e0f1f2b29b8814a702","modified":1596884780769},{"_id":"themes/next/languages/tr.yml","hash":"c99f21a9cb86957618428e488ece24df063222f3","modified":1596884780770},{"_id":"themes/next/languages/uk.yml","hash":"aa90a1b6f12f5bae1ff6386ea99c63db901179a8","modified":1596884780771},{"_id":"themes/next/languages/vi.yml","hash":"a5f60a2b3dc1b90b867e99dd3b108113a04f9ba5","modified":1596884780772},{"_id":"themes/next/languages/zh-CN.yml","hash":"8c70af9442f12aa65e8737774ea032bb6420a715","modified":1596884780773},{"_id":"themes/next/languages/zh-HK.yml","hash":"1c8b8ad49a15ea3491555a2ae1819b1ad405fab2","modified":1596884780774},{"_id":"themes/next/languages/zh-TW.yml","hash":"7402f4b899dbeead3641417bfaf5f46f3a3934a5","modified":1596884780775},{"_id":"themes/next/layout/_layout.swig","hash":"417784838d6b1d21ec5fc3ddea4ed63d71659774","modified":1596884780776},{"_id":"themes/next/layout/archive.swig","hash":"3ed37b2d5346e7c956dcdd94f5647800df80b597","modified":1596884780877},{"_id":"themes/next/layout/category.swig","hash":"4b21cb24b893dcb587bdf7802199ee368c494a4f","modified":1596884780878},{"_id":"themes/next/layout/index.swig","hash":"d08bbe3c409015a693c4afefcd6f3fe70beb2082","modified":1596884780879},{"_id":"themes/next/layout/page.swig","hash":"ddd87c44b20f906d5d16820ad6fea582d00e5b7a","modified":1596884780880},{"_id":"themes/next/layout/post.swig","hash":"b5f8b8a3ce37245713ccaee811f58b2261e58187","modified":1596884780881},{"_id":"themes/next/layout/tag.swig","hash":"9463f950d147014a908766a1f5ee9ede0d136346","modified":1596884780882},{"_id":"source/_posts/AWS-ECS-auto-deployment-with-Travis-CI/travis-deploy.png","hash":"370c46b4bd290dfc837e5d87c2fd54cb1ecde1eb","modified":1596884780577},{"_id":"source/_posts/AWS-ECS-auto-deployment-with-Travis-CI/travis-env.png","hash":"0b6d46d9b988c624d10c048d7e49d66666ad0005","modified":1596884780579},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/accuracyfigure.png","hash":"d65f8e1aaf4c9a523948a7de51cdd8dde57dd4f7","modified":1596884780600},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/accuracytable.png","hash":"7d060171484e7986eb10238b844e26ad12d78a53","modified":1596884780601},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/featurespace.png","hash":"02522796f21f16b4965fd5d1fb51670d4efcb54d","modified":1596884780602},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/edit_pixels.png","hash":"896e42abf071b7aae32f1daef195133730385ad7","modified":1596884780610},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/edit_tool.png","hash":"64d5f5bab9ac33413acef8b28efdc19fcf02eafa","modified":1596884780611},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/eidtor_toolbar.png","hash":"ba49a4ff82ad9b8bc42766c8ef223ea422460eec","modified":1596884780612},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/finish_editing.png","hash":"614b8bb29652590a4164374e7e012e7cc9290eb7","modified":1596884780614},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/gotopixel_tool.png","hash":"14778d43e9c66523e0d05143a66a2b8800b84c01","modified":1596884780615},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/identify_tool.png","hash":"5c644f2d083deb019cfd0c4a3d941133fcaf8649","modified":1596884780615},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/install_wizard.png","hash":"f3bcda2152026cd6e39da31316fedea391943a5b","modified":1596884780616},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/select_pixels.png","hash":"b18e42acf98e6a232895a9a439d06a2d656f9f05","modified":1596884780618},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/unzipped_folder.png","hash":"4341c059bf0fa6ff7011e0ed1777a638a593c4e1","modified":1596884780619},{"_id":"source/_posts/Generating-masks-from-Landsat-8-image-in-ArcMap/Masking_from_Landsat_8.png","hash":"e8ce1f521d81043786a2cdfa44d3a22fd63acf4e","modified":1596884780621},{"_id":"source/_posts/Generating-masks-from-Landsat-8-image-in-ArcMap/Masking_from_Quality_Assessment_Bits.png","hash":"6de1519a102900f10dc243b783771ae4f0c2bd32","modified":1596884780622},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bitsample.png","hash":"7d363d2c46c8e15a6c1e19a2d863ab33162fe69e","modified":1596884780627},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bitstructure.png","hash":"a08114820a55f6fdcad146519fe1557aa79b56aa","modified":1596884780628},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bittable.png","hash":"8d6867221c2623d6b872df486a626f55540f5025","modified":1596884780629},{"_id":"source/_posts/Tips-on-developing-cross-platform-Node-js-application/dev-survey.png","hash":"47b56888baf17ab62210800170f9884fbee8d3ba","modified":1596884780646},{"_id":"source/_posts/Work-Life-2016/github-commits.png","hash":"541f5e830d71439b9973ca5ae12210cbff5c3834","modified":1596884780651},{"_id":"source/_posts/Work-Life-2016/odd-commits.png","hash":"c90aca664947abe9636cef6726e763ca65001441","modified":1596884780652},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/AddValues.png","hash":"695a53896135059049bfdd40f63e71831e5d402e","modified":1596884780672},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Erase.png","hash":"793b3c2707794a4dba9670345353f55c3f1fa724","modified":1596884780675},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/EraseTool.png","hash":"e49223fac46bde239e04b42162d0fe93c162fe45","modified":1596884780676},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/FreehandPaintTool.png","hash":"9b4e007a0c2fea0f08bf7e0f4067a0f745d9a35d","modified":1596884780677},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Painting.png","hash":"b8322829bb712ece2e2f03bf3fb91ddfb36c47cd","modified":1596884780679},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/RasterPainter.png","hash":"a48393fe3375e8f09a174d00caa8c4b64d7d032e","modified":1596884780680},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/StartPainting.png","hash":"96d9799ced86891aa46058c1fb1a047d59728f8c","modified":1596884780682},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/WinPaint.png","hash":"278fea1d6ca5c420b3d818cdc2fe4066b1776e69","modified":1596884780683},{"_id":"themes/next/.github/ISSUE_TEMPLATE/bug-report.md","hash":"795b8ddb251da8e2327299d5f7dbf446fb9867c6","modified":1596884780715},{"_id":"themes/next/.github/ISSUE_TEMPLATE/custom-issue-template.md","hash":"245917ffaa296bc2d9a85444acf639077ca25944","modified":1596884780716},{"_id":"themes/next/.github/ISSUE_TEMPLATE/feature-request.md","hash":"59b2b45e151972bbe08582cde22f398e58832765","modified":1596884780717},{"_id":"themes/next/.github/ISSUE_TEMPLATE/non-english.md","hash":"ae22e700b7c63c60746321719a20d34022ad78d9","modified":1596884780717},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"5b688fb1bef2895b53b538519b002c3bc1e8b177","modified":1596884780743},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"7b2963daac19b0c14f98ebef375d5fbce8fc3f44","modified":1596884780744},{"_id":"themes/next/docs/ru/README.md","hash":"d173ce8e009787c74f2042e1e965d8e5f6be1e6d","modified":1596884780745},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"1a4e41adcf5831057f3f7b3025ed4a5ef7c442b4","modified":1596884780746},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"55e21e78c50faa27248c9337bf49c153dad34843","modified":1596884780747},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"1c21127b1a5004e99169fe8bbf5493245f07e843","modified":1596884780748},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"a031c31ae66c3dd947e1663ddf23c11fdb6a118b","modified":1596884780749},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"979b9b49ed2e3181fce9f2dc1c40b5fa8b0eeeed","modified":1596884780750},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"a27aab06239754d193e21d742e82c67eece4d5b7","modified":1596884780751},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"3f3e889b5739c386dfa962d7e85d595b0feb726d","modified":1596884780752},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"85756eb675967f49fdb47befa961da2c8d5e8d02","modified":1596884780753},{"_id":"themes/next/docs/zh-CN/README.md","hash":"888493e26cab8e3aed42242dcd6db27f81b62895","modified":1596884780754},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"599705b5eec03b644f89a92a71705d61701468c9","modified":1596884780755},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"1800020e8221a32dc55f3e29cac5340fdeb2e4b5","modified":1596884780780},{"_id":"themes/next/layout/_macro/post.swig","hash":"ccfde44aed69b742098340ccf9db5dd926009f8b","modified":1596884780781},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"c73ab4e925c32eda3e1d5641a1317e6fcb9431e3","modified":1596884780781},{"_id":"themes/next/layout/_partials/comments.swig","hash":"33e7c276c58285fec3eae31d7eb3fe3faea8695f","modified":1596884780790},{"_id":"themes/next/layout/_partials/footer.swig","hash":"d6221aea6cdf46022e96863e41f75515f7c090d7","modified":1596884780791},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"a687b909d56e3323f5ea3b550bb091793aa9b24c","modified":1596884780817},{"_id":"themes/next/layout/_partials/post-edit.swig","hash":"ada4cf714ff1a85985d2d7c3c24dc0bb023a6d0e","modified":1596884780817},{"_id":"themes/next/layout/_partials/widgets.swig","hash":"33199b1e3fa8990078923a934cb876e0e4787dc1","modified":1596884780834},{"_id":"themes/next/layout/_scripts/index.swig","hash":"1822eaf55bbb4bec88871c324fc18ad95580ccb4","modified":1596884780835},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"b819cc7752fd018b8971cfe61ee7569f49f9d56d","modified":1596884780836},{"_id":"themes/next/layout/_scripts/pjax.swig","hash":"8fb34e38e1721cea547e27a2ced78e473bd385a7","modified":1596884780839},{"_id":"themes/next/layout/_scripts/three.swig","hash":"c4063fb04cb0361d9b00042997e1b99141225f71","modified":1596884780844},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"8c6d8df502193c9945cdae8daeb5629514174619","modified":1596884780845},{"_id":"themes/next/layout/_third-party/baidu-push.swig","hash":"bd9ba0bf60cc3008ee14339fa395ee6af188e879","modified":1596884780851},{"_id":"themes/next/layout/_third-party/facebook-sdk.swig","hash":"340e76643f25fdb4b18a2f94c9169721a912b670","modified":1596884780861},{"_id":"themes/next/layout/_third-party/index.swig","hash":"838dc2cc1f520c5f7b43e3f464188060ae862bd6","modified":1596884780862},{"_id":"themes/next/layout/_third-party/quicklink.swig","hash":"70c3331b04ec204b96cf79751248740c9a42b815","modified":1596884780867},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"206644ff2c769226a58a9039eda9206302460626","modified":1596884780868},{"_id":"themes/next/layout/_third-party/vkontakte-api.swig","hash":"7c918db6e1af16d47789d3958d9ad208ea0e86b2","modified":1596884780876},{"_id":"themes/next/scripts/events/core.js","hash":"b075ef0d0bf28ca1b9ad7606f7eb89b33ab8ae97","modified":1596884780885},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"1a1abfb4a28fbcd9315666e268b0cc56f230a2a2","modified":1596884780899},{"_id":"themes/next/scripts/filters/excerpt.js","hash":"a66d503e52fd6ee2b17d3ac17920d62ca06ebffe","modified":1596884780902},{"_id":"themes/next/scripts/filters/exturl.js","hash":"4911d916f4ba635c9769af97ef885ab9efb5ad37","modified":1596884780903},{"_id":"themes/next/scripts/filters/lazyload.js","hash":"3b68841eebde1e4ac0d19c3e82d6e2b5e7401619","modified":1596884780904},{"_id":"themes/next/scripts/filters/minify.js","hash":"38e76847592de648fe6bdacad3cf7788bb504e7d","modified":1596884780905},{"_id":"themes/next/scripts/helpers/engine.js","hash":"e82d4f2263277f4c08d1f1e072090db0c52929bb","modified":1596884780906},{"_id":"themes/next/scripts/helpers/font.js","hash":"872934a2e31a45284487ab37c61403c8f6d10890","modified":1596884780907},{"_id":"themes/next/scripts/helpers/next-inject.js","hash":"bb61af8b505e0bbb6adf383a5fee04e6407aafbc","modified":1596884780908},{"_id":"themes/next/scripts/helpers/next-js.js","hash":"5a9667e830fd1842c345645fe21eac3ec7363d8c","modified":1596884780909},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"a40ce6bc852bb4bff8b9f984fa064741dd151e96","modified":1596884780910},{"_id":"themes/next/scripts/helpers/next-vendors.js","hash":"8e1a32824d2245c72b5d3cc972c56843e4df01bc","modified":1596884780911},{"_id":"themes/next/scripts/tags/button.js","hash":"39156bf735c1d1ebd0d418c411f14ff4f0acdd75","modified":1596884780912},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"6fbc5764dddca114667f1487120a9ed32519857b","modified":1596884780912},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"4519ab8e6898f2ee90d05cde060375462b937a7d","modified":1596884780913},{"_id":"themes/next/scripts/tags/full-image.js","hash":"6f3ce3cf749a1893da212234cc2c835ee34b9969","modified":1596884780914},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"8e1befa08c07f822f9487978dbd27db60fb700c7","modified":1596884780918},{"_id":"themes/next/scripts/tags/include-raw.js","hash":"9c6363b36bea3f5821656b916d08fcc1ed1eee51","modified":1596884780918},{"_id":"themes/next/scripts/tags/label.js","hash":"fc83f4e1be2c34e81cb79938f4f99973eba1ea60","modified":1596884780918},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"81134494ff0134c0dae1b3815caf6606fccd4e46","modified":1596884780919},{"_id":"themes/next/scripts/tags/note.js","hash":"1fdf4f95810fdb983bfd5ad4c4f13fedd4ea2f8d","modified":1596884780920},{"_id":"themes/next/scripts/tags/pdf.js","hash":"ab995f0fc60d60f637220e2651111b775b8a06de","modified":1596884780922},{"_id":"themes/next/scripts/tags/tabs.js","hash":"72a5adbd8f300bee1d0c289367598ca06b2bed17","modified":1596884780923},{"_id":"themes/next/scripts/tags/video.js","hash":"944293fec96e568d9b09bc1280d5dbc9ee1bbd17","modified":1596884780924},{"_id":"themes/next/source/css/main.styl","hash":"ee7c731c03d724827d9324d08be701c9d2f04c60","modified":1596884781025},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1596884781026},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1596884781027},{"_id":"themes/next/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1596884781028},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1596884781029},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1596884781030},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1596884781031},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1596884781032},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1596884781033},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1596884781034},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1596884781034},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1596884781035},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1596884781036},{"_id":"themes/next/source/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1596884781037},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1596884781038},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1596884781039},{"_id":"themes/next/source/js/algolia-search.js","hash":"f632ff7a404ac4fb04313bc554815406ebcb2a0b","modified":1596884781040},{"_id":"themes/next/source/js/bookmark.js","hash":"1796d7e1bee3061ecb225aaeb372b09744b3b93a","modified":1596884781041},{"_id":"themes/next/source/js/local-search.js","hash":"523ec46c532bd49186d076424054fc10a3ddafd8","modified":1596884781042},{"_id":"themes/next/source/js/motion.js","hash":"6df12bc25f19140c2ea3be345fef2abc4e805813","modified":1596884781043},{"_id":"themes/next/source/js/next-boot.js","hash":"3ff8339f2a8bfd5c41a12b3b891e7b44a7b87bef","modified":1596884781044},{"_id":"themes/next/source/js/utils.js","hash":"de37e165a9b800d5a85c6979546b2614c5d056dd","modified":1596884781048},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/hqmask.png","hash":"5fded205c65170387bd291949607f2d01fd4a7f0","modified":1596884780631},{"_id":"source/_posts/Tips-on-developing-cross-platform-Node-js-application/newline.png","hash":"03412cb26dad50b08f95759ac8d26eef26490d77","modified":1596884780647},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/ArcPaint.png","hash":"056874f2064c9e932355fa0577d36e8546ff168b","modified":1596884780674},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Save.png","hash":"e390de0c21bf3a723c4537f5491f63b424a40145","modified":1596884780681},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1596884780999},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1596884781000},{"_id":"themes/next/layout/_macro/menu/menu-badge.swig","hash":"d2aa948b74fa2863fccca50162669dadde4d09ea","modified":1596884780778},{"_id":"themes/next/layout/_macro/menu/menu-item.swig","hash":"051fe68bdc953a0e70b82dcaeb0d4cbbbfd69eb6","modified":1596884780779},{"_id":"themes/next/layout/_partials/analytics/busuanzi-counter.swig","hash":"805b79fcfff59dbbc2b426deb03ed15c5be11dec","modified":1596884780784},{"_id":"themes/next/layout/_partials/analytics/cnzz-analytics.swig","hash":"53a0760c75d5aaabb3ce8e8aa8e003510d59807f","modified":1596884780785},{"_id":"themes/next/layout/_partials/analytics/firestore.swig","hash":"edeb02d4d56c11536eaed5a8b4705b717f357895","modified":1596884780785},{"_id":"themes/next/layout/_partials/analytics/index.swig","hash":"ec3c1cd6ace7e6a01b490ac323a4e1ec1fa65fd1","modified":1596884780786},{"_id":"themes/next/layout/_partials/analytics/lean-analytics.swig","hash":"035ed7f1670489ef8b9ef13d71ddf28f1fba6e2c","modified":1596884780787},{"_id":"themes/next/layout/_partials/analytics/tencent-analytics.swig","hash":"c7b55198361ffd96b921b37ca90f6adfccf0d391","modified":1596884780788},{"_id":"themes/next/layout/_partials/analytics/tencent-mta.swig","hash":"a2bfea40acc9e18d1cd73edc52df57278b746e81","modified":1596884780789},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"9d69ca5d8436970c0339c4a0932acd3e054f0309","modified":1596884780792},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"13dcdcf008387e5972fb98ef59f5dd3d9440d9e4","modified":1596884780793},{"_id":"themes/next/layout/_partials/header/brand.swig","hash":"f2d35f035e881c5ba304aeb2741f91a4b8b5b33c","modified":1596884780794},{"_id":"themes/next/layout/_partials/header/index.swig","hash":"a991def5f061b955071b893cf57d65ceb5b344a0","modified":1596884780795},{"_id":"themes/next/layout/_partials/header/menu.swig","hash":"7f9fdad8af699958d419c9a9e0a5e722a40264c7","modified":1596884780796},{"_id":"themes/next/layout/_partials/header/sub-menu.swig","hash":"542f00ab9ecfd4728c91687260b0f3d31ae62a31","modified":1596884780797},{"_id":"themes/next/layout/_partials/page/breadcrumb.swig","hash":"3260c630beeecc32ad5f54d741fff9c0d588fb83","modified":1596884780798},{"_id":"themes/next/layout/_partials/page/page-header.swig","hash":"d41897fa8ce9925f97ffe27cfa0f11dc84c2443d","modified":1596884780799},{"_id":"themes/next/layout/_partials/post/post-copyright.swig","hash":"015c84817bac65f641e5da35583638a176363ab1","modified":1596884780819},{"_id":"themes/next/layout/_partials/post/post-footer.swig","hash":"5804cc42bcd5ea6116e62303b96ce31c78f84751","modified":1596884780820},{"_id":"themes/next/layout/_partials/post/post-related.swig","hash":"8b98b31b1ba5a745743828cd916b97e81089c6e6","modified":1596884780821},{"_id":"themes/next/layout/_partials/post/post-reward.swig","hash":"2fa7fa909e4cd24c0f520b856f4e74c43af6314f","modified":1596884780821},{"_id":"themes/next/layout/_partials/post/wechat-subscriber.swig","hash":"6445fffd63c576bada069c9fa520bf0f6019890b","modified":1596884780822},{"_id":"themes/next/layout/_partials/search/algolia-search.swig","hash":"f9017a2deb2f262912476e94822081bb10ee43af","modified":1596884780830},{"_id":"themes/next/layout/_partials/search/index.swig","hash":"f1107c28661370e10e1940bff856f22f14f08518","modified":1596884780831},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"98453ac4a520b2600181fc0331f0067125d0ed4f","modified":1596884780832},{"_id":"themes/next/layout/_partials/sidebar/site-overview.swig","hash":"8d6c6e7d52d0f54a381602dbdcd5aed817350f48","modified":1596884780833},{"_id":"themes/next/layout/_scripts/pages/schedule.swig","hash":"55c4ed80ef05ba76771c586657fdd7e9c6a0913a","modified":1596884780838},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a62c93f19429f159bcf0c2e533ffc619aa399755","modified":1596884780840},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"3c548934b97cc426544947f7a2ae35c270b5e33f","modified":1596884780841},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"0b44f400ec00d2b5add5ee96c11d22465c432376","modified":1596884780842},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"34495d408e8467555afee489500b8aad98c52079","modified":1596884780843},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"48da7e0ff79dcc4e94364fd5a4cec2e8b29e0e30","modified":1596884780847},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"84adaadd83ce447fa9da2cff19006334c9fcbff9","modified":1596884780848},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"146636b4cf5d007627d044bbda14738984824955","modified":1596884780849},{"_id":"themes/next/layout/_third-party/analytics/growingio.swig","hash":"32c8a447e629aea92bcde06ff9500a0016304964","modified":1596884780849},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"8471561b228132f4863177ff5a6579f540a50bb4","modified":1596884780850},{"_id":"themes/next/layout/_third-party/chat/chatra.swig","hash":"e8aa0ba146b658ae3b73efc4ca63325886bbaa2d","modified":1596884780853},{"_id":"themes/next/layout/_third-party/chat/index.swig","hash":"f2d07d655dbd7b8381be36f56204706b897b8eab","modified":1596884780854},{"_id":"themes/next/layout/_third-party/chat/tidio.swig","hash":"fb94ee487d75e484e59b7fba96e989f699ff8a83","modified":1596884780854},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"a7a26afd3118e036621f802bad42c0cbcced9676","modified":1596884780856},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"b20d3f1e8ae5d92b559060d000437c2384663e8f","modified":1596884780857},{"_id":"themes/next/layout/_third-party/comments/disqusjs.swig","hash":"f5aec655aeee0f5b11e62230688cd6a383a3d9d5","modified":1596884780857},{"_id":"themes/next/layout/_third-party/comments/gitalk.swig","hash":"6c886d8aba8ac6e79a4a86576db24e7d5966b28e","modified":1596884780859},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"ef38217a457749e528cf00c487b99cb963ccfbea","modified":1596884780860},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"8151d33c6666ef8b0d7ac9405fe391aeba38938b","modified":1596884780860},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"cf4ed630beec3a7d2b7f74cc97897b596d061a51","modified":1596884780864},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"e00e4ed40ea95d15c4eb81349e86009b69c5ed9d","modified":1596884780865},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"6308f0b295f9255c100800f57660b777f6c9122c","modified":1596884780866},{"_id":"themes/next/layout/_third-party/search/algolia-search.swig","hash":"57f6da9f6f2cc48904ac2eaf266515528395e554","modified":1596884780869},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"db6842138f6172f16a8b767163305a4ef517afe6","modified":1596884780870},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"58296a5c1883f26464c2a5ccf734c19f5fbf395a","modified":1596884780871},{"_id":"themes/next/layout/_third-party/search/swiftype.swig","hash":"aa6ab95b8b76611694613defb4bf25003d1b927f","modified":1596884780872},{"_id":"themes/next/layout/_third-party/tags/index.swig","hash":"78bfe0cff0c32e3a55815808a128cf305d27d3bc","modified":1596884780874},{"_id":"themes/next/layout/_third-party/tags/mermaid.swig","hash":"2aee256fd034da1b59139ba57e0f25d842818611","modified":1596884780875},{"_id":"themes/next/layout/_third-party/tags/pdf.swig","hash":"4f9b27da4f70142e02dfbb48904cbec66620f70c","modified":1596884780875},{"_id":"themes/next/scripts/events/lib/config.js","hash":"4a60d43a4258599083b98016353e8ca2880844d6","modified":1596884780886},{"_id":"themes/next/scripts/events/lib/injects-point.js","hash":"08496b71c9939718e7955704d219e44d7109247b","modified":1596884780887},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"8c7568782083b0d5375b2c8a4c56f82667c2fb2d","modified":1596884780888},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"2f453654631cebbd71642cc55913dbdd2139d61d","modified":1596884780890},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"31a6c8fbdfa16112b0b099727437b9df7641d421","modified":1596884780891},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"f6ca50927b8ed7764974099b11dd1b7a342e2fd3","modified":1596884780892},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"1062049b3990cbc0fc182cb7ab49c1504d4c7233","modified":1596884780893},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"353be438ad0659039fbb0e16e6e5f7c422737e32","modified":1596884780894},{"_id":"themes/next/scripts/filters/comment/facebook-comments-plugin.js","hash":"5ec24848a88d5394012134b345b72c471c894add","modified":1596884780895},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"ff0a8f6b74a426e7bc0a35ded903f3a25f3d18be","modified":1596884780896},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"e842c4d246f2b6b87738ba5731b198d8ebb001a9","modified":1596884780897},{"_id":"themes/next/scripts/filters/comment/valine.js","hash":"6771e3d0da9458c94da49d4ab75d5529af971b38","modified":1596884780898},{"_id":"themes/next/scripts/filters/comment/vkontakte.js","hash":"94b89f35127e288e850cb0654eb9a9662b25c388","modified":1596884780898},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"b58ed9dabc5be0090647d9a0afc43359e1e0e14c","modified":1596884780998},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"1619130f81e091bb9ac43f93814f594dd1739255","modified":1596884781000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"8206e88319642a56019f3ada444d475778d195c9","modified":1596884781001},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"a20af666490c0221634daaa53749fc33162e2355","modified":1596884781021},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"701c69c4a71973fb04aef326c6b3ff0a006a7d28","modified":1596884781022},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"1255cb6bd740c433fcbde2ca5435a5f6eff77a7d","modified":1596884781022},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"1934ee185bc3153c7eacabf232dcaa34d80833e9","modified":1596884781023},{"_id":"themes/next/source/css/_variables/base.styl","hash":"009483da1bb7c9b6c48488ccd0f358fc8518ba34","modified":1596884781024},{"_id":"themes/next/source/js/schemes/muse.js","hash":"dd92ef9668035f496c86ee04f91c6d40481a6d4a","modified":1596884781045},{"_id":"themes/next/source/js/schemes/pisces.js","hash":"010a84abfe793f2ac4df1e510ff0d0290f396bde","modified":1596884781046},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"b4aefc910578d76b267e86dfffdd5121c8db9aec","modified":1596884781050},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1596884781051},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1596884781052},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1596884781052},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1596884781053},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1596884781067},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1596884781068},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/trainsample.png","hash":"dafbf89e7f837ed8b63074bf6545efef35d098fe","modified":1596884780606},{"_id":"themes/next/source/lib/jquery/index.js","hash":"b15f7cfa79519756dff1ad22553fd0ed09024343","modified":1596884781065},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/testSample.png","hash":"c19e03871ebeca801395e183a4fc980a55383844","modified":1596884780604},{"_id":"source/_posts/Making-masks-with-Landsat-8-Quality-Assessment-band-using-Python/maskresult.png","hash":"69cdac0aefd80011982e49d1d84e890968a0384e","modified":1596884780635},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"aab122a95c396ef43ee5a86a92180f5c8644129d","modified":1596884780927},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"72e2e0adca91cb3a371b5e28d67abb7cab82bb4b","modified":1596884780928},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"ca4829bad30a50c87c077d817d9cf09a590e8e3c","modified":1596884780929},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"5772ee6cdc50a9e1a4425d79114d46065babe217","modified":1596884780929},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"202c01a3dc459e2f5bce6a7b5e15a460c8485b77","modified":1596884780932},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"070f4ca0aeb35130323801f24b58e283282d23d8","modified":1596884780949},{"_id":"themes/next/source/css/_common/components/rainbow.styl","hash":"2c79406719469a5db876f0ea03a7b834cec927d5","modified":1596884780963},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"ef19df19d475386fb060dd94670d13f8e924c2c2","modified":1596884780964},{"_id":"themes/next/source/css/_common/components/scrollbar.styl","hash":"ede406ddaf1fb1c930e6923dc193af3c0f5ef03a","modified":1596884780965},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"8b74feba984c847b1e8ffa0baeef74497068507f","modified":1596884780991},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"0d60220323e6e78845af0cf9cdcebf7e5dd009ec","modified":1596884780992},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"3881c910ff43d983b6550d216fe63bc5bdc7bfaa","modified":1596884780993},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"26e5d16a2f720ca0947e5ec7e6cfd88b5d0a61e0","modified":1596884780994},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"0cdd236cce4d1149effd59965be46c98718eefe9","modified":1596884780995},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"17f3134d53d61a3c6ba7aabe77f1adf8697994fa","modified":1596884780996},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"61c096e7b8fa43720fad02573ff2db8b9f7ab965","modified":1596884780997},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"bdffafeb55a1f55bc7ef93c1877203ec6b1a299b","modified":1596884781003},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"392ffe4826761e5e8fc0b5ecd544c312bccb69d9","modified":1596884781005},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"369c6cc457931bd6a06edf82e81ed1a64d14d236","modified":1596884781006},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"c3d2430baa32195ed87c0a68de552b2e58ff9892","modified":1596884781006},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"e76a696903ede4879a4571b92401bb435e2a3d29","modified":1596884781007},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"3babf62eee4d8eeba545fc4b09cb80cc8ddc0d64","modified":1596884781008},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"6dc5149c967765c91edf02f04098dcd010d2a4dc","modified":1596884781009},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"f4210e679c8d7426f26970e03b1b8073644903f5","modified":1596884781010},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"9a7d7502ce394ddeba1773f90bbe19016b0cf0f6","modified":1596884781011},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"dc4ab584198a1b43a09cdbad7cfecae185ab7d6f","modified":1596884781012},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"4dc216cb9f1c12bf7720012fd24e126ef6a4eca7","modified":1596884781013},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"92e92055eedb4efde7cbad488fb1ea5c64a02692","modified":1596884781014},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"55a1e7deda42cb3318d1e19b904c9c91891659f3","modified":1596884781015},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"18d3c825d9fd4266e1973ef330ddf5c0cce987e8","modified":1596884781016},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"3b1cc9c5c17ab917134d2222aafb1cb8a25f238b","modified":1596884781017},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"c690e433b9ecb0c37b1dfc287c00beb0bab69400","modified":1596884781018},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"bb9eccf60ad2385af141f5d8aac7ba24a9047a86","modified":1596884781019},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"e71fcda9d45aa34075451c6d8458249f2be889ae","modified":1596884781019},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"3655f1fdf1e584c4d8e8d39026093ca306a5a341","modified":1596884781055},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1596884781056},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"88af80502c44cd52ca81ffe7dc7276b7eccb06cf","modified":1596884781057},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1596884781062},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1596884781063},{"_id":"source/_posts/Celebrating-the-1-000-data-portals-at-OpenDataDiscovery-org/region-map.png","hash":"4fb74ad0a48d766694bbcacec8402d3f82138099","modified":1596884780597},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"89e82c1583ebcc1c4648e7f5dbf1e1be6710d197","modified":1596884780933},{"_id":"themes/next/source/css/_common/components/header/bookmark.styl","hash":"f7977cfacaca9db6fab4d154486ad57ec4b0fde9","modified":1596884780934},{"_id":"themes/next/source/css/_common/components/header/github-banner.styl","hash":"52324ad6efc43afb2eacacebab36bef92eb8d0d1","modified":1596884780935},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"fa32e72b66071cf9917bfaaf283b8d1cb31edc6c","modified":1596884780936},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"6d5f26646e2914474f295de8bf6dc327d4acd529","modified":1596884780937},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"1e02b737b8a084fc30dbbaa08517e6995dbd8c72","modified":1596884780938},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"09e8b46568d84b12c41b3151f2ab00cd342f3ac5","modified":1596884780938},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"c09e7437b862025ebf5402dbba4bf5c4ba3883ab","modified":1596884780939},{"_id":"themes/next/source/css/_common/components/highlight/copy-code.styl","hash":"c123994648e5d571b28cbb4b016faf4a2525c436","modified":1596884780941},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"83bd737f663a8461e66985af8ddbfc0a731fc939","modified":1596884780942},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"0fff836ab890ba14cd5ac0e1f93bfe755b7e2eab","modified":1596884780943},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"33125c539f19ea932d3576fd99dbebf6caccc617","modified":1596884780944},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"236a039b0900f4267de566b46f62314ad967d30f","modified":1596884780945},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"18edddb2ffb3f85a68e4367f81e06c461e07bc25","modified":1596884780946},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"6cf78a379bb656cc0abb4ab80fcae60152ce41ad","modified":1596884780947},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"757db8087e72b7affa021083a68426f5f62ceffe","modified":1596884780948},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"a22c639cdf1073c9d060af62233125991ddf4dd5","modified":1596884780949},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"62fbbd32cf5a99ae550c45c763a2c4813a138d01","modified":1596884780951},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"4e21017c56455e0e04452c45935b5a3d05d0ede0","modified":1596884780952},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"da524632dc1a5848b77dd22bf1bfab8b45cee248","modified":1596884780952},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"9cf76f80cfdb984ff65a78ffc7b41d7a997df630","modified":1596884780953},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"a5ef170128ab8bc9c0336d6d8d082a97f677563e","modified":1596884780954},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"e8b5b1027ec40d6e58b147aa32d61929684a5a44","modified":1596884780955},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"08bf0856710d306134c7929a4a79407c18a8e4fb","modified":1596884780956},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"bb1cdbe39d9948474f80d0915ac9cf9cf63fbe7f","modified":1596884780957},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"cb45887618c4e7e630d7a04b73fb1101af2d48c2","modified":1596884780958},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"09dda2667628d1f91b2e37d8fc6df1413f961b64","modified":1596884780959},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"ebf03782c04d492fb3b0160832cdc103db508e6c","modified":1596884780960},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"9e872745322ae0f1cc6ad1675ee0db18da2bd9c8","modified":1596884780960},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"c2c4800408fde729290ea6c47fe62e46582fe512","modified":1596884780961},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"225ee39193a9a9211c0f355b85db126fb1b5c986","modified":1596884780962},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"c6eabc2676fd7d5eded568cebb8a529ac4e9227a","modified":1596884780966},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"bfbb2b8dfceb79c5adcc31338f9cc8efdd3c1bc6","modified":1596884780967},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"00b2055f170e54267321d27118e0a7f07d10890b","modified":1596884780970},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-button.styl","hash":"49d3729a0f93fc5b9f899b5c45eef569f4d84cee","modified":1596884780971},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"229a254f9079f8c840c955198b54db554d1e56c5","modified":1596884780972},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"f3d00c8b1dfff26ed4075e04de17ddaf190d9bfb","modified":1596884780973},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"aa1c08abde2a4cb01906eb5313d5b3b3ee586bfe","modified":1596884780974},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"b0b7f04347f2bf8d58752c6cdcd11df40ec73575","modified":1596884780975},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"7643e053bd0cc24d8832434d2d2667f1d3c9d4db","modified":1596884780975},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"92fbaa079a46242d2f654ac62b9621057ebeda28","modified":1596884780976},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"2d4af920d3476a00b0bf3ef8d6ec30388f3014da","modified":1596884780979},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"e36e186e4fe506bfdb3b7eb62f058ee28d73adc2","modified":1596884780980},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"919d996ffc05c0ffd4bd308c3bea6980ddd123a5","modified":1596884780981},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"581faf00b971212c8d8e20059cb4dee8d9d24296","modified":1596884780982},{"_id":"themes/next/source/css/_common/components/tags/pdf.styl","hash":"c9337e837f10c5f40c27a0c0a012f39dfadc7572","modified":1596884780983},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"7a335fd51a488d70ba26a4b905fc28c0ec10452c","modified":1596884780984},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"51d46fa3c7c6b691c61a2c2b0ac005c97cfbf72b","modified":1596884780985},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"b87f4a06c0db893df4f756f24be182e1a4751f24","modified":1596884780986},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"6880467b4f6d7b057fb8291aa10966429a0a3bff","modified":1596884780987},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"5f1c6d1d7ad071c5f947aaaa7b4a458512f17111","modified":1596884780988},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"5b25021264f917b353f820d88be09b815972f910","modified":1596884780989},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"712800d40ed5a7247f760acda41aceb081e1cfa0","modified":1596884780990},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1596884781061},{"_id":"source/_posts/The-Launch-of-OpenDataDiscovery.org/map.png","hash":"6129dfe258e3e1703cc652105ff1189bf4970034","modified":1596884780642},{"_id":"source/_posts/Boundary-Now-a-simple-tool-to-extract-OSM-place-boundaries/boundary-now.png","hash":"0e3909b5c7669e04982cdbabff7c4b6cd22af04b","modified":1596884780591},{"_id":"source/_posts/Work-Life-2016/trait.jpg","hash":"cbd6dbbcd221690863164f087d07261ecea5de08","modified":1596884780669}],"Category":[{"name":"AWS","_id":"ckirpyfgp00060055e83pxmme"},{"name":"GIS","_id":"ckirpyfgx000b0055wwli8kwg"},{"name":"Project","_id":"ckirpyfh3000g0055cppdmq10"},{"name":"Open Data","_id":"ckirpyfhu001b0055p4hov0r8"},{"name":"Programming","_id":"ckirpyfi2001k0055v0v9exdm"},{"name":"Life","_id":"ckirpyfi9001t0055ykjpagvv"}],"Data":[],"Page":[{"title":"all-categories","layout":"all-categories","_content":"","source":"all-categories/index.md","raw":"title: \"all-categories\"\nlayout: \"all-categories\"\n---\n","date":"2020-08-08T11:06:20.703Z","updated":"2020-08-08T11:06:20.703Z","path":"all-categories/index.html","comments":1,"_id":"ckirpyfgd00010055fn1twp6k","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"","more":""},{"title":"all-archives","layout":"all-archives","_content":"","source":"all-archives/index.md","raw":"title: \"all-archives\"\nlayout: \"all-archives\"\n---\n","date":"2020-08-08T11:06:20.702Z","updated":"2020-08-08T11:06:20.702Z","path":"all-archives/index.html","comments":1,"_id":"ckirpyfgi00030055etx06o2u","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"","more":""},{"title":"all-tags","layout":"all-tags","_content":"","source":"all-tags/index.md","raw":"title: \"all-tags\"\nlayout: \"all-tags\"\n---\n","date":"2020-08-08T11:06:20.705Z","updated":"2020-08-08T11:06:20.705Z","path":"all-tags/index.html","comments":1,"_id":"ckirpyfgn00050055boq36taj","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"_content":"Note on the keynote of 25th GIS/SIG annual conference\n=====================================================\n\nIn today's [GIS/SIG annual conference (Pittsford, NY)](http://gis-sig.org/conference/), the very impressive keynote is given by Steve Coast, known as the founder of [OpenStreetMap](http://www.openstreetmap.org). In this keynote *The Past, Present, and Future of OpenStreetMap*, Steve shares the exciting history of OpenStreetMap's rapid growth and discussed the theory behind the open map's success.\n\nClose Map vs. Open Map\n----------------------\n\nThe story of OpenStreetMap dates back to the mid-2000, when the printed map was still the mainstream and the close source online map started to emerge. Like many startup stories today, the idea of map created by everyone was because of Steve's dissatisfaction of this or that problem of the existing products.\n\nAlthough publishing the map on the web had pushed the convenience of usage a lot, it just changed the way of publicaition and did inherited many problems originated from printed map. And Steve simply listed three with his own experience.\n\nThe first one was about the quantity and quality of map data. I am sure most GIS people aren't unfamiliar with this problem since we are spending our whole career life on looking for high quality data: whether they exist, how is the quality, and how to deliver. At the time when OpenStreetMap was just established, there was on publicly available (and very affordable) road network data in the western Europe and not to mention those developing countries.\n\nThe second problem is about the update frequency of map data. Steve told a very funny about the Yahoo! Map and a bridge washed away by flood. Guess how long did Yahoo! Map to update the map: 6 month to confirm the accident + 6 month to validate and publish data = 1 year in which noboday could route to the right way.\n\n**There is a bridge on the Yahoo! Map! It must exist! (well, in fact not)**\n\nThe third problem was the copyright of map data. Like a secret convention of mapping industry, many map producers would add some unrealistic map markers (e.g faked roads) to identify their products. These markers were usually placed to some generally unnoticed places. But as man itself is pretty unpredictable, there were always people living beyond the 'general thinking' and affected by these faked markers for copyright.\n\nInspired by the Wikipedia, the OpenStreetMap aimed to the revisable open map data created by everyone. The OpenStreetMap at the earliest day was actually awful compared to all existing products. Just image the first contributor in Europe started from nothing but the coast line.\n\n![user count](http://wiki.openstreetmap.org/w/images/thumb/7/79/Osmdbstats1_users.png/800px-Osmdbstats1_users.png)\n\nAs OpenStreetMap's user increased rapidly, the visible data on the map increased rapidly as well. On the other handle, the more complete data was attracting more people to use and contribute to the map.\n\n<iframe src=\"https://player.vimeo.com/video/51341994\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><p><a href=\"https://vimeo.com/51341994\">US edits to OpenStreetMap 2007-2012</a> from <a href=\"https://vimeo.com/itoworld\">ItoWorld</a> on <a href=\"https://vimeo.com\">Vimeo</a>.</p>\n\nTheory of Innovation\n--------------------\n\nOK, so what made the OpenStreetMap so successful?\n\nSteve concluded it in the following three points:\n\n-\tFun. OpenStreetMap tries hard to make the mapping more friendly and have more fun. (and then more addictive!!!)\n\n-\tEasy.\n\nNext Map?\n---------\n","source":"_drafts/note.md","raw":"Note on the keynote of 25th GIS/SIG annual conference\n=====================================================\n\nIn today's [GIS/SIG annual conference (Pittsford, NY)](http://gis-sig.org/conference/), the very impressive keynote is given by Steve Coast, known as the founder of [OpenStreetMap](http://www.openstreetmap.org). In this keynote *The Past, Present, and Future of OpenStreetMap*, Steve shares the exciting history of OpenStreetMap's rapid growth and discussed the theory behind the open map's success.\n\nClose Map vs. Open Map\n----------------------\n\nThe story of OpenStreetMap dates back to the mid-2000, when the printed map was still the mainstream and the close source online map started to emerge. Like many startup stories today, the idea of map created by everyone was because of Steve's dissatisfaction of this or that problem of the existing products.\n\nAlthough publishing the map on the web had pushed the convenience of usage a lot, it just changed the way of publicaition and did inherited many problems originated from printed map. And Steve simply listed three with his own experience.\n\nThe first one was about the quantity and quality of map data. I am sure most GIS people aren't unfamiliar with this problem since we are spending our whole career life on looking for high quality data: whether they exist, how is the quality, and how to deliver. At the time when OpenStreetMap was just established, there was on publicly available (and very affordable) road network data in the western Europe and not to mention those developing countries.\n\nThe second problem is about the update frequency of map data. Steve told a very funny about the Yahoo! Map and a bridge washed away by flood. Guess how long did Yahoo! Map to update the map: 6 month to confirm the accident + 6 month to validate and publish data = 1 year in which noboday could route to the right way.\n\n**There is a bridge on the Yahoo! Map! It must exist! (well, in fact not)**\n\nThe third problem was the copyright of map data. Like a secret convention of mapping industry, many map producers would add some unrealistic map markers (e.g faked roads) to identify their products. These markers were usually placed to some generally unnoticed places. But as man itself is pretty unpredictable, there were always people living beyond the 'general thinking' and affected by these faked markers for copyright.\n\nInspired by the Wikipedia, the OpenStreetMap aimed to the revisable open map data created by everyone. The OpenStreetMap at the earliest day was actually awful compared to all existing products. Just image the first contributor in Europe started from nothing but the coast line.\n\n![user count](http://wiki.openstreetmap.org/w/images/thumb/7/79/Osmdbstats1_users.png/800px-Osmdbstats1_users.png)\n\nAs OpenStreetMap's user increased rapidly, the visible data on the map increased rapidly as well. On the other handle, the more complete data was attracting more people to use and contribute to the map.\n\n<iframe src=\"https://player.vimeo.com/video/51341994\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><p><a href=\"https://vimeo.com/51341994\">US edits to OpenStreetMap 2007-2012</a> from <a href=\"https://vimeo.com/itoworld\">ItoWorld</a> on <a href=\"https://vimeo.com\">Vimeo</a>.</p>\n\nTheory of Innovation\n--------------------\n\nOK, so what made the OpenStreetMap so successful?\n\nSteve concluded it in the following three points:\n\n-\tFun. OpenStreetMap tries hard to make the mapping more friendly and have more fun. (and then more addictive!!!)\n\n-\tEasy.\n\nNext Map?\n---------\n","slug":"note","published":0,"date":"2020-12-16T16:51:47.915Z","updated":"2020-08-08T11:06:20.574Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfg800000055nrzy7fc1","content":"<h1 id=\"Note-on-the-keynote-of-25th-GIS-SIG-annual-conference\"><a href=\"#Note-on-the-keynote-of-25th-GIS-SIG-annual-conference\" class=\"headerlink\" title=\"Note on the keynote of 25th GIS/SIG annual conference\"></a>Note on the keynote of 25th GIS/SIG annual conference</h1><p>In todays <a href=\"http://gis-sig.org/conference/\" target=\"_blank\" rel=\"noopener\">GIS/SIG annual conference (Pittsford, NY)</a>, the very impressive keynote is given by Steve Coast, known as the founder of <a href=\"http://www.openstreetmap.org\" target=\"_blank\" rel=\"noopener\">OpenStreetMap</a>. In this keynote <em>The Past, Present, and Future of OpenStreetMap</em>, Steve shares the exciting history of OpenStreetMaps rapid growth and discussed the theory behind the open maps success.</p><h2 id=\"Close-Map-vs-Open-Map\"><a href=\"#Close-Map-vs-Open-Map\" class=\"headerlink\" title=\"Close Map vs. Open Map\"></a>Close Map vs. Open Map</h2><p>The story of OpenStreetMap dates back to the mid-2000, when the printed map was still the mainstream and the close source online map started to emerge. Like many startup stories today, the idea of map created by everyone was because of Steves dissatisfaction of this or that problem of the existing products.</p><p>Although publishing the map on the web had pushed the convenience of usage a lot, it just changed the way of publicaition and did inherited many problems originated from printed map. And Steve simply listed three with his own experience.</p><p>The first one was about the quantity and quality of map data. I am sure most GIS people arent unfamiliar with this problem since we are spending our whole career life on looking for high quality data: whether they exist, how is the quality, and how to deliver. At the time when OpenStreetMap was just established, there was on publicly available (and very affordable) road network data in the western Europe and not to mention those developing countries.</p><p>The second problem is about the update frequency of map data. Steve told a very funny about the Yahoo! Map and a bridge washed away by flood. Guess how long did Yahoo! Map to update the map: 6 month to confirm the accident + 6 month to validate and publish data = 1 year in which noboday could route to the right way.</p><p><strong>There is a bridge on the Yahoo! Map! It must exist! (well, in fact not)</strong></p><p>The third problem was the copyright of map data. Like a secret convention of mapping industry, many map producers would add some unrealistic map markers (e.g faked roads) to identify their products. These markers were usually placed to some generally unnoticed places. But as man itself is pretty unpredictable, there were always people living beyond the general thinking and affected by these faked markers for copyright.</p><p>Inspired by the Wikipedia, the OpenStreetMap aimed to the revisable open map data created by everyone. The OpenStreetMap at the earliest day was actually awful compared to all existing products. Just image the first contributor in Europe started from nothing but the coast line.</p><p><img src=\"http://wiki.openstreetmap.org/w/images/thumb/7/79/Osmdbstats1_users.png/800px-Osmdbstats1_users.png\" alt=\"user count\"></p><p>As OpenStreetMaps user increased rapidly, the visible data on the map increased rapidly as well. On the other handle, the more complete data was attracting more people to use and contribute to the map.</p><iframe src=\"https://player.vimeo.com/video/51341994\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe><p><a href=\"https://vimeo.com/51341994\" target=\"_blank\" rel=\"noopener\">US edits to OpenStreetMap 2007-2012</a> from <a href=\"https://vimeo.com/itoworld\" target=\"_blank\" rel=\"noopener\">ItoWorld</a> on <a href=\"https://vimeo.com\" target=\"_blank\" rel=\"noopener\">Vimeo</a>.</p><h2 id=\"Theory-of-Innovation\"><a href=\"#Theory-of-Innovation\" class=\"headerlink\" title=\"Theory of Innovation\"></a>Theory of Innovation</h2><p>OK, so what made the OpenStreetMap so successful?</p><p>Steve concluded it in the following three points:</p><ul><li><p>Fun. OpenStreetMap tries hard to make the mapping more friendly and have more fun. (and then more addictive!!!)</p></li><li><p>Easy.</p></li></ul><h2 id=\"Next-Map\"><a href=\"#Next-Map\" class=\"headerlink\" title=\"Next Map?\"></a>Next Map?</h2><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Note-on-the-keynote-of-25th-GIS-SIG-annual-conference\"><a href=\"#Note-on-the-keynote-of-25th-GIS-SIG-annual-conference\" class=\"headerlink\" title=\"Note on the keynote of 25th GIS/SIG annual conference\"></a>Note on the keynote of 25th GIS/SIG annual conference</h1><p>In todays <a href=\"http://gis-sig.org/conference/\" target=\"_blank\" rel=\"noopener\">GIS/SIG annual conference (Pittsford, NY)</a>, the very impressive keynote is given by Steve Coast, known as the founder of <a href=\"http://www.openstreetmap.org\" target=\"_blank\" rel=\"noopener\">OpenStreetMap</a>. In this keynote <em>The Past, Present, and Future of OpenStreetMap</em>, Steve shares the exciting history of OpenStreetMaps rapid growth and discussed the theory behind the open maps success.</p><h2 id=\"Close-Map-vs-Open-Map\"><a href=\"#Close-Map-vs-Open-Map\" class=\"headerlink\" title=\"Close Map vs. Open Map\"></a>Close Map vs. Open Map</h2><p>The story of OpenStreetMap dates back to the mid-2000, when the printed map was still the mainstream and the close source online map started to emerge. Like many startup stories today, the idea of map created by everyone was because of Steves dissatisfaction of this or that problem of the existing products.</p><p>Although publishing the map on the web had pushed the convenience of usage a lot, it just changed the way of publicaition and did inherited many problems originated from printed map. And Steve simply listed three with his own experience.</p><p>The first one was about the quantity and quality of map data. I am sure most GIS people arent unfamiliar with this problem since we are spending our whole career life on looking for high quality data: whether they exist, how is the quality, and how to deliver. At the time when OpenStreetMap was just established, there was on publicly available (and very affordable) road network data in the western Europe and not to mention those developing countries.</p><p>The second problem is about the update frequency of map data. Steve told a very funny about the Yahoo! Map and a bridge washed away by flood. Guess how long did Yahoo! Map to update the map: 6 month to confirm the accident + 6 month to validate and publish data = 1 year in which noboday could route to the right way.</p><p><strong>There is a bridge on the Yahoo! Map! It must exist! (well, in fact not)</strong></p><p>The third problem was the copyright of map data. Like a secret convention of mapping industry, many map producers would add some unrealistic map markers (e.g faked roads) to identify their products. These markers were usually placed to some generally unnoticed places. But as man itself is pretty unpredictable, there were always people living beyond the general thinking and affected by these faked markers for copyright.</p><p>Inspired by the Wikipedia, the OpenStreetMap aimed to the revisable open map data created by everyone. The OpenStreetMap at the earliest day was actually awful compared to all existing products. Just image the first contributor in Europe started from nothing but the coast line.</p><p><img src=\"http://wiki.openstreetmap.org/w/images/thumb/7/79/Osmdbstats1_users.png/800px-Osmdbstats1_users.png\" alt=\"user count\"></p><p>As OpenStreetMaps user increased rapidly, the visible data on the map increased rapidly as well. On the other handle, the more complete data was attracting more people to use and contribute to the map.</p><iframe src=\"https://player.vimeo.com/video/51341994\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><p><a href=\"https://vimeo.com/51341994\" target=\"_blank\" rel=\"noopener\">US edits to OpenStreetMap 2007-2012</a> from <a href=\"https://vimeo.com/itoworld\" target=\"_blank\" rel=\"noopener\">ItoWorld</a> on <a href=\"https://vimeo.com\" target=\"_blank\" rel=\"noopener\">Vimeo</a>.</p><h2 id=\"Theory-of-Innovation\"><a href=\"#Theory-of-Innovation\" class=\"headerlink\" title=\"Theory of Innovation\"></a>Theory of Innovation</h2><p>OK, so what made the OpenStreetMap so successful?</p><p>Steve concluded it in the following three points:</p><ul><li><p>Fun. OpenStreetMap tries hard to make the mapping more friendly and have more fun. (and then more addictive!!!)</p></li><li><p>Easy.</p></li></ul><h2 id=\"Next-Map\"><a href=\"#Next-Map\" class=\"headerlink\" title=\"Next Map?\"></a>Next Map?</h2>"},{"title":"AWS ECS continuous deployment with Travis CI","date":"2018-03-18T21:00:00.000Z","updated":"2018-04-21T21:00:00.000Z","_content":"\nThis article discusses how to build a continuous deployment pipeline for an [AWS ECS](https://aws.amazon.com/ecs/) application using [Travis CI](https://travis-ci.org).\n\n<!-- more -->\n\n## Problem\n\nDeploying a docker-base application to the AWS ECS is a tedious task. It requires to push the image to an image repository, create a new task definition with that image, and update the service with the new definition. It is quick but repetitive.\n\nIn large organizations that have rapid deployment cycles, such tasks are usually taken care by CI/CD pipelines, like [Jenkins](https://jenkins.io/index.html). But for a personal side projecthttps://jenkins.io/index.html, a dedicated CI/CD system is not affordable and it is an overkill lto use\n\n[Travis CI](https://travis-ci.org) is a continuous deployment service that provides free integration and service with public GitHub repositories. If you develop an open-source project at GitHub and add a `.travis.yml` file, Travis CI can connect with the repository and react to any code change.\n\nThis article assumes you have basic knowledge on AWS ECS and Travis CI.\n\n## Script Deployment in Travis CI\n\nThe requirement of the continuous deployment to AWS ECS is simple. Every time a pull request to the master branch is merged, the Travis CI should be noticed and perform the continuous deployment.\n\nThe deployment to AWS ECS requires custom operations and it is not automated by the Travis CI yet. To support sophisticated deployment operations, the Travis CI provides [Script Deployment](https://docs.travis-ci.com/user/deployment/script/) and it allows the developer to execute a specified script for deployment.\n\nIt can be activated by adding a new `deploy` section in the `.travis.yml` file in the project repository.\n\n``` yaml\n# deployment section in the .travis.yml\ndeploy:\n  provider: script\n  # specify the deployment script\n  script: bash deploy.sh\n  # specify to deploy with code change a given branch\n  on:\n    branch: develop\n```\n\n## Deployment Script\n\nThe next step is to define tasks for the deployment. We would like to define more repetitive tasks for the Travis CI and leave the most important action to the developer, like clicking the `Merge` button at the GitHub PR.\n\nSpecifically, these steps are required:\n\n1. build the docker image from the source code\n2. tag the docker image as `latest`\n3. push the docker image to an image repository\n4. update the AWS ECS application with the new image\n\nThe first three steps could be done with the [docker CLI](https://docs.docker.com/engine/reference/commandline/cli/). The fourth step actually includes many interactions with AWS, but a very nice library called [ecs-deploy](https://github.com/silinternational/ecs-deploy) could do all things with one line of command!\n\n``` bash\n# install AWS SDK\npip install --user awscli\nexport PATH=$PATH:$HOME/.local/bin\n\n# install necessary dependency for ecs-deploy\nadd-apt-repository ppa:eugenesan/ppa\napt-get update\napt-get install jq -y\n\n# install ecs-deploy\ncurl https://raw.githubusercontent.com/silinternational/ecs-deploy/master/ecs-deploy | \\\n  sudo tee -a /usr/bin/ecs-deploy\nsudo chmod +x /usr/bin/ecs-deploy\n\n# login AWS ECR\neval $(aws ecr get-login --region us-east-1)\n\n# or login DockerHub\n# docker login --username $DOCKER_HUB_USER --password $DOCKER_HUB_PSW\n\n# build the docker image and push to an image repository\ndocker build -t haoliangyu/ecs-auto-deploy .\ndocker tag haoliangyu/ecs-auto-deploy:latest $IMAGE_REPO_URL:latest\ndocker push $IMAGE_REPO_URL:latest\n\n# update an AWS ECS service with the new image\necs-deploy -c $CLUSTER_NAME -n $SERVICE_NAME -i $IMAGE_REPO_URL:latest\n```\n\nAll `$VARIABLE_NAME` in the deployment script refer to an environment variable. Except `PATH` and `HOME`, which are provided by the operation system, you should provide the rest of them:\n\n  * `IMAGE_REPO_URL` is the url of a docker image repository. It could be [DockerHub](https://hub.docker.com/) repository name or [AWS ECR](https://aws.amazon.com/ecr) repository url, or any other.\n  * `CLUSTER_NAME` is the name of the running ECS cluster.\n  * `SERVICE_NAME` is the name of the running ECS service.\n\nThese values could be hard-coded, but using an environment variable makes the script more secure and portable.\n\nNote that `ecs-deploy` deploys to an existing ECS service. If the specified service is not created, it will not try to new one and throw an error instead.\n\n## Continuous Deployment\n\nWith the deployment script discussed above, we can write the Travis CI configuration `.travis.yml`.\n\n``` yaml\n# I am using a nodejs for my demo application\nlanguage: node_js\nnode_js:\n  - \"node\"\n\n# include the docker service so that we can use the docker command in\n# the deployment script\nservices:\n  - docker\n\n# same as the official documentation\ndeploy:\n  provider: script\n  script: bash deploy.sh\n  on:\nbranch: master\n```\n\nThe configuration is pretty much the same as the one from the documentation. It requires the `docker` service for the docker command line tool.\n\nThen you should add required environment variables in the `Settings` page of the Travis repository. Additionally, `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`, and `AWS_DEFAULT_REGION` are needed to help accessing AWS.\n\n{% asset_img travis-env.png This is an example image %}\n\n## Final\n\nWow, you are done here :tada: With this setting, you will have a continuous deployment pipeline that reacts to any PR merged into the master branch. And it deploys :-)\n\n{% asset_img travis-deploy.png This is an example image %}\n\nThank you for reading this blog post. All code in this post could be found in this [GitHub repository](https://github.com/haoliangyu/ecs-auto-deploy) (:star: it if it helps) and it is [working](https://travis-ci.org/haoliangyu/ecs-auto-deploy).\n","source":"_posts/AWS-ECS-auto-deployment-with-Travis-CI.md","raw":"---\ntitle: AWS ECS continuous deployment with Travis CI\ndate: 2018-03-19\nupdated: 2018-04-22\ncategories:\n- AWS\ntags:\n- aws\n- ci\n- deloyment\n---\n\nThis article discusses how to build a continuous deployment pipeline for an [AWS ECS](https://aws.amazon.com/ecs/) application using [Travis CI](https://travis-ci.org).\n\n<!-- more -->\n\n## Problem\n\nDeploying a docker-base application to the AWS ECS is a tedious task. It requires to push the image to an image repository, create a new task definition with that image, and update the service with the new definition. It is quick but repetitive.\n\nIn large organizations that have rapid deployment cycles, such tasks are usually taken care by CI/CD pipelines, like [Jenkins](https://jenkins.io/index.html). But for a personal side projecthttps://jenkins.io/index.html, a dedicated CI/CD system is not affordable and it is an overkill lto use\n\n[Travis CI](https://travis-ci.org) is a continuous deployment service that provides free integration and service with public GitHub repositories. If you develop an open-source project at GitHub and add a `.travis.yml` file, Travis CI can connect with the repository and react to any code change.\n\nThis article assumes you have basic knowledge on AWS ECS and Travis CI.\n\n## Script Deployment in Travis CI\n\nThe requirement of the continuous deployment to AWS ECS is simple. Every time a pull request to the master branch is merged, the Travis CI should be noticed and perform the continuous deployment.\n\nThe deployment to AWS ECS requires custom operations and it is not automated by the Travis CI yet. To support sophisticated deployment operations, the Travis CI provides [Script Deployment](https://docs.travis-ci.com/user/deployment/script/) and it allows the developer to execute a specified script for deployment.\n\nIt can be activated by adding a new `deploy` section in the `.travis.yml` file in the project repository.\n\n``` yaml\n# deployment section in the .travis.yml\ndeploy:\n  provider: script\n  # specify the deployment script\n  script: bash deploy.sh\n  # specify to deploy with code change a given branch\n  on:\n    branch: develop\n```\n\n## Deployment Script\n\nThe next step is to define tasks for the deployment. We would like to define more repetitive tasks for the Travis CI and leave the most important action to the developer, like clicking the `Merge` button at the GitHub PR.\n\nSpecifically, these steps are required:\n\n1. build the docker image from the source code\n2. tag the docker image as `latest`\n3. push the docker image to an image repository\n4. update the AWS ECS application with the new image\n\nThe first three steps could be done with the [docker CLI](https://docs.docker.com/engine/reference/commandline/cli/). The fourth step actually includes many interactions with AWS, but a very nice library called [ecs-deploy](https://github.com/silinternational/ecs-deploy) could do all things with one line of command!\n\n``` bash\n# install AWS SDK\npip install --user awscli\nexport PATH=$PATH:$HOME/.local/bin\n\n# install necessary dependency for ecs-deploy\nadd-apt-repository ppa:eugenesan/ppa\napt-get update\napt-get install jq -y\n\n# install ecs-deploy\ncurl https://raw.githubusercontent.com/silinternational/ecs-deploy/master/ecs-deploy | \\\n  sudo tee -a /usr/bin/ecs-deploy\nsudo chmod +x /usr/bin/ecs-deploy\n\n# login AWS ECR\neval $(aws ecr get-login --region us-east-1)\n\n# or login DockerHub\n# docker login --username $DOCKER_HUB_USER --password $DOCKER_HUB_PSW\n\n# build the docker image and push to an image repository\ndocker build -t haoliangyu/ecs-auto-deploy .\ndocker tag haoliangyu/ecs-auto-deploy:latest $IMAGE_REPO_URL:latest\ndocker push $IMAGE_REPO_URL:latest\n\n# update an AWS ECS service with the new image\necs-deploy -c $CLUSTER_NAME -n $SERVICE_NAME -i $IMAGE_REPO_URL:latest\n```\n\nAll `$VARIABLE_NAME` in the deployment script refer to an environment variable. Except `PATH` and `HOME`, which are provided by the operation system, you should provide the rest of them:\n\n  * `IMAGE_REPO_URL` is the url of a docker image repository. It could be [DockerHub](https://hub.docker.com/) repository name or [AWS ECR](https://aws.amazon.com/ecr) repository url, or any other.\n  * `CLUSTER_NAME` is the name of the running ECS cluster.\n  * `SERVICE_NAME` is the name of the running ECS service.\n\nThese values could be hard-coded, but using an environment variable makes the script more secure and portable.\n\nNote that `ecs-deploy` deploys to an existing ECS service. If the specified service is not created, it will not try to new one and throw an error instead.\n\n## Continuous Deployment\n\nWith the deployment script discussed above, we can write the Travis CI configuration `.travis.yml`.\n\n``` yaml\n# I am using a nodejs for my demo application\nlanguage: node_js\nnode_js:\n  - \"node\"\n\n# include the docker service so that we can use the docker command in\n# the deployment script\nservices:\n  - docker\n\n# same as the official documentation\ndeploy:\n  provider: script\n  script: bash deploy.sh\n  on:\nbranch: master\n```\n\nThe configuration is pretty much the same as the one from the documentation. It requires the `docker` service for the docker command line tool.\n\nThen you should add required environment variables in the `Settings` page of the Travis repository. Additionally, `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`, and `AWS_DEFAULT_REGION` are needed to help accessing AWS.\n\n{% asset_img travis-env.png This is an example image %}\n\n## Final\n\nWow, you are done here :tada: With this setting, you will have a continuous deployment pipeline that reacts to any PR merged into the master branch. And it deploys :-)\n\n{% asset_img travis-deploy.png This is an example image %}\n\nThank you for reading this blog post. All code in this post could be found in this [GitHub repository](https://github.com/haoliangyu/ecs-auto-deploy) (:star: it if it helps) and it is [working](https://travis-ci.org/haoliangyu/ecs-auto-deploy).\n","slug":"AWS-ECS-auto-deployment-with-Travis-CI","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfgg00020055l4h0z1xj","content":"<p>This article discusses how to build a continuous deployment pipeline for an <a href=\"https://aws.amazon.com/ecs/\" target=\"_blank\" rel=\"noopener\">AWS ECS</a> application using <a href=\"https://travis-ci.org\" target=\"_blank\" rel=\"noopener\">Travis CI</a>.</p><a id=\"more\"></a><h2 id=\"Problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h2><p>Deploying a docker-base application to the AWS ECS is a tedious task. It requires to push the image to an image repository, create a new task definition with that image, and update the service with the new definition. It is quick but repetitive.</p><p>In large organizations that have rapid deployment cycles, such tasks are usually taken care by CI/CD pipelines, like <a href=\"https://jenkins.io/index.html\" target=\"_blank\" rel=\"noopener\">Jenkins</a>. But for a personal side project<a href=\"https://jenkins.io/index.html\" target=\"_blank\" rel=\"noopener\">https://jenkins.io/index.html</a>, a dedicated CI/CD system is not affordable and it is an overkill lto use</p><p><a href=\"https://travis-ci.org\" target=\"_blank\" rel=\"noopener\">Travis CI</a> is a continuous deployment service that provides free integration and service with public GitHub repositories. If you develop an open-source project at GitHub and add a <code>.travis.yml</code> file, Travis CI can connect with the repository and react to any code change.</p><p>This article assumes you have basic knowledge on AWS ECS and Travis CI.</p><h2 id=\"Script-Deployment-in-Travis-CI\"><a href=\"#Script-Deployment-in-Travis-CI\" class=\"headerlink\" title=\"Script Deployment in Travis CI\"></a>Script Deployment in Travis CI</h2><p>The requirement of the continuous deployment to AWS ECS is simple. Every time a pull request to the master branch is merged, the Travis CI should be noticed and perform the continuous deployment.</p><p>The deployment to AWS ECS requires custom operations and it is not automated by the Travis CI yet. To support sophisticated deployment operations, the Travis CI provides <a href=\"https://docs.travis-ci.com/user/deployment/script/\" target=\"_blank\" rel=\"noopener\">Script Deployment</a> and it allows the developer to execute a specified script for deployment.</p><p>It can be activated by adding a new <code>deploy</code> section in the <code>.travis.yml</code> file in the project repository.</p><figure class=\"highlight yaml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># deployment section in the .travis.yml</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\"><span class=\"attr\">  provider:</span> <span class=\"string\">script</span></span><br><span class=\"line\">  <span class=\"comment\"># specify the deployment script</span></span><br><span class=\"line\"><span class=\"attr\">  script:</span> <span class=\"string\">bash</span> <span class=\"string\">deploy.sh</span></span><br><span class=\"line\">  <span class=\"comment\"># specify to deploy with code change a given branch</span></span><br><span class=\"line\"><span class=\"attr\">  on:</span></span><br><span class=\"line\"><span class=\"attr\">    branch:</span> <span class=\"string\">develop</span></span><br></pre></td></tr></tbody></table></figure><h2 id=\"Deployment-Script\"><a href=\"#Deployment-Script\" class=\"headerlink\" title=\"Deployment Script\"></a>Deployment Script</h2><p>The next step is to define tasks for the deployment. We would like to define more repetitive tasks for the Travis CI and leave the most important action to the developer, like clicking the <code>Merge</code> button at the GitHub PR.</p><p>Specifically, these steps are required:</p><ol><li>build the docker image from the source code</li><li>tag the docker image as <code>latest</code></li><li>push the docker image to an image repository</li><li>update the AWS ECS application with the new image</li></ol><p>The first three steps could be done with the <a href=\"https://docs.docker.com/engine/reference/commandline/cli/\" target=\"_blank\" rel=\"noopener\">docker CLI</a>. The fourth step actually includes many interactions with AWS, but a very nice library called <a href=\"https://github.com/silinternational/ecs-deploy\" target=\"_blank\" rel=\"noopener\">ecs-deploy</a> could do all things with one line of command!</p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># install AWS SDK</span></span><br><span class=\"line\">pip install --user awscli</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$PATH</span>:<span class=\"variable\">$HOME</span>/.<span class=\"built_in\">local</span>/bin</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># install necessary dependency for ecs-deploy</span></span><br><span class=\"line\">add-apt-repository ppa:eugenesan/ppa</span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get install jq -y</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># install ecs-deploy</span></span><br><span class=\"line\">curl https://raw.githubusercontent.com/silinternational/ecs-deploy/master/ecs-deploy | \\</span><br><span class=\"line\">  sudo tee -a /usr/bin/ecs-deploy</span><br><span class=\"line\">sudo chmod +x /usr/bin/ecs-deploy</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># login AWS ECR</span></span><br><span class=\"line\"><span class=\"built_in\">eval</span> $(aws ecr get-login --region us-east-1)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># or login DockerHub</span></span><br><span class=\"line\"><span class=\"comment\"># docker login --username $DOCKER_HUB_USER --password $DOCKER_HUB_PSW</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># build the docker image and push to an image repository</span></span><br><span class=\"line\">docker build -t haoliangyu/ecs-auto-deploy .</span><br><span class=\"line\">docker tag haoliangyu/ecs-auto-deploy:latest <span class=\"variable\">$IMAGE_REPO_URL</span>:latest</span><br><span class=\"line\">docker push <span class=\"variable\">$IMAGE_REPO_URL</span>:latest</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># update an AWS ECS service with the new image</span></span><br><span class=\"line\">ecs-deploy -c <span class=\"variable\">$CLUSTER_NAME</span> -n <span class=\"variable\">$SERVICE_NAME</span> -i <span class=\"variable\">$IMAGE_REPO_URL</span>:latest</span><br></pre></td></tr></tbody></table></figure><p>All <code>$VARIABLE_NAME</code> in the deployment script refer to an environment variable. Except <code>PATH</code> and <code>HOME</code>, which are provided by the operation system, you should provide the rest of them:</p><ul><li><code>IMAGE_REPO_URL</code> is the url of a docker image repository. It could be <a href=\"https://hub.docker.com/\" target=\"_blank\" rel=\"noopener\">DockerHub</a> repository name or <a href=\"https://aws.amazon.com/ecr\" target=\"_blank\" rel=\"noopener\">AWS ECR</a> repository url, or any other.</li><li><code>CLUSTER_NAME</code> is the name of the running ECS cluster.</li><li><code>SERVICE_NAME</code> is the name of the running ECS service.</li></ul><p>These values could be hard-coded, but using an environment variable makes the script more secure and portable.</p><p>Note that <code>ecs-deploy</code> deploys to an existing ECS service. If the specified service is not created, it will not try to new one and throw an error instead.</p><h2 id=\"Continuous-Deployment\"><a href=\"#Continuous-Deployment\" class=\"headerlink\" title=\"Continuous Deployment\"></a>Continuous Deployment</h2><p>With the deployment script discussed above, we can write the Travis CI configuration <code>.travis.yml</code>.</p><figure class=\"highlight yaml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># I am using a nodejs for my demo application</span></span><br><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">node_js</span></span><br><span class=\"line\"><span class=\"attr\">node_js:</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">\"node\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># include the docker service so that we can use the docker command in</span></span><br><span class=\"line\"><span class=\"comment\"># the deployment script</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">docker</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># same as the official documentation</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\"><span class=\"attr\">  provider:</span> <span class=\"string\">script</span></span><br><span class=\"line\"><span class=\"attr\">  script:</span> <span class=\"string\">bash</span> <span class=\"string\">deploy.sh</span></span><br><span class=\"line\"><span class=\"attr\">  on:</span></span><br><span class=\"line\"><span class=\"attr\">branch:</span> <span class=\"string\">master</span></span><br></pre></td></tr></tbody></table></figure><p>The configuration is pretty much the same as the one from the documentation. It requires the <code>docker</code> service for the docker command line tool.</p><p>Then you should add required environment variables in the <code>Settings</code> page of the Travis repository. Additionally, <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, and <code>AWS_DEFAULT_REGION</code> are needed to help accessing AWS.</p><img src=\"/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-env.png\" title=\"This is an example image\"><h2 id=\"Final\"><a href=\"#Final\" class=\"headerlink\" title=\"Final\"></a>Final</h2><p>Wow, you are done here <span class=\"github-emoji\" style=\"display:inline;vertical-align:middle;margin:0 3px;color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f389.png?v8) center/contain\" data-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f389.png?v8\"></span> With this setting, you will have a continuous deployment pipeline that reacts to any PR merged into the master branch. And it deploys :-)</p><img src=\"/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-deploy.png\" title=\"This is an example image\"><p>Thank you for reading this blog post. All code in this post could be found in this <a href=\"https://github.com/haoliangyu/ecs-auto-deploy\" target=\"_blank\" rel=\"noopener\">GitHub repository</a> (<span class=\"github-emoji\" style=\"display:inline;vertical-align:middle;margin:0 3px;color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8) center/contain\" data-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8\"></span> it if it helps) and it is <a href=\"https://travis-ci.org/haoliangyu/ecs-auto-deploy\" target=\"_blank\" rel=\"noopener\">working</a>.</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>This article discusses how to build a continuous deployment pipeline for an <a href=\"https://aws.amazon.com/ecs/\" target=\"_blank\" rel=\"noopener\">AWS ECS</a> application using <a href=\"https://travis-ci.org\" target=\"_blank\" rel=\"noopener\">Travis CI</a>.</p>","more":"<h2 id=\"Problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h2><p>Deploying a docker-base application to the AWS ECS is a tedious task. It requires to push the image to an image repository, create a new task definition with that image, and update the service with the new definition. It is quick but repetitive.</p><p>In large organizations that have rapid deployment cycles, such tasks are usually taken care by CI/CD pipelines, like <a href=\"https://jenkins.io/index.html\" target=\"_blank\" rel=\"noopener\">Jenkins</a>. But for a personal side project<a href=\"https://jenkins.io/index.html\" target=\"_blank\" rel=\"noopener\">https://jenkins.io/index.html</a>, a dedicated CI/CD system is not affordable and it is an overkill lto use</p><p><a href=\"https://travis-ci.org\" target=\"_blank\" rel=\"noopener\">Travis CI</a> is a continuous deployment service that provides free integration and service with public GitHub repositories. If you develop an open-source project at GitHub and add a <code>.travis.yml</code> file, Travis CI can connect with the repository and react to any code change.</p><p>This article assumes you have basic knowledge on AWS ECS and Travis CI.</p><h2 id=\"Script-Deployment-in-Travis-CI\"><a href=\"#Script-Deployment-in-Travis-CI\" class=\"headerlink\" title=\"Script Deployment in Travis CI\"></a>Script Deployment in Travis CI</h2><p>The requirement of the continuous deployment to AWS ECS is simple. Every time a pull request to the master branch is merged, the Travis CI should be noticed and perform the continuous deployment.</p><p>The deployment to AWS ECS requires custom operations and it is not automated by the Travis CI yet. To support sophisticated deployment operations, the Travis CI provides <a href=\"https://docs.travis-ci.com/user/deployment/script/\" target=\"_blank\" rel=\"noopener\">Script Deployment</a> and it allows the developer to execute a specified script for deployment.</p><p>It can be activated by adding a new <code>deploy</code> section in the <code>.travis.yml</code> file in the project repository.</p><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># deployment section in the .travis.yml</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\"><span class=\"attr\">  provider:</span> <span class=\"string\">script</span></span><br><span class=\"line\">  <span class=\"comment\"># specify the deployment script</span></span><br><span class=\"line\"><span class=\"attr\">  script:</span> <span class=\"string\">bash</span> <span class=\"string\">deploy.sh</span></span><br><span class=\"line\">  <span class=\"comment\"># specify to deploy with code change a given branch</span></span><br><span class=\"line\"><span class=\"attr\">  on:</span></span><br><span class=\"line\"><span class=\"attr\">    branch:</span> <span class=\"string\">develop</span></span><br></pre></td></tr></table></figure><h2 id=\"Deployment-Script\"><a href=\"#Deployment-Script\" class=\"headerlink\" title=\"Deployment Script\"></a>Deployment Script</h2><p>The next step is to define tasks for the deployment. We would like to define more repetitive tasks for the Travis CI and leave the most important action to the developer, like clicking the <code>Merge</code> button at the GitHub PR.</p><p>Specifically, these steps are required:</p><ol><li>build the docker image from the source code</li><li>tag the docker image as <code>latest</code></li><li>push the docker image to an image repository</li><li>update the AWS ECS application with the new image</li></ol><p>The first three steps could be done with the <a href=\"https://docs.docker.com/engine/reference/commandline/cli/\" target=\"_blank\" rel=\"noopener\">docker CLI</a>. The fourth step actually includes many interactions with AWS, but a very nice library called <a href=\"https://github.com/silinternational/ecs-deploy\" target=\"_blank\" rel=\"noopener\">ecs-deploy</a> could do all things with one line of command!</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># install AWS SDK</span></span><br><span class=\"line\">pip install --user awscli</span><br><span class=\"line\"><span class=\"built_in\">export</span> PATH=<span class=\"variable\">$PATH</span>:<span class=\"variable\">$HOME</span>/.<span class=\"built_in\">local</span>/bin</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># install necessary dependency for ecs-deploy</span></span><br><span class=\"line\">add-apt-repository ppa:eugenesan/ppa</span><br><span class=\"line\">apt-get update</span><br><span class=\"line\">apt-get install jq -y</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># install ecs-deploy</span></span><br><span class=\"line\">curl https://raw.githubusercontent.com/silinternational/ecs-deploy/master/ecs-deploy | \\</span><br><span class=\"line\">  sudo tee -a /usr/bin/ecs-deploy</span><br><span class=\"line\">sudo chmod +x /usr/bin/ecs-deploy</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># login AWS ECR</span></span><br><span class=\"line\"><span class=\"built_in\">eval</span> $(aws ecr get-login --region us-east-1)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># or login DockerHub</span></span><br><span class=\"line\"><span class=\"comment\"># docker login --username $DOCKER_HUB_USER --password $DOCKER_HUB_PSW</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># build the docker image and push to an image repository</span></span><br><span class=\"line\">docker build -t haoliangyu/ecs-auto-deploy .</span><br><span class=\"line\">docker tag haoliangyu/ecs-auto-deploy:latest <span class=\"variable\">$IMAGE_REPO_URL</span>:latest</span><br><span class=\"line\">docker push <span class=\"variable\">$IMAGE_REPO_URL</span>:latest</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># update an AWS ECS service with the new image</span></span><br><span class=\"line\">ecs-deploy -c <span class=\"variable\">$CLUSTER_NAME</span> -n <span class=\"variable\">$SERVICE_NAME</span> -i <span class=\"variable\">$IMAGE_REPO_URL</span>:latest</span><br></pre></td></tr></table></figure><p>All <code>$VARIABLE_NAME</code> in the deployment script refer to an environment variable. Except <code>PATH</code> and <code>HOME</code>, which are provided by the operation system, you should provide the rest of them:</p><ul><li><code>IMAGE_REPO_URL</code> is the url of a docker image repository. It could be <a href=\"https://hub.docker.com/\" target=\"_blank\" rel=\"noopener\">DockerHub</a> repository name or <a href=\"https://aws.amazon.com/ecr\" target=\"_blank\" rel=\"noopener\">AWS ECR</a> repository url, or any other.</li><li><code>CLUSTER_NAME</code> is the name of the running ECS cluster.</li><li><code>SERVICE_NAME</code> is the name of the running ECS service.</li></ul><p>These values could be hard-coded, but using an environment variable makes the script more secure and portable.</p><p>Note that <code>ecs-deploy</code> deploys to an existing ECS service. If the specified service is not created, it will not try to new one and throw an error instead.</p><h2 id=\"Continuous-Deployment\"><a href=\"#Continuous-Deployment\" class=\"headerlink\" title=\"Continuous Deployment\"></a>Continuous Deployment</h2><p>With the deployment script discussed above, we can write the Travis CI configuration <code>.travis.yml</code>.</p><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># I am using a nodejs for my demo application</span></span><br><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">node_js</span></span><br><span class=\"line\"><span class=\"attr\">node_js:</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">\"node\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># include the docker service so that we can use the docker command in</span></span><br><span class=\"line\"><span class=\"comment\"># the deployment script</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">docker</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># same as the official documentation</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\"><span class=\"attr\">  provider:</span> <span class=\"string\">script</span></span><br><span class=\"line\"><span class=\"attr\">  script:</span> <span class=\"string\">bash</span> <span class=\"string\">deploy.sh</span></span><br><span class=\"line\"><span class=\"attr\">  on:</span></span><br><span class=\"line\"><span class=\"attr\">branch:</span> <span class=\"string\">master</span></span><br></pre></td></tr></table></figure><p>The configuration is pretty much the same as the one from the documentation. It requires the <code>docker</code> service for the docker command line tool.</p><p>Then you should add required environment variables in the <code>Settings</code> page of the Travis repository. Additionally, <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, and <code>AWS_DEFAULT_REGION</code> are needed to help accessing AWS.</p><img src=\"/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-env.png\" title=\"This is an example image\"><h2 id=\"Final\"><a href=\"#Final\" class=\"headerlink\" title=\"Final\"></a>Final</h2><p>Wow, you are done here :tada: With this setting, you will have a continuous deployment pipeline that reacts to any PR merged into the master branch. And it deploys :-)</p><img src=\"/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-deploy.png\" title=\"This is an example image\"><p>Thank you for reading this blog post. All code in this post could be found in this <a href=\"https://github.com/haoliangyu/ecs-auto-deploy\" target=\"_blank\" rel=\"noopener\">GitHub repository</a> (:star: it if it helps) and it is <a href=\"https://travis-ci.org/haoliangyu/ecs-auto-deploy\" target=\"_blank\" rel=\"noopener\">working</a>.</p>"},{"title":"Adding GeoJSON layers to your Leaflet map in TypeScript","date":"2017-02-03T21:53:35.000Z","_content":"\nAdding a GeoJSON layer to a [Leaflet](http://leafletjs.com/) map in [TypeScript](http://www.typescriptlang.org/) has some difference from that in JavaScript.\n\n<!-- more -->\n\n It's because the GeoJSON is typed in TypeScript and the type declaration of Leaflet adopts it. So whenever you construct the GeoJSON object in TypeScript, it's important to declare the type of the variable as GeoJSON type:\n\n ``` typescript\n// it's necessary to tell variable type\nlet featureCollection: GeoJSON.FeatureCollection<any> = {\n  type: 'FeatureCollection',\n  features: [\n    {\n      type: 'Feature',\n      geometry: {\n        type: 'Point',\n        coordinates: [0, 0]\n      },\n      properties: {}\n    }\n  ]\n};\n\n// the Leaflet API is the same as the JavaScript one, except for the parameter type requirement\nL.geoJSON(featureCollection).addTo(this.map);\n```\n\nFor more about the specification and example, take a look at the [GeoJSON type definition](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/geojson).\n","source":"_posts/Adding-GeoJSON-layers-in-your-Leaflet-project-in-TypeScript.md","raw":"title: Adding GeoJSON layers to your Leaflet map in TypeScript\ndate: 2017-02-04 00:53:35\ncategories:\n- GIS\ntags:\n- geojson\n- leaflet\n-\ttypescript\n---\n\nAdding a GeoJSON layer to a [Leaflet](http://leafletjs.com/) map in [TypeScript](http://www.typescriptlang.org/) has some difference from that in JavaScript.\n\n<!-- more -->\n\n It's because the GeoJSON is typed in TypeScript and the type declaration of Leaflet adopts it. So whenever you construct the GeoJSON object in TypeScript, it's important to declare the type of the variable as GeoJSON type:\n\n ``` typescript\n// it's necessary to tell variable type\nlet featureCollection: GeoJSON.FeatureCollection<any> = {\n  type: 'FeatureCollection',\n  features: [\n    {\n      type: 'Feature',\n      geometry: {\n        type: 'Point',\n        coordinates: [0, 0]\n      },\n      properties: {}\n    }\n  ]\n};\n\n// the Leaflet API is the same as the JavaScript one, except for the parameter type requirement\nL.geoJSON(featureCollection).addTo(this.map);\n```\n\nFor more about the specification and example, take a look at the [GeoJSON type definition](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/geojson).\n","slug":"Adding-GeoJSON-layers-in-your-Leaflet-project-in-TypeScript","published":1,"updated":"2020-08-08T11:06:20.580Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfgl0004005541gbvhep","content":"<p>Adding a GeoJSON layer to a <a href=\"http://leafletjs.com/\" target=\"_blank\" rel=\"noopener\">Leaflet</a> map in <a href=\"http://www.typescriptlang.org/\" target=\"_blank\" rel=\"noopener\">TypeScript</a> has some difference from that in JavaScript.</p><a id=\"more\"></a><p>Its because the GeoJSON is typed in TypeScript and the type declaration of Leaflet adopts it. So whenever you construct the GeoJSON object in TypeScript, its important to declare the type of the variable as GeoJSON type:</p><figure class=\"highlight typescript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// it's necessary to tell variable type</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> featureCollection: GeoJSON.FeatureCollection&lt;<span class=\"built_in\">any</span>&gt; = {</span><br><span class=\"line\">  <span class=\"keyword\">type</span>: <span class=\"string\">'FeatureCollection'</span>,</span><br><span class=\"line\">  features: [</span><br><span class=\"line\">    {</span><br><span class=\"line\">      <span class=\"keyword\">type</span>: <span class=\"string\">'Feature'</span>,</span><br><span class=\"line\">      geometry: {</span><br><span class=\"line\">        <span class=\"keyword\">type</span>: <span class=\"string\">'Point'</span>,</span><br><span class=\"line\">        coordinates: [<span class=\"number\">0</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\">      },</span><br><span class=\"line\">      properties: {}</span><br><span class=\"line\">    }</span><br><span class=\"line\">  ]</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// the Leaflet API is the same as the JavaScript one, except for the parameter type requirement</span></span><br><span class=\"line\">L.geoJSON(featureCollection).addTo(<span class=\"keyword\">this</span>.map);</span><br></pre></td></tr></tbody></table></figure><p>For more about the specification and example, take a look at the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/geojson\" target=\"_blank\" rel=\"noopener\">GeoJSON type definition</a>.</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>Adding a GeoJSON layer to a <a href=\"http://leafletjs.com/\" target=\"_blank\" rel=\"noopener\">Leaflet</a> map in <a href=\"http://www.typescriptlang.org/\" target=\"_blank\" rel=\"noopener\">TypeScript</a> has some difference from that in JavaScript.</p>","more":"<p>Its because the GeoJSON is typed in TypeScript and the type declaration of Leaflet adopts it. So whenever you construct the GeoJSON object in TypeScript, its important to declare the type of the variable as GeoJSON type:</p><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// it's necessary to tell variable type</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> featureCollection: GeoJSON.FeatureCollection&lt;<span class=\"built_in\">any</span>&gt; = &#123;</span><br><span class=\"line\">  <span class=\"keyword\">type</span>: <span class=\"string\">'FeatureCollection'</span>,</span><br><span class=\"line\">  features: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">type</span>: <span class=\"string\">'Feature'</span>,</span><br><span class=\"line\">      geometry: &#123;</span><br><span class=\"line\">        <span class=\"keyword\">type</span>: <span class=\"string\">'Point'</span>,</span><br><span class=\"line\">        coordinates: [<span class=\"number\">0</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      properties: &#123;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// the Leaflet API is the same as the JavaScript one, except for the parameter type requirement</span></span><br><span class=\"line\">L.geoJSON(featureCollection).addTo(<span class=\"keyword\">this</span>.map);</span><br></pre></td></tr></table></figure><p>For more about the specification and example, take a look at the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/geojson\" target=\"_blank\" rel=\"noopener\">GeoJSON type definition</a>.</p>"},{"title":"ArcMap Raster Edit Suite","date":"2014-09-16T20:00:00.000Z","updated":"2015-12-04T21:00:00.000Z","_content":"\nArcMap Raster Edit Suite (ARES) is an addin for ArcMap 10.x that enables value editing of single pixels on raster layer. This is an open-source software and the project is hosted at [GitHub](https://github.com/haoliangyu/ares) and published at [SourceForge](http://sourceforge.net/projects/arcmaprastereditor/?source=navbar) as well.\n<!-- more -->\nThis addin only works on ArcMap 10.0/10.1/10.2/10.3.\n\nA detail user guide could be found at: **[ArcMap Raster Edit Suite](https://github.com/haoliangyu/ares/wiki)**\n\n## Download\n\n[ARES 0.2.1](https://github.com/dz316424/ares/releases/download/v0.2.1/ARES.0.2.1.zip)\n\nThe listed packages are stable releases and may not include up-to-date features. To download latest version, please visit the [project page](https://github.com/haoliangyu/ares/).\n\n## Installation\n\nSimply double-click the RasterEditor.esriAddIn in the package and ArcGIS AddIn installation wizzard will guide you. for more detail, check the wiki page [Install and Uninstall](https://github.com/haoliangyu/ares/wiki/Install-and-Uninstall).\n","source":"_posts/ArcMap-Raster-Edit-Suite.md","raw":"title: ArcMap Raster Edit Suite\ndate: 2014-09-17\nupdated: 2015-12-05\ncategories:\n- Project\ntags:\n- gis\n- project\n- arcgis\n---\n\nArcMap Raster Edit Suite (ARES) is an addin for ArcMap 10.x that enables value editing of single pixels on raster layer. This is an open-source software and the project is hosted at [GitHub](https://github.com/haoliangyu/ares) and published at [SourceForge](http://sourceforge.net/projects/arcmaprastereditor/?source=navbar) as well.\n<!-- more -->\nThis addin only works on ArcMap 10.0/10.1/10.2/10.3.\n\nA detail user guide could be found at: **[ArcMap Raster Edit Suite](https://github.com/haoliangyu/ares/wiki)**\n\n## Download\n\n[ARES 0.2.1](https://github.com/dz316424/ares/releases/download/v0.2.1/ARES.0.2.1.zip)\n\nThe listed packages are stable releases and may not include up-to-date features. To download latest version, please visit the [project page](https://github.com/haoliangyu/ares/).\n\n## Installation\n\nSimply double-click the RasterEditor.esriAddIn in the package and ArcGIS AddIn installation wizzard will guide you. for more detail, check the wiki page [Install and Uninstall](https://github.com/haoliangyu/ares/wiki/Install-and-Uninstall).\n","slug":"ArcMap-Raster-Edit-Suite","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfgr00080055uugm9p8v","content":"<p>ArcMap Raster Edit Suite (ARES) is an addin for ArcMap 10.x that enables value editing of single pixels on raster layer. This is an open-source software and the project is hosted at <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\">GitHub</a> and published at <a href=\"http://sourceforge.net/projects/arcmaprastereditor/?source=navbar\" target=\"_blank\" rel=\"noopener\">SourceForge</a> as well.</p><a id=\"more\"></a><p>This addin only works on ArcMap 10.0/10.1/10.2/10.3.</p><p>A detail user guide could be found at: <strong><a href=\"https://github.com/haoliangyu/ares/wiki\" target=\"_blank\" rel=\"noopener\">ArcMap Raster Edit Suite</a></strong></p><h2 id=\"Download\"><a href=\"#Download\" class=\"headerlink\" title=\"Download\"></a>Download</h2><p><a href=\"https://github.com/dz316424/ares/releases/download/v0.2.1/ARES.0.2.1.zip\" target=\"_blank\" rel=\"noopener\">ARES 0.2.1</a></p><p>The listed packages are stable releases and may not include up-to-date features. To download latest version, please visit the <a href=\"https://github.com/haoliangyu/ares/\" target=\"_blank\" rel=\"noopener\">project page</a>.</p><h2 id=\"Installation\"><a href=\"#Installation\" class=\"headerlink\" title=\"Installation\"></a>Installation</h2><p>Simply double-click the RasterEditor.esriAddIn in the package and ArcGIS AddIn installation wizzard will guide you. for more detail, check the wiki page <a href=\"https://github.com/haoliangyu/ares/wiki/Install-and-Uninstall\" target=\"_blank\" rel=\"noopener\">Install and Uninstall</a>.</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>ArcMap Raster Edit Suite (ARES) is an addin for ArcMap 10.x that enables value editing of single pixels on raster layer. This is an open-source software and the project is hosted at <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\">GitHub</a> and published at <a href=\"http://sourceforge.net/projects/arcmaprastereditor/?source=navbar\" target=\"_blank\" rel=\"noopener\">SourceForge</a> as well.</p>","more":"<p>This addin only works on ArcMap 10.0/10.1/10.2/10.3.</p><p>A detail user guide could be found at: <strong><a href=\"https://github.com/haoliangyu/ares/wiki\" target=\"_blank\" rel=\"noopener\">ArcMap Raster Edit Suite</a></strong></p><h2 id=\"Download\"><a href=\"#Download\" class=\"headerlink\" title=\"Download\"></a>Download</h2><p><a href=\"https://github.com/dz316424/ares/releases/download/v0.2.1/ARES.0.2.1.zip\" target=\"_blank\" rel=\"noopener\">ARES 0.2.1</a></p><p>The listed packages are stable releases and may not include up-to-date features. To download latest version, please visit the <a href=\"https://github.com/haoliangyu/ares/\" target=\"_blank\" rel=\"noopener\">project page</a>.</p><h2 id=\"Installation\"><a href=\"#Installation\" class=\"headerlink\" title=\"Installation\"></a>Installation</h2><p>Simply double-click the RasterEditor.esriAddIn in the package and ArcGIS AddIn installation wizzard will guide you. for more detail, check the wiki page <a href=\"https://github.com/haoliangyu/ares/wiki/Install-and-Uninstall\" target=\"_blank\" rel=\"noopener\">Install and Uninstall</a>.</p>"},{"title":"Boundary.Now: a simple tool to extract OSM place boundaries","date":"2017-02-04T14:15:56.000Z","updated":"2017-02-25T21:00:00.000Z","_content":"\nGetting a place boundary is sometimes harder than it looks like.\n\n<!-- more -->\n\nThere are a couple of reasons why it's hard:\n\n* The boundary data is actually unavailable or not released.\n* The boundary data is available, but packaged in a national dataset, like most governmental open data.\n* The boundary data is visible, but not downloadable, like the Google map does.\n* The boundary data is exportable, but the use is limited, like the Bing map geocoding API does.\n\nSo it's pretty common for a data analyst to take a lot of effort to find and extract place boundaries. It's even more painful when we have to download national datasets just for a few cities' boundary.\n\nOh, wait! Isn't it a free and global geospatial database out there?\n\nYeah, [OpenStreetMap](https://www.openstreetmap.org/) is awesome and the great [Nominatim](http://nominatim.openstreetmap.org/) service allows us to search through the OSM database with a place name.\n\nThe only problem is the Nominatim interface is not designed for data extraction, even though the API does return place boundary. So I develop [**Boundary.Now**](https://haoliangyu.github.io/boundary.now/), an interface for Nominatim geocoding API to download place boundary.\n\n{% asset_img boundary-now.png This is an example image %}\n\nLike the original interface, it will provide a search box for the desired place name. In the result list, only search results with boundary data are shown. The boundary data could be downloaded in **GeoJSON**, a format widely used in web development, or in **Shapefile**, a standard format in the GIS world.\n\nYou can open the tool [**here**](https://haoliangyu.github.io/boundary.now/) and the project is open at [GitHub](https://github.com/haoliangyu/boundary.now/).\n","source":"_posts/Boundary-Now-a-simple-tool-to-extract-OSM-place-boundaries.md","raw":"title: 'Boundary.Now: a simple tool to extract OSM place boundaries'\ndate: 2017-02-04 17:15:56\nupdated: 2017-02-26\ncategories:\n- Project\ntags:\n- gis\n- openstreetmap\n---\n\nGetting a place boundary is sometimes harder than it looks like.\n\n<!-- more -->\n\nThere are a couple of reasons why it's hard:\n\n* The boundary data is actually unavailable or not released.\n* The boundary data is available, but packaged in a national dataset, like most governmental open data.\n* The boundary data is visible, but not downloadable, like the Google map does.\n* The boundary data is exportable, but the use is limited, like the Bing map geocoding API does.\n\nSo it's pretty common for a data analyst to take a lot of effort to find and extract place boundaries. It's even more painful when we have to download national datasets just for a few cities' boundary.\n\nOh, wait! Isn't it a free and global geospatial database out there?\n\nYeah, [OpenStreetMap](https://www.openstreetmap.org/) is awesome and the great [Nominatim](http://nominatim.openstreetmap.org/) service allows us to search through the OSM database with a place name.\n\nThe only problem is the Nominatim interface is not designed for data extraction, even though the API does return place boundary. So I develop [**Boundary.Now**](https://haoliangyu.github.io/boundary.now/), an interface for Nominatim geocoding API to download place boundary.\n\n{% asset_img boundary-now.png This is an example image %}\n\nLike the original interface, it will provide a search box for the desired place name. In the result list, only search results with boundary data are shown. The boundary data could be downloaded in **GeoJSON**, a format widely used in web development, or in **Shapefile**, a standard format in the GIS world.\n\nYou can open the tool [**here**](https://haoliangyu.github.io/boundary.now/) and the project is open at [GitHub](https://github.com/haoliangyu/boundary.now/).\n","slug":"Boundary-Now-a-simple-tool-to-extract-OSM-place-boundaries","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfgt000900556p8iyp33","content":"<p>Getting a place boundary is sometimes harder than it looks like.</p><a id=\"more\"></a><p>There are a couple of reasons why its hard:</p><ul><li>The boundary data is actually unavailable or not released.</li><li>The boundary data is available, but packaged in a national dataset, like most governmental open data.</li><li>The boundary data is visible, but not downloadable, like the Google map does.</li><li>The boundary data is exportable, but the use is limited, like the Bing map geocoding API does.</li></ul><p>So its pretty common for a data analyst to take a lot of effort to find and extract place boundaries. Its even more painful when we have to download national datasets just for a few cities boundary.</p><p>Oh, wait! Isnt it a free and global geospatial database out there?</p><p>Yeah, <a href=\"https://www.openstreetmap.org/\" target=\"_blank\" rel=\"noopener\">OpenStreetMap</a> is awesome and the great <a href=\"http://nominatim.openstreetmap.org/\" target=\"_blank\" rel=\"noopener\">Nominatim</a> service allows us to search through the OSM database with a place name.</p><p>The only problem is the Nominatim interface is not designed for data extraction, even though the API does return place boundary. So I develop <a href=\"https://haoliangyu.github.io/boundary.now/\"><strong>Boundary.Now</strong></a>, an interface for Nominatim geocoding API to download place boundary.</p><img src=\"/blog/2017/02/04/Boundary-Now-a-simple-tool-to-extract-OSM-place-boundaries/boundary-now.png\" title=\"This is an example image\"><p>Like the original interface, it will provide a search box for the desired place name. In the result list, only search results with boundary data are shown. The boundary data could be downloaded in <strong>GeoJSON</strong>, a format widely used in web development, or in <strong>Shapefile</strong>, a standard format in the GIS world.</p><p>You can open the tool <a href=\"https://haoliangyu.github.io/boundary.now/\"><strong>here</strong></a> and the project is open at <a href=\"https://github.com/haoliangyu/boundary.now/\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>Getting a place boundary is sometimes harder than it looks like.</p>","more":"<p>There are a couple of reasons why its hard:</p><ul><li>The boundary data is actually unavailable or not released.</li><li>The boundary data is available, but packaged in a national dataset, like most governmental open data.</li><li>The boundary data is visible, but not downloadable, like the Google map does.</li><li>The boundary data is exportable, but the use is limited, like the Bing map geocoding API does.</li></ul><p>So its pretty common for a data analyst to take a lot of effort to find and extract place boundaries. Its even more painful when we have to download national datasets just for a few cities boundary.</p><p>Oh, wait! Isnt it a free and global geospatial database out there?</p><p>Yeah, <a href=\"https://www.openstreetmap.org/\" target=\"_blank\" rel=\"noopener\">OpenStreetMap</a> is awesome and the great <a href=\"http://nominatim.openstreetmap.org/\" target=\"_blank\" rel=\"noopener\">Nominatim</a> service allows us to search through the OSM database with a place name.</p><p>The only problem is the Nominatim interface is not designed for data extraction, even though the API does return place boundary. So I develop <a href=\"https://haoliangyu.github.io/boundary.now/\"><strong>Boundary.Now</strong></a>, an interface for Nominatim geocoding API to download place boundary.</p><img src=\"/blog/2017/02/04/Boundary-Now-a-simple-tool-to-extract-OSM-place-boundaries/boundary-now.png\" title=\"This is an example image\"><p>Like the original interface, it will provide a search box for the desired place name. In the result list, only search results with boundary data are shown. The boundary data could be downloaded in <strong>GeoJSON</strong>, a format widely used in web development, or in <strong>Shapefile</strong>, a standard format in the GIS world.</p><p>You can open the tool <a href=\"https://haoliangyu.github.io/boundary.now/\"><strong>here</strong></a> and the project is open at <a href=\"https://github.com/haoliangyu/boundary.now/\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>"},{"title":"Celebrating the 1,000 data portals at OpenDataDiscovery.org","date":"2017-01-15T21:00:00.000Z","comments":1,"_content":"\nI am pleased to announce that [OpenDataDiscovery.org](http://www.opendatadiscovery.org/) is now tracking more than 1,000 open data portals, 40% of data portals in the world!\n\n<!-- more -->\n\n{% asset_img region-map.png This is an example image %}\n\n\nA map of all recorded 329 cities / provinces / countries worldwide, in which each color category includes 20% of all portals.\n\nThanks to [OpenDataSoft](https://www.opendatasoft.com/)'s comprehensive open data portal survey (see [their blog](https://opendatainception.io/)), I am able to quickly identify a list of important open data service providers. So far seven major open data service providers have been supported:\n\n* [ArcGIS Open Data](http://opendata.arcgis.com/) (595 portals, 26,281 datasets)\n* [CKAN](http://ckan.org/) (89 portals, 842,154 datasets)\n* [DKAN](http://www.nucivic.com/dkan/) (40 portals, 14,289 datasets)\n* [GeoNode](http://geonode.org/) (10 portals, 9,604 datasets)\n* [Junar](http://junar.com) (11 portals, 1,860 datasets)\n* [OpenDataSoft](https://www.opendatasoft.com/) (79 portals, 6,084 datasets)\n* [Socrata](http://socrata.com/) (177 portals, 110,130 datasets)\n\nAs of 01/16/2017, the total number of datasets opened at these portals is more than 1 million! Also, thousands of data categories and publishers, and nearly a million data tags have been identified. This project just reveals an immense and existing world of open data and all these numbers are still likely to be underestimated.\n\nFor the following months, I will focus on analyzing the existing/coming data and building better data visualization. As the portal level metadata collection procedure is close to done, it is also time to explore the collection of the dataset level metadata.\n\nI can wait to work on it to see what story this data is telling!\n","source":"_posts/Celebrating-the-1-000-data-portals-at-OpenDataDiscovery-org.md","raw":"title: 'Celebrating the 1,000 data portals at OpenDataDiscovery.org'\ndate: 2017-01-16\ncomments: true\ncategories:\n- GIS\ntags:\n- open data\n- gis\n- OpenDataDiscovery.org\n---\n\nI am pleased to announce that [OpenDataDiscovery.org](http://www.opendatadiscovery.org/) is now tracking more than 1,000 open data portals, 40% of data portals in the world!\n\n<!-- more -->\n\n{% asset_img region-map.png This is an example image %}\n\n\nA map of all recorded 329 cities / provinces / countries worldwide, in which each color category includes 20% of all portals.\n\nThanks to [OpenDataSoft](https://www.opendatasoft.com/)'s comprehensive open data portal survey (see [their blog](https://opendatainception.io/)), I am able to quickly identify a list of important open data service providers. So far seven major open data service providers have been supported:\n\n* [ArcGIS Open Data](http://opendata.arcgis.com/) (595 portals, 26,281 datasets)\n* [CKAN](http://ckan.org/) (89 portals, 842,154 datasets)\n* [DKAN](http://www.nucivic.com/dkan/) (40 portals, 14,289 datasets)\n* [GeoNode](http://geonode.org/) (10 portals, 9,604 datasets)\n* [Junar](http://junar.com) (11 portals, 1,860 datasets)\n* [OpenDataSoft](https://www.opendatasoft.com/) (79 portals, 6,084 datasets)\n* [Socrata](http://socrata.com/) (177 portals, 110,130 datasets)\n\nAs of 01/16/2017, the total number of datasets opened at these portals is more than 1 million! Also, thousands of data categories and publishers, and nearly a million data tags have been identified. This project just reveals an immense and existing world of open data and all these numbers are still likely to be underestimated.\n\nFor the following months, I will focus on analyzing the existing/coming data and building better data visualization. As the portal level metadata collection procedure is close to done, it is also time to explore the collection of the dataset level metadata.\n\nI can wait to work on it to see what story this data is telling!\n","slug":"Celebrating-the-1-000-data-portals-at-OpenDataDiscovery-org","published":1,"updated":"2020-08-08T11:06:20.592Z","layout":"post","photos":[],"link":"","_id":"ckirpyfgv000a00556wgmvrv0","content":"<p>I am pleased to announce that <a href=\"http://www.opendatadiscovery.org/\" target=\"_blank\" rel=\"noopener\">OpenDataDiscovery.org</a> is now tracking more than 1,000 open data portals, 40% of data portals in the world!</p><a id=\"more\"></a> <img src=\"/blog/2017/01/16/Celebrating-the-1-000-data-portals-at-OpenDataDiscovery-org/region-map.png\" title=\"This is an example image\"><p>A map of all recorded 329 cities / provinces / countries worldwide, in which each color category includes 20% of all portals.</p><p>Thanks to <a href=\"https://www.opendatasoft.com/\" target=\"_blank\" rel=\"noopener\">OpenDataSoft</a>s comprehensive open data portal survey (see <a href=\"https://opendatainception.io/\" target=\"_blank\" rel=\"noopener\">their blog</a>), I am able to quickly identify a list of important open data service providers. So far seven major open data service providers have been supported:</p><ul><li><a href=\"http://opendata.arcgis.com/\" target=\"_blank\" rel=\"noopener\">ArcGIS Open Data</a> (595 portals, 26,281 datasets)</li><li><a href=\"http://ckan.org/\" target=\"_blank\" rel=\"noopener\">CKAN</a> (89 portals, 842,154 datasets)</li><li><a href=\"http://www.nucivic.com/dkan/\" target=\"_blank\" rel=\"noopener\">DKAN</a> (40 portals, 14,289 datasets)</li><li><a href=\"http://geonode.org/\" target=\"_blank\" rel=\"noopener\">GeoNode</a> (10 portals, 9,604 datasets)</li><li><a href=\"http://junar.com\" target=\"_blank\" rel=\"noopener\">Junar</a> (11 portals, 1,860 datasets)</li><li><a href=\"https://www.opendatasoft.com/\" target=\"_blank\" rel=\"noopener\">OpenDataSoft</a> (79 portals, 6,084 datasets)</li><li><a href=\"http://socrata.com/\" target=\"_blank\" rel=\"noopener\">Socrata</a> (177 portals, 110,130 datasets)</li></ul><p>As of 01/16/2017, the total number of datasets opened at these portals is more than 1 million! Also, thousands of data categories and publishers, and nearly a million data tags have been identified. This project just reveals an immense and existing world of open data and all these numbers are still likely to be underestimated.</p><p>For the following months, I will focus on analyzing the existing/coming data and building better data visualization. As the portal level metadata collection procedure is close to done, it is also time to explore the collection of the dataset level metadata.</p><p>I can wait to work on it to see what story this data is telling!</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>I am pleased to announce that <a href=\"http://www.opendatadiscovery.org/\" target=\"_blank\" rel=\"noopener\">OpenDataDiscovery.org</a> is now tracking more than 1,000 open data portals, 40% of data portals in the world!</p>","more":"<img src=\"/blog/2017/01/16/Celebrating-the-1-000-data-portals-at-OpenDataDiscovery-org/region-map.png\" title=\"This is an example image\"><p>A map of all recorded 329 cities / provinces / countries worldwide, in which each color category includes 20% of all portals.</p><p>Thanks to <a href=\"https://www.opendatasoft.com/\" target=\"_blank\" rel=\"noopener\">OpenDataSoft</a>s comprehensive open data portal survey (see <a href=\"https://opendatainception.io/\" target=\"_blank\" rel=\"noopener\">their blog</a>), I am able to quickly identify a list of important open data service providers. So far seven major open data service providers have been supported:</p><ul><li><a href=\"http://opendata.arcgis.com/\" target=\"_blank\" rel=\"noopener\">ArcGIS Open Data</a> (595 portals, 26,281 datasets)</li><li><a href=\"http://ckan.org/\" target=\"_blank\" rel=\"noopener\">CKAN</a> (89 portals, 842,154 datasets)</li><li><a href=\"http://www.nucivic.com/dkan/\" target=\"_blank\" rel=\"noopener\">DKAN</a> (40 portals, 14,289 datasets)</li><li><a href=\"http://geonode.org/\" target=\"_blank\" rel=\"noopener\">GeoNode</a> (10 portals, 9,604 datasets)</li><li><a href=\"http://junar.com\" target=\"_blank\" rel=\"noopener\">Junar</a> (11 portals, 1,860 datasets)</li><li><a href=\"https://www.opendatasoft.com/\" target=\"_blank\" rel=\"noopener\">OpenDataSoft</a> (79 portals, 6,084 datasets)</li><li><a href=\"http://socrata.com/\" target=\"_blank\" rel=\"noopener\">Socrata</a> (177 portals, 110,130 datasets)</li></ul><p>As of 01/16/2017, the total number of datasets opened at these portals is more than 1 million! Also, thousands of data categories and publishers, and nearly a million data tags have been identified. This project just reveals an immense and existing world of open data and all these numbers are still likely to be underestimated.</p><p>For the following months, I will focus on analyzing the existing/coming data and building better data visualization. As the portal level metadata collection procedure is close to done, it is also time to explore the collection of the dataset level metadata.</p><p>I can wait to work on it to see what story this data is telling!</p>"},{"title":"Comparison of different sampling rules in SVM classification","date":"2015-01-25T21:00:00.000Z","comments":1,"_content":"\nThe problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course *Advanced Remote Sensing*.\n\nThe quality of training sample has deterministic influence to the accuracy of supervised classification methods. A properly designed sampling rule plays a substantial role in yielding an informative training sample set. The design of sampling strategy depends on both the characteristics of objects of interest and the applied classification methods.\n<!-- more -->\nSupport Vector Machine (SVM) is an increasingly popular classification method for remote sensing image both in industry and research. As for the theory and concept of SVM, there have been many introductory articles such as [Roemer`s blog](http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/). Because support vectors are selected from training samples for maximizing the margin between classes, quality of sample set will decide the effectiveness of the hyperplane and affect the performance of the classifier.\n\nIn brief the mechanism of SVM is very different from traditional methods like Maximum Likelihood Classification. Here comes the question: **Does the sampling rule used in traditional methods also work for SVM? How does the sampling rule affect the SVM classification result?**\n\n## Experiment\n\n---\n\nTo answer this question, I would like to set up a scenario for the classification experiment. In this case, I choose to perform a cloud detection based on Landsat 8 OLI image for two reasons:\n\n* It is a most basic binary classification.\n\n* Cloud detection could be very challenging because thin cloud is very difficult to detect in many situations.\n\nI use an image with both thick cloud and thin cloud in order to increase the difficulty of classification (See Figure 1). [Band 2 to 7](http://landsat.usgs.gov/band_designations_landsat_satellites.php) are used and the SVM classifier in ENVI is utilized with default configuration. Four hundred pixels are randomly picked up as test sample: half of them are cloud (blue points) and the others are ground objects (yellow points).\n\n{% asset_img testSample.png This is an example image %}\n\n## Sampling Rules\n\n---\n\nI am particularly interested in three sample rules.\n\n* Stratified random sampling\n\nThis is a classic sample rule. Its idea is to randomly select training samples of one class from the sample pool of that class. The sample size of each class could be a fixed number or proportional to the size of sample pool of that class.\n\n* Cluster sampling\n\nHowever, in practice random sampling is sometimes difficult to achieve, especially when the sample is selected by hand or a semi-automatic method. The sample pixels generally tend to be more clustering than random. (it is actually what we do in the ENVI class: drag a region of interest and treat it as sample set)\n\n* Boundary sampling\n\nIts basic idea is that support vectors are likely also located near the geographical boundary of two classes. Although pixels located around geographic boundaries might contain spectral information of both classes to some extent, Foody and Mathur (2006) suggested that mixing pixels at two sides of ground object boundary could be highly effective in SVM even the sample size was very smaller. They considered this approach as a competitive alternative of conventional sampling strategy.\n\nSo I select three training sets based on above sampling rules (See Figure 2).\n\n{% asset_img trainsample.png This is an example image %}\n\n## Training set in feature space\n\n---\n\nWhile using the SVM, we hope that our training samples are located near the boundary of classes in the feature space. Figure 3 shows how samples in three training sets, as well as the test set, scatter at a feature space (red band vs. NIR band).\n\n{% asset_img featurespace.png This is an example image %}\n\nCloud has high reflectance in both red band and near infrared band, however, the reflectance of ground objects (most are vegetation) is low in red band and high in near infrared band. Due to the reflectance difference, samples in the feature space apparently belong to two distinct groups: cloud and ground objects. As shown in Figure 3, the distribution of samples in different training sets are totally different. Boundary sampling produced samples located near the boundary of two classes. Samples generated with stratified random sampling could better represent the overall characteristics of two classes. Clustering sampling within high confidence area would generate samples also clustering in the feature space.\n\n## Result\n\n---\n\nThe classification results are shown in Table 1 and Figure 4.\n\n{% asset_img accuracytable.png This is an example image %}\n\n{% asset_img accuracyfigure.png This is an example image %}\n\nThe results, as expected, indicate that boundary sampling is able to generate better training sample and contribute to higher classification accuracy, compared to the other two sampling strategies.\n\nALl trained classifiers are also applied to the whole study image. Classifier trained with boundary samples is very sensitive to the difference between cloud and non-cloud pixels. It will try to differentiate all mixing pixels and this could be too sensitive. Classifier trained by cluster samples only recognizes thick cloud on the image and ignores pixels with mixing spectral information. Classifier trained by stratified random samples takes a balance between them: neither too aggressive nor too conventional. For detailed discussion, please read my report (see link below).\n\n## Conclusion\n\n---\n\nLet's get back to our initial questions and their answers.\n\n* Does the sampling rule used in traditional methods also work for SVM?\n\nApparently the traditional stratified random sampling still works pretty well for the SVM classification. The classification accuracy in the experiment is about 90%, which is high enough for most situations.\n\n* How does the sampling rule affect the SVM classification result?\n\nIf we can use the portion of boundary (mixing) pixels in the training set to define sampling rule, we are able to build a link among three sampling rules used above. As we include more boundary pixels into the training set, the classifier would become more sensitive and have a better performance in identifying mixing objects. However, high sensitivity could also increase the error rate while identifying mixing objects. There is a trade-off between high sensitivity and low error rate within the selection of sampling strategies.\n\nThere is no generally appropriate sampling rule for all situations. However, depending on the need of classification, there exits an appropriate sampling rule for specific situation. Therefore, it is not difficult to understand why the stratified random sampling is still the first choice in practical use. Though classifier trained stratified random sampling is expected to have fair performance, it is less likely to be trapped into the problem of overestimation and underestimation.\n\n## Link\n\n---\n\nThis article is a simplified version of my project report. For more detail, please read my full report [A Comparison of Sampling Strategies in SVM Classification](https://www.dropbox.com/s/yadta4jnuqgml9s/svm_sampling_report.pdf?dl=0).\n\n## Reference\n\n---\n\n[1] Foody, G. M. and A. Mathur (2006). \"The use of small training sets containing mixed pixels for accurate hard image classification: Training on mixed spectral responses for classification by a SVM.\" Remote Sensing of Environment 103(2): 179-189.\n","source":"_posts/Comparison-of-different-sampling-rules-in-SVM-classification.md","raw":"title: Comparison of different sampling rules in SVM classification\ndate: 2015-01-26 00:00:00\ncomments: true\ncategories:\n- GIS\ntags:\n- remote sensing\n---\n\nThe problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course *Advanced Remote Sensing*.\n\nThe quality of training sample has deterministic influence to the accuracy of supervised classification methods. A properly designed sampling rule plays a substantial role in yielding an informative training sample set. The design of sampling strategy depends on both the characteristics of objects of interest and the applied classification methods.\n<!-- more -->\nSupport Vector Machine (SVM) is an increasingly popular classification method for remote sensing image both in industry and research. As for the theory and concept of SVM, there have been many introductory articles such as [Roemer`s blog](http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/). Because support vectors are selected from training samples for maximizing the margin between classes, quality of sample set will decide the effectiveness of the hyperplane and affect the performance of the classifier.\n\nIn brief the mechanism of SVM is very different from traditional methods like Maximum Likelihood Classification. Here comes the question: **Does the sampling rule used in traditional methods also work for SVM? How does the sampling rule affect the SVM classification result?**\n\n## Experiment\n\n---\n\nTo answer this question, I would like to set up a scenario for the classification experiment. In this case, I choose to perform a cloud detection based on Landsat 8 OLI image for two reasons:\n\n* It is a most basic binary classification.\n\n* Cloud detection could be very challenging because thin cloud is very difficult to detect in many situations.\n\nI use an image with both thick cloud and thin cloud in order to increase the difficulty of classification (See Figure 1). [Band 2 to 7](http://landsat.usgs.gov/band_designations_landsat_satellites.php) are used and the SVM classifier in ENVI is utilized with default configuration. Four hundred pixels are randomly picked up as test sample: half of them are cloud (blue points) and the others are ground objects (yellow points).\n\n{% asset_img testSample.png This is an example image %}\n\n## Sampling Rules\n\n---\n\nI am particularly interested in three sample rules.\n\n* Stratified random sampling\n\nThis is a classic sample rule. Its idea is to randomly select training samples of one class from the sample pool of that class. The sample size of each class could be a fixed number or proportional to the size of sample pool of that class.\n\n* Cluster sampling\n\nHowever, in practice random sampling is sometimes difficult to achieve, especially when the sample is selected by hand or a semi-automatic method. The sample pixels generally tend to be more clustering than random. (it is actually what we do in the ENVI class: drag a region of interest and treat it as sample set)\n\n* Boundary sampling\n\nIts basic idea is that support vectors are likely also located near the geographical boundary of two classes. Although pixels located around geographic boundaries might contain spectral information of both classes to some extent, Foody and Mathur (2006) suggested that mixing pixels at two sides of ground object boundary could be highly effective in SVM even the sample size was very smaller. They considered this approach as a competitive alternative of conventional sampling strategy.\n\nSo I select three training sets based on above sampling rules (See Figure 2).\n\n{% asset_img trainsample.png This is an example image %}\n\n## Training set in feature space\n\n---\n\nWhile using the SVM, we hope that our training samples are located near the boundary of classes in the feature space. Figure 3 shows how samples in three training sets, as well as the test set, scatter at a feature space (red band vs. NIR band).\n\n{% asset_img featurespace.png This is an example image %}\n\nCloud has high reflectance in both red band and near infrared band, however, the reflectance of ground objects (most are vegetation) is low in red band and high in near infrared band. Due to the reflectance difference, samples in the feature space apparently belong to two distinct groups: cloud and ground objects. As shown in Figure 3, the distribution of samples in different training sets are totally different. Boundary sampling produced samples located near the boundary of two classes. Samples generated with stratified random sampling could better represent the overall characteristics of two classes. Clustering sampling within high confidence area would generate samples also clustering in the feature space.\n\n## Result\n\n---\n\nThe classification results are shown in Table 1 and Figure 4.\n\n{% asset_img accuracytable.png This is an example image %}\n\n{% asset_img accuracyfigure.png This is an example image %}\n\nThe results, as expected, indicate that boundary sampling is able to generate better training sample and contribute to higher classification accuracy, compared to the other two sampling strategies.\n\nALl trained classifiers are also applied to the whole study image. Classifier trained with boundary samples is very sensitive to the difference between cloud and non-cloud pixels. It will try to differentiate all mixing pixels and this could be too sensitive. Classifier trained by cluster samples only recognizes thick cloud on the image and ignores pixels with mixing spectral information. Classifier trained by stratified random samples takes a balance between them: neither too aggressive nor too conventional. For detailed discussion, please read my report (see link below).\n\n## Conclusion\n\n---\n\nLet's get back to our initial questions and their answers.\n\n* Does the sampling rule used in traditional methods also work for SVM?\n\nApparently the traditional stratified random sampling still works pretty well for the SVM classification. The classification accuracy in the experiment is about 90%, which is high enough for most situations.\n\n* How does the sampling rule affect the SVM classification result?\n\nIf we can use the portion of boundary (mixing) pixels in the training set to define sampling rule, we are able to build a link among three sampling rules used above. As we include more boundary pixels into the training set, the classifier would become more sensitive and have a better performance in identifying mixing objects. However, high sensitivity could also increase the error rate while identifying mixing objects. There is a trade-off between high sensitivity and low error rate within the selection of sampling strategies.\n\nThere is no generally appropriate sampling rule for all situations. However, depending on the need of classification, there exits an appropriate sampling rule for specific situation. Therefore, it is not difficult to understand why the stratified random sampling is still the first choice in practical use. Though classifier trained stratified random sampling is expected to have fair performance, it is less likely to be trapped into the problem of overestimation and underestimation.\n\n## Link\n\n---\n\nThis article is a simplified version of my project report. For more detail, please read my full report [A Comparison of Sampling Strategies in SVM Classification](https://www.dropbox.com/s/yadta4jnuqgml9s/svm_sampling_report.pdf?dl=0).\n\n## Reference\n\n---\n\n[1] Foody, G. M. and A. Mathur (2006). \"The use of small training sets containing mixed pixels for accurate hard image classification: Training on mixed spectral responses for classification by a SVM.\" Remote Sensing of Environment 103(2): 179-189.\n","slug":"Comparison-of-different-sampling-rules-in-SVM-classification","published":1,"updated":"2020-08-08T11:06:20.598Z","layout":"post","photos":[],"link":"","_id":"ckirpyfgz000d0055sl8rwxms","content":"<p>The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course <em>Advanced Remote Sensing</em>.</p><p>The quality of training sample has deterministic influence to the accuracy of supervised classification methods. A properly designed sampling rule plays a substantial role in yielding an informative training sample set. The design of sampling strategy depends on both the characteristics of objects of interest and the applied classification methods.</p><a id=\"more\"></a><p>Support Vector Machine (SVM) is an increasingly popular classification method for remote sensing image both in industry and research. As for the theory and concept of SVM, there have been many introductory articles such as [Roemer`s blog](<a href=\"http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/\" target=\"_blank\" rel=\"noopener\">http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/</a>). Because support vectors are selected from training samples for maximizing the margin between classes, quality of sample set will decide the effectiveness of the hyperplane and affect the performance of the classifier.</p><p>In brief the mechanism of SVM is very different from traditional methods like Maximum Likelihood Classification. Here comes the question: <strong>Does the sampling rule used in traditional methods also work for SVM? How does the sampling rule affect the SVM classification result?</strong></p><h2 id=\"Experiment\"><a href=\"#Experiment\" class=\"headerlink\" title=\"Experiment\"></a>Experiment</h2><hr><p>To answer this question, I would like to set up a scenario for the classification experiment. In this case, I choose to perform a cloud detection based on Landsat 8 OLI image for two reasons:</p><ul><li><p>It is a most basic binary classification.</p></li><li><p>Cloud detection could be very challenging because thin cloud is very difficult to detect in many situations.</p></li></ul><p>I use an image with both thick cloud and thin cloud in order to increase the difficulty of classification (See Figure 1). <a href=\"http://landsat.usgs.gov/band_designations_landsat_satellites.php\" target=\"_blank\" rel=\"noopener\">Band 2 to 7</a> are used and the SVM classifier in ENVI is utilized with default configuration. Four hundred pixels are randomly picked up as test sample: half of them are cloud (blue points) and the others are ground objects (yellow points).</p><img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/testSample.png\" title=\"This is an example image\"><h2 id=\"Sampling-Rules\"><a href=\"#Sampling-Rules\" class=\"headerlink\" title=\"Sampling Rules\"></a>Sampling Rules</h2><hr><p>I am particularly interested in three sample rules.</p><ul><li>Stratified random sampling</li></ul><p>This is a classic sample rule. Its idea is to randomly select training samples of one class from the sample pool of that class. The sample size of each class could be a fixed number or proportional to the size of sample pool of that class.</p><ul><li>Cluster sampling</li></ul><p>However, in practice random sampling is sometimes difficult to achieve, especially when the sample is selected by hand or a semi-automatic method. The sample pixels generally tend to be more clustering than random. (it is actually what we do in the ENVI class: drag a region of interest and treat it as sample set)</p><ul><li>Boundary sampling</li></ul><p>Its basic idea is that support vectors are likely also located near the geographical boundary of two classes. Although pixels located around geographic boundaries might contain spectral information of both classes to some extent, Foody and Mathur (2006) suggested that mixing pixels at two sides of ground object boundary could be highly effective in SVM even the sample size was very smaller. They considered this approach as a competitive alternative of conventional sampling strategy.</p><p>So I select three training sets based on above sampling rules (See Figure 2).</p><img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/trainsample.png\" title=\"This is an example image\"><h2 id=\"Training-set-in-feature-space\"><a href=\"#Training-set-in-feature-space\" class=\"headerlink\" title=\"Training set in feature space\"></a>Training set in feature space</h2><hr><p>While using the SVM, we hope that our training samples are located near the boundary of classes in the feature space. Figure 3 shows how samples in three training sets, as well as the test set, scatter at a feature space (red band vs. NIR band).</p><img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/featurespace.png\" title=\"This is an example image\"><p>Cloud has high reflectance in both red band and near infrared band, however, the reflectance of ground objects (most are vegetation) is low in red band and high in near infrared band. Due to the reflectance difference, samples in the feature space apparently belong to two distinct groups: cloud and ground objects. As shown in Figure 3, the distribution of samples in different training sets are totally different. Boundary sampling produced samples located near the boundary of two classes. Samples generated with stratified random sampling could better represent the overall characteristics of two classes. Clustering sampling within high confidence area would generate samples also clustering in the feature space.</p><h2 id=\"Result\"><a href=\"#Result\" class=\"headerlink\" title=\"Result\"></a>Result</h2><hr><p>The classification results are shown in Table 1 and Figure 4.</p><img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/accuracytable.png\" title=\"This is an example image\"> <img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/accuracyfigure.png\" title=\"This is an example image\"><p>The results, as expected, indicate that boundary sampling is able to generate better training sample and contribute to higher classification accuracy, compared to the other two sampling strategies.</p><p>ALl trained classifiers are also applied to the whole study image. Classifier trained with boundary samples is very sensitive to the difference between cloud and non-cloud pixels. It will try to differentiate all mixing pixels and this could be too sensitive. Classifier trained by cluster samples only recognizes thick cloud on the image and ignores pixels with mixing spectral information. Classifier trained by stratified random samples takes a balance between them: neither too aggressive nor too conventional. For detailed discussion, please read my report (see link below).</p><h2 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h2><hr><p>Lets get back to our initial questions and their answers.</p><ul><li>Does the sampling rule used in traditional methods also work for SVM?</li></ul><p>Apparently the traditional stratified random sampling still works pretty well for the SVM classification. The classification accuracy in the experiment is about 90%, which is high enough for most situations.</p><ul><li>How does the sampling rule affect the SVM classification result?</li></ul><p>If we can use the portion of boundary (mixing) pixels in the training set to define sampling rule, we are able to build a link among three sampling rules used above. As we include more boundary pixels into the training set, the classifier would become more sensitive and have a better performance in identifying mixing objects. However, high sensitivity could also increase the error rate while identifying mixing objects. There is a trade-off between high sensitivity and low error rate within the selection of sampling strategies.</p><p>There is no generally appropriate sampling rule for all situations. However, depending on the need of classification, there exits an appropriate sampling rule for specific situation. Therefore, it is not difficult to understand why the stratified random sampling is still the first choice in practical use. Though classifier trained stratified random sampling is expected to have fair performance, it is less likely to be trapped into the problem of overestimation and underestimation.</p><h2 id=\"Link\"><a href=\"#Link\" class=\"headerlink\" title=\"Link\"></a>Link</h2><hr><p>This article is a simplified version of my project report. For more detail, please read my full report <a href=\"https://www.dropbox.com/s/yadta4jnuqgml9s/svm_sampling_report.pdf?dl=0\" target=\"_blank\" rel=\"noopener\">A Comparison of Sampling Strategies in SVM Classification</a>.</p><h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><hr><p>[1] Foody, G. M. and A. Mathur (2006). The use of small training sets containing mixed pixels for accurate hard image classification: Training on mixed spectral responses for classification by a SVM. Remote Sensing of Environment 103(2): 179-189.</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course <em>Advanced Remote Sensing</em>.</p><p>The quality of training sample has deterministic influence to the accuracy of supervised classification methods. A properly designed sampling rule plays a substantial role in yielding an informative training sample set. The design of sampling strategy depends on both the characteristics of objects of interest and the applied classification methods.</p>","more":"<p>Support Vector Machine (SVM) is an increasingly popular classification method for remote sensing image both in industry and research. As for the theory and concept of SVM, there have been many introductory articles such as [Roemer`s blog](<a href=\"http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/\" target=\"_blank\" rel=\"noopener\">http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/</a>). Because support vectors are selected from training samples for maximizing the margin between classes, quality of sample set will decide the effectiveness of the hyperplane and affect the performance of the classifier.</p><p>In brief the mechanism of SVM is very different from traditional methods like Maximum Likelihood Classification. Here comes the question: <strong>Does the sampling rule used in traditional methods also work for SVM? How does the sampling rule affect the SVM classification result?</strong></p><h2 id=\"Experiment\"><a href=\"#Experiment\" class=\"headerlink\" title=\"Experiment\"></a>Experiment</h2><hr><p>To answer this question, I would like to set up a scenario for the classification experiment. In this case, I choose to perform a cloud detection based on Landsat 8 OLI image for two reasons:</p><ul><li><p>It is a most basic binary classification.</p></li><li><p>Cloud detection could be very challenging because thin cloud is very difficult to detect in many situations.</p></li></ul><p>I use an image with both thick cloud and thin cloud in order to increase the difficulty of classification (See Figure 1). <a href=\"http://landsat.usgs.gov/band_designations_landsat_satellites.php\" target=\"_blank\" rel=\"noopener\">Band 2 to 7</a> are used and the SVM classifier in ENVI is utilized with default configuration. Four hundred pixels are randomly picked up as test sample: half of them are cloud (blue points) and the others are ground objects (yellow points).</p><img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/testSample.png\" title=\"This is an example image\"><h2 id=\"Sampling-Rules\"><a href=\"#Sampling-Rules\" class=\"headerlink\" title=\"Sampling Rules\"></a>Sampling Rules</h2><hr><p>I am particularly interested in three sample rules.</p><ul><li>Stratified random sampling</li></ul><p>This is a classic sample rule. Its idea is to randomly select training samples of one class from the sample pool of that class. The sample size of each class could be a fixed number or proportional to the size of sample pool of that class.</p><ul><li>Cluster sampling</li></ul><p>However, in practice random sampling is sometimes difficult to achieve, especially when the sample is selected by hand or a semi-automatic method. The sample pixels generally tend to be more clustering than random. (it is actually what we do in the ENVI class: drag a region of interest and treat it as sample set)</p><ul><li>Boundary sampling</li></ul><p>Its basic idea is that support vectors are likely also located near the geographical boundary of two classes. Although pixels located around geographic boundaries might contain spectral information of both classes to some extent, Foody and Mathur (2006) suggested that mixing pixels at two sides of ground object boundary could be highly effective in SVM even the sample size was very smaller. They considered this approach as a competitive alternative of conventional sampling strategy.</p><p>So I select three training sets based on above sampling rules (See Figure 2).</p><img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/trainsample.png\" title=\"This is an example image\"><h2 id=\"Training-set-in-feature-space\"><a href=\"#Training-set-in-feature-space\" class=\"headerlink\" title=\"Training set in feature space\"></a>Training set in feature space</h2><hr><p>While using the SVM, we hope that our training samples are located near the boundary of classes in the feature space. Figure 3 shows how samples in three training sets, as well as the test set, scatter at a feature space (red band vs. NIR band).</p><img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/featurespace.png\" title=\"This is an example image\"><p>Cloud has high reflectance in both red band and near infrared band, however, the reflectance of ground objects (most are vegetation) is low in red band and high in near infrared band. Due to the reflectance difference, samples in the feature space apparently belong to two distinct groups: cloud and ground objects. As shown in Figure 3, the distribution of samples in different training sets are totally different. Boundary sampling produced samples located near the boundary of two classes. Samples generated with stratified random sampling could better represent the overall characteristics of two classes. Clustering sampling within high confidence area would generate samples also clustering in the feature space.</p><h2 id=\"Result\"><a href=\"#Result\" class=\"headerlink\" title=\"Result\"></a>Result</h2><hr><p>The classification results are shown in Table 1 and Figure 4.</p><img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/accuracytable.png\" title=\"This is an example image\"> <img src=\"/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/accuracyfigure.png\" title=\"This is an example image\"><p>The results, as expected, indicate that boundary sampling is able to generate better training sample and contribute to higher classification accuracy, compared to the other two sampling strategies.</p><p>ALl trained classifiers are also applied to the whole study image. Classifier trained with boundary samples is very sensitive to the difference between cloud and non-cloud pixels. It will try to differentiate all mixing pixels and this could be too sensitive. Classifier trained by cluster samples only recognizes thick cloud on the image and ignores pixels with mixing spectral information. Classifier trained by stratified random samples takes a balance between them: neither too aggressive nor too conventional. For detailed discussion, please read my report (see link below).</p><h2 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h2><hr><p>Lets get back to our initial questions and their answers.</p><ul><li>Does the sampling rule used in traditional methods also work for SVM?</li></ul><p>Apparently the traditional stratified random sampling still works pretty well for the SVM classification. The classification accuracy in the experiment is about 90%, which is high enough for most situations.</p><ul><li>How does the sampling rule affect the SVM classification result?</li></ul><p>If we can use the portion of boundary (mixing) pixels in the training set to define sampling rule, we are able to build a link among three sampling rules used above. As we include more boundary pixels into the training set, the classifier would become more sensitive and have a better performance in identifying mixing objects. However, high sensitivity could also increase the error rate while identifying mixing objects. There is a trade-off between high sensitivity and low error rate within the selection of sampling strategies.</p><p>There is no generally appropriate sampling rule for all situations. However, depending on the need of classification, there exits an appropriate sampling rule for specific situation. Therefore, it is not difficult to understand why the stratified random sampling is still the first choice in practical use. Though classifier trained stratified random sampling is expected to have fair performance, it is less likely to be trapped into the problem of overestimation and underestimation.</p><h2 id=\"Link\"><a href=\"#Link\" class=\"headerlink\" title=\"Link\"></a>Link</h2><hr><p>This article is a simplified version of my project report. For more detail, please read my full report <a href=\"https://www.dropbox.com/s/yadta4jnuqgml9s/svm_sampling_report.pdf?dl=0\" target=\"_blank\" rel=\"noopener\">A Comparison of Sampling Strategies in SVM Classification</a>.</p><h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><hr><p>[1] Foody, G. M. and A. Mathur (2006). The use of small training sets containing mixed pixels for accurate hard image classification: Training on mixed spectral responses for classification by a SVM. Remote Sensing of Environment 103(2): 179-189.</p>"},{"title":"Converting C# Data Value to ArcObject Raster Pixel Value","date":"2015-03-21T18:30:54.000Z","comments":1,"_content":"\nThe length of remote sensing pixel value is constrained by a predefined pixel value type. It is an unchangeable property for each remote sensing image and saving an unsupported value to a image may cause unpredictable errors like application crash or information loss resulted from implicit data type conversion.\n<!-- more -->\nIf you are developing application based on ArcObject, you could know the pixel type of a raster layer simply with following code.\n\n``` csharp\nIRasterLayer rasterLayer = (IRasterLayer)layer;\nIRasterProps rasterProps = (IRasterProps)rasterLayer.Raster;\n\n// Get the pixel type of you raster layer\nrstPixelType pixelType = rasterProps.PixelType;\n```\n\nYou can find a full list and detailed explanation of ArcObject raster pixel types in [this page](http://resources.esri.com/help/9.3/arcgisengine/java/api/arcobjects/com/esri/arcgis/geodatabase/rstPixelType.html).\n\nNot every raster pixel types has a corresponding C# value type. So I make a list for those pixels types having relative in C# so that we can make correct conversion while developing.\n\nArcMap Pixel Type  | Description                     | Corresponding C# Data Type  | Supported\n------------------ | ------------------------------- | --------------------------- |-----------\nPT_UNKNOWN         | unknown                         |                             | No\nPT_U1              | 1 bit                           |                             | No\nPT_U2              | 2 bit                           |                             | No\nPT_U4              | 4 bit                           |                             | No\nPT_UCHAR           | unsigned 8 bit integer          | Byte                        | Yes\nPT_CHAR            | 8 bit integer                   | SByte                       | Yes\nPT_USHORT          | unsigned 16 bit integer         | UInt16                      | Yes\nPT_SHORT           | 16 bit integer                  | Int16                       | Yes\nPT_ULONG           | unsigned 32 bit integer         | UInt32                      | Yes\nPT_LONG            | 32 bit integer                  | Int32                       | Yes\nPT_FLOAT           | single precision floating point | Single                      | Yes\nPT_DOUBLE          | double precision floating point | Double                      | Yes\nPT_COMPLEX         | single precision complex        |                             | No\nPT_DCOMPLEX        | double precision complex        |                             | No\nPT_CSHORT          | short integer complex           |                             | No\nPT_CLONG           | long integer complex            |                             | No\n\n\nBased on this table, I write a function to wrap the conversion from C# data type to valid ArcObject pixel value type. I use it in my project [ArcMap Raster Edit Suite](https://github.com/haoliangyu/ares) and it work pretty well.\n\n```csharp\n/// <summary>\n/// Convert the csharp value to the ArcObject pixel value.\n/// </summary>\n/// <param name=\"csharpValue\">Cshapr value</param>\n/// <param name=\"pixelValueType\">The pixel type of ouput value</param>\n/// <param name=\"pixelValue\">Output pixel value</param>\n/// <returns>A value indicating whether the convention is successful</returns>\npublic static bool CSharpValue2PixelValue(object csharpValue, rstPixelType pixelValueType, out object pixelValue)\n{\n    try\n    {\n        switch (pixelValueType)\n        {\n            case rstPixelType.PT_UCHAR:\n                pixelValue = (object)Convert.ToByte(csharpValue);\n                return true;\n            case rstPixelType.PT_CHAR:\n                pixelValue = (object)Convert.ToSByte(csharpValue);\n                return true;\n            case rstPixelType.PT_SHORT:\n                pixelValue = (object)Convert.ToInt16(csharpValue);\n                return true;\n            case rstPixelType.PT_USHORT:\n                pixelValue = (object)Convert.ToUInt16(csharpValue);\n                return true;\n            case rstPixelType.PT_CLONG:\n                pixelValue = (object)Convert.ToInt32(csharpValue);\n                return true;\n            case rstPixelType.PT_ULONG:\n                pixelValue = (object)Convert.ToUInt32(csharpValue);\n                return true;\n            case rstPixelType.PT_FLOAT:\n                pixelValue = (object)Convert.ToSingle(csharpValue);\n                return true;\n            case rstPixelType.PT_DOUBLE:\n                pixelValue = (object)Convert.ToDouble(csharpValue);\n                return true;\n            default:\n                pixelValue = null;\n                return false;\n        }\n    }\n    catch (Exception)\n    {\n        pixelValue = null;\n        return false;\n    }\n}\n```\n","source":"_posts/Converting-C-Data-Value-to-ArcObject-Raster-Pixel-Value.md","raw":"title: Converting C# Data Value to ArcObject Raster Pixel Value\ndate: 2015-03-21 21:30:54\ncomments: true\ncategories:\n- GIS\ntags:\n- arcobject\n- C#\n---\n\nThe length of remote sensing pixel value is constrained by a predefined pixel value type. It is an unchangeable property for each remote sensing image and saving an unsupported value to a image may cause unpredictable errors like application crash or information loss resulted from implicit data type conversion.\n<!-- more -->\nIf you are developing application based on ArcObject, you could know the pixel type of a raster layer simply with following code.\n\n``` csharp\nIRasterLayer rasterLayer = (IRasterLayer)layer;\nIRasterProps rasterProps = (IRasterProps)rasterLayer.Raster;\n\n// Get the pixel type of you raster layer\nrstPixelType pixelType = rasterProps.PixelType;\n```\n\nYou can find a full list and detailed explanation of ArcObject raster pixel types in [this page](http://resources.esri.com/help/9.3/arcgisengine/java/api/arcobjects/com/esri/arcgis/geodatabase/rstPixelType.html).\n\nNot every raster pixel types has a corresponding C# value type. So I make a list for those pixels types having relative in C# so that we can make correct conversion while developing.\n\nArcMap Pixel Type  | Description                     | Corresponding C# Data Type  | Supported\n------------------ | ------------------------------- | --------------------------- |-----------\nPT_UNKNOWN         | unknown                         |                             | No\nPT_U1              | 1 bit                           |                             | No\nPT_U2              | 2 bit                           |                             | No\nPT_U4              | 4 bit                           |                             | No\nPT_UCHAR           | unsigned 8 bit integer          | Byte                        | Yes\nPT_CHAR            | 8 bit integer                   | SByte                       | Yes\nPT_USHORT          | unsigned 16 bit integer         | UInt16                      | Yes\nPT_SHORT           | 16 bit integer                  | Int16                       | Yes\nPT_ULONG           | unsigned 32 bit integer         | UInt32                      | Yes\nPT_LONG            | 32 bit integer                  | Int32                       | Yes\nPT_FLOAT           | single precision floating point | Single                      | Yes\nPT_DOUBLE          | double precision floating point | Double                      | Yes\nPT_COMPLEX         | single precision complex        |                             | No\nPT_DCOMPLEX        | double precision complex        |                             | No\nPT_CSHORT          | short integer complex           |                             | No\nPT_CLONG           | long integer complex            |                             | No\n\n\nBased on this table, I write a function to wrap the conversion from C# data type to valid ArcObject pixel value type. I use it in my project [ArcMap Raster Edit Suite](https://github.com/haoliangyu/ares) and it work pretty well.\n\n```csharp\n/// <summary>\n/// Convert the csharp value to the ArcObject pixel value.\n/// </summary>\n/// <param name=\"csharpValue\">Cshapr value</param>\n/// <param name=\"pixelValueType\">The pixel type of ouput value</param>\n/// <param name=\"pixelValue\">Output pixel value</param>\n/// <returns>A value indicating whether the convention is successful</returns>\npublic static bool CSharpValue2PixelValue(object csharpValue, rstPixelType pixelValueType, out object pixelValue)\n{\n    try\n    {\n        switch (pixelValueType)\n        {\n            case rstPixelType.PT_UCHAR:\n                pixelValue = (object)Convert.ToByte(csharpValue);\n                return true;\n            case rstPixelType.PT_CHAR:\n                pixelValue = (object)Convert.ToSByte(csharpValue);\n                return true;\n            case rstPixelType.PT_SHORT:\n                pixelValue = (object)Convert.ToInt16(csharpValue);\n                return true;\n            case rstPixelType.PT_USHORT:\n                pixelValue = (object)Convert.ToUInt16(csharpValue);\n                return true;\n            case rstPixelType.PT_CLONG:\n                pixelValue = (object)Convert.ToInt32(csharpValue);\n                return true;\n            case rstPixelType.PT_ULONG:\n                pixelValue = (object)Convert.ToUInt32(csharpValue);\n                return true;\n            case rstPixelType.PT_FLOAT:\n                pixelValue = (object)Convert.ToSingle(csharpValue);\n                return true;\n            case rstPixelType.PT_DOUBLE:\n                pixelValue = (object)Convert.ToDouble(csharpValue);\n                return true;\n            default:\n                pixelValue = null;\n                return false;\n        }\n    }\n    catch (Exception)\n    {\n        pixelValue = null;\n        return false;\n    }\n}\n```\n","slug":"Converting-C-Data-Value-to-ArcObject-Raster-Pixel-Value","published":1,"updated":"2020-08-08T11:06:20.607Z","layout":"post","photos":[],"link":"","_id":"ckirpyfh1000e0055znjir5o7","content":"<p>The length of remote sensing pixel value is constrained by a predefined pixel value type. It is an unchangeable property for each remote sensing image and saving an unsupported value to a image may cause unpredictable errors like application crash or information loss resulted from implicit data type conversion.</p><a id=\"more\"></a><p>If you are developing application based on ArcObject, you could know the pixel type of a raster layer simply with following code.</p><figure class=\"highlight csharp\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">IRasterLayer rasterLayer = (IRasterLayer)layer;</span><br><span class=\"line\">IRasterProps rasterProps = (IRasterProps)rasterLayer.Raster;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Get the pixel type of you raster layer</span></span><br><span class=\"line\">rstPixelType pixelType = rasterProps.PixelType;</span><br></pre></td></tr></tbody></table></figure><p>You can find a full list and detailed explanation of ArcObject raster pixel types in <a href=\"http://resources.esri.com/help/9.3/arcgisengine/java/api/arcobjects/com/esri/arcgis/geodatabase/rstPixelType.html\" target=\"_blank\" rel=\"noopener\">this page</a>.</p><p>Not every raster pixel types has a corresponding C# value type. So I make a list for those pixels types having relative in C# so that we can make correct conversion while developing.</p><table><thead><tr><th>ArcMap Pixel Type</th><th>Description</th><th>Corresponding C# Data Type</th><th>Supported</th></tr></thead><tbody><tr><td>PT_UNKNOWN</td><td>unknown</td><td></td><td>No</td></tr><tr><td>PT_U1</td><td>1 bit</td><td></td><td>No</td></tr><tr><td>PT_U2</td><td>2 bit</td><td></td><td>No</td></tr><tr><td>PT_U4</td><td>4 bit</td><td></td><td>No</td></tr><tr><td>PT_UCHAR</td><td>unsigned 8 bit integer</td><td>Byte</td><td>Yes</td></tr><tr><td>PT_CHAR</td><td>8 bit integer</td><td>SByte</td><td>Yes</td></tr><tr><td>PT_USHORT</td><td>unsigned 16 bit integer</td><td>UInt16</td><td>Yes</td></tr><tr><td>PT_SHORT</td><td>16 bit integer</td><td>Int16</td><td>Yes</td></tr><tr><td>PT_ULONG</td><td>unsigned 32 bit integer</td><td>UInt32</td><td>Yes</td></tr><tr><td>PT_LONG</td><td>32 bit integer</td><td>Int32</td><td>Yes</td></tr><tr><td>PT_FLOAT</td><td>single precision floating point</td><td>Single</td><td>Yes</td></tr><tr><td>PT_DOUBLE</td><td>double precision floating point</td><td>Double</td><td>Yes</td></tr><tr><td>PT_COMPLEX</td><td>single precision complex</td><td></td><td>No</td></tr><tr><td>PT_DCOMPLEX</td><td>double precision complex</td><td></td><td>No</td></tr><tr><td>PT_CSHORT</td><td>short integer complex</td><td></td><td>No</td></tr><tr><td>PT_CLONG</td><td>long integer complex</td><td></td><td>No</td></tr></tbody></table><p>Based on this table, I write a function to wrap the conversion from C# data type to valid ArcObject pixel value type. I use it in my project <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\">ArcMap Raster Edit Suite</a> and it work pretty well.</p><figure class=\"highlight csharp\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Convert the csharp value to the ArcObject pixel value.</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"csharpValue\"&gt;</span>Cshapr value<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"pixelValueType\"&gt;</span>The pixel type of ouput value<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"pixelValue\"&gt;</span>Output pixel value<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>A value indicating whether the convention is successful<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">bool</span> <span class=\"title\">CSharpValue2PixelValue</span>(<span class=\"params\"><span class=\"keyword\">object</span> csharpValue, rstPixelType pixelValueType, <span class=\"keyword\">out</span> <span class=\"keyword\">object</span> pixelValue</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>{</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    {</span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (pixelValueType)</span><br><span class=\"line\">        {</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_UCHAR:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToByte(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_CHAR:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToSByte(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_SHORT:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToInt16(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_USHORT:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToUInt16(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_CLONG:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToInt32(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_ULONG:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToUInt32(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_FLOAT:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToSingle(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_DOUBLE:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToDouble(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">default</span>:</span><br><span class=\"line\">                pixelValue = <span class=\"literal\">null</span>;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">    {</span><br><span class=\"line\">        pixelValue = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>The length of remote sensing pixel value is constrained by a predefined pixel value type. It is an unchangeable property for each remote sensing image and saving an unsupported value to a image may cause unpredictable errors like application crash or information loss resulted from implicit data type conversion.</p>","more":"<p>If you are developing application based on ArcObject, you could know the pixel type of a raster layer simply with following code.</p><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">IRasterLayer rasterLayer = (IRasterLayer)layer;</span><br><span class=\"line\">IRasterProps rasterProps = (IRasterProps)rasterLayer.Raster;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Get the pixel type of you raster layer</span></span><br><span class=\"line\">rstPixelType pixelType = rasterProps.PixelType;</span><br></pre></td></tr></table></figure><p>You can find a full list and detailed explanation of ArcObject raster pixel types in <a href=\"http://resources.esri.com/help/9.3/arcgisengine/java/api/arcobjects/com/esri/arcgis/geodatabase/rstPixelType.html\" target=\"_blank\" rel=\"noopener\">this page</a>.</p><p>Not every raster pixel types has a corresponding C# value type. So I make a list for those pixels types having relative in C# so that we can make correct conversion while developing.</p><table><thead><tr><th>ArcMap Pixel Type</th><th>Description</th><th>Corresponding C# Data Type</th><th>Supported</th></tr></thead><tbody><tr><td>PT_UNKNOWN</td><td>unknown</td><td></td><td>No</td></tr><tr><td>PT_U1</td><td>1 bit</td><td></td><td>No</td></tr><tr><td>PT_U2</td><td>2 bit</td><td></td><td>No</td></tr><tr><td>PT_U4</td><td>4 bit</td><td></td><td>No</td></tr><tr><td>PT_UCHAR</td><td>unsigned 8 bit integer</td><td>Byte</td><td>Yes</td></tr><tr><td>PT_CHAR</td><td>8 bit integer</td><td>SByte</td><td>Yes</td></tr><tr><td>PT_USHORT</td><td>unsigned 16 bit integer</td><td>UInt16</td><td>Yes</td></tr><tr><td>PT_SHORT</td><td>16 bit integer</td><td>Int16</td><td>Yes</td></tr><tr><td>PT_ULONG</td><td>unsigned 32 bit integer</td><td>UInt32</td><td>Yes</td></tr><tr><td>PT_LONG</td><td>32 bit integer</td><td>Int32</td><td>Yes</td></tr><tr><td>PT_FLOAT</td><td>single precision floating point</td><td>Single</td><td>Yes</td></tr><tr><td>PT_DOUBLE</td><td>double precision floating point</td><td>Double</td><td>Yes</td></tr><tr><td>PT_COMPLEX</td><td>single precision complex</td><td></td><td>No</td></tr><tr><td>PT_DCOMPLEX</td><td>double precision complex</td><td></td><td>No</td></tr><tr><td>PT_CSHORT</td><td>short integer complex</td><td></td><td>No</td></tr><tr><td>PT_CLONG</td><td>long integer complex</td><td></td><td>No</td></tr></tbody></table><p>Based on this table, I write a function to wrap the conversion from C# data type to valid ArcObject pixel value type. I use it in my project <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\">ArcMap Raster Edit Suite</a> and it work pretty well.</p><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> Convert the csharp value to the ArcObject pixel value.</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"csharpValue\"&gt;</span>Cshapr value<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"pixelValueType\"&gt;</span>The pixel type of ouput value<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"pixelValue\"&gt;</span>Output pixel value<span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span>A value indicating whether the convention is successful<span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">bool</span> <span class=\"title\">CSharpValue2PixelValue</span>(<span class=\"params\"><span class=\"keyword\">object</span> csharpValue, rstPixelType pixelValueType, <span class=\"keyword\">out</span> <span class=\"keyword\">object</span> pixelValue</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (pixelValueType)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_UCHAR:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToByte(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_CHAR:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToSByte(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_SHORT:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToInt16(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_USHORT:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToUInt16(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_CLONG:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToInt32(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_ULONG:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToUInt32(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_FLOAT:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToSingle(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> rstPixelType.PT_DOUBLE:</span><br><span class=\"line\">                pixelValue = (<span class=\"keyword\">object</span>)Convert.ToDouble(csharpValue);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">default</span>:</span><br><span class=\"line\">                pixelValue = <span class=\"literal\">null</span>;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (Exception)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        pixelValue = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Editing single pixels of raster layer in ArcMap with just a few clicks","date":"2015-02-17T18:42:56.000Z","comments":1,"_content":"\nEditing single pixels of a raster layer is a common task in daily GIS and RS practice. For example\n\n* Removing misclassified pixels from a land cover classification result\n\n* Creating a set of multiple raster layers with minor difference for model simulation\n\n* etc.\n\nIn ArcMap we use Raster Calculator and Reclassification tool as many instructions suggest. However, these tools are designed to edit the layer as a whole and they are not flexible enough for minor modification. If ArcMap allows us to edit single features of a vector layer, why we cannot edit single pixels of a raster layer in ArcMap? That is the reason why the project ArcMap Raster Edit Suite (ARES) starts. It aims at providing an ArcMAp Add-In with tools to allows single raster pixels editing, just like what we can do with the vector layer. Flexible, quick and neat!\n<!-- more -->\n## Download and Install\n\n---\n\nThis project is hosted and published at [GitHub](https://github.com/haoliangyu/ares). You can download the installation file at [Here](https://github.com/haoliangyu/ares/releases/download/0.1.3/AREA.0.1.3.zip)\n\nAfter the download finishes, you need to choose the installation file that matches the ArcMap on your computer because this Add-In support ArcMap 10.0/10.1/10.2. There are two files in the folder and **ARES.esriAddin** is what you need:\n\n{% asset_img unzipped_folder.png This is an example image %}\n\nDouble click and you could see the installation wizard.\n\n{% asset_img install_wizard.png This is an example image %}\n\nJust click **Install Add-In** and then you get it.\n\n## Raster Editor Toolbar\n\n----\n\nNow you have a new toolbar **Raster Editor** installed in your ArcMap.\n\n{% asset_img eidtor_toolbar.png This is an example image %}\n\nThis toolbar includes following tools:\n\n\n* {% asset_img edit_tool.png This is an example image %}: **Select & Edit**, which is used to select pixels for editing.\n\n* {% asset_img identify_tool.png This is an example image %}: **Identify**, which is used to select pixels in order to get their values, row/column indexes and zonal statistics.\n\n* {% asset_img gotopixel_tool.png This is an example image %}: **Go To Pixel**, which is used to locate pixel with given row and column index.\n\nThe purpose of this toolbar is to provide tools for precise modification with known row and column index.\n\n## Step by Step: Editing Raster Layer\n\n---\n\nIn this section, I am going to show a brief guide on how to edit single pixels of raster layer in ArcMap.\n\n* First of all, we have the layer imported in ArcMap.\n\n* Then start the editing section at the ***Start Editor*** menu by clicking ***Start Editing*** button. You can only edit one raster layer at one time. If there are more than one raster layers in ArcMap, there will be a prompt-up window to let you choose one.\n\n* Click the ***Select & Edit*** button to activate the tool.\n\n* Click or drag a region of interest on the layer to selected pixels. All selected pixels will be highlighted on the map with a blue frame. **Noted that selecting too much pixels may lead to crash of ArcMap**.\n\n{% asset_img select_pixels.png This is an example image %}\n\n* Edit values of selected pixel at the **Raster Edit** Window. All edits will be highlighted on the map with a yellow symbol.\n\n{% asset_img edit_pixels.png This is an example image %}\n\nMake sure your input value is compatible with the pixel type of the raster layer. Any pixel left blank will be considered as NoData Pixel.\n\n* Save edits to the raster file using ***Save Edits*** button on the ***Raster Editor*** menu. If you want to save edits to a new file, click the ***Save Edits As*** button. You will see the change of layer right after refreshing the ArcMap.\n\n{% asset_img finish_editing.png This is an example image %}\n\n* Stop the editing section by clicking ***Stop Editing*** button.\n\nNow you finish the editing section and get the desired result.\n\n## Why there is only one toolbar in the suite?\n\n---\n\nWell, we are working on anther toolbar so that we can make it a real tool suite. Please have a visit on our [project page](https://github.com/haoliangyu/ares) later.\n\nIf you like this project, give it a star :)\n","source":"_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks.md","raw":"title: Editing single pixels of raster layer in ArcMap with just a few clicks\ndate: 2015-02-17 21:42:56\ncomments: true\ncategories:\n- GIS\ntags:\n- gis\n- arcgis\n---\n\nEditing single pixels of a raster layer is a common task in daily GIS and RS practice. For example\n\n* Removing misclassified pixels from a land cover classification result\n\n* Creating a set of multiple raster layers with minor difference for model simulation\n\n* etc.\n\nIn ArcMap we use Raster Calculator and Reclassification tool as many instructions suggest. However, these tools are designed to edit the layer as a whole and they are not flexible enough for minor modification. If ArcMap allows us to edit single features of a vector layer, why we cannot edit single pixels of a raster layer in ArcMap? That is the reason why the project ArcMap Raster Edit Suite (ARES) starts. It aims at providing an ArcMAp Add-In with tools to allows single raster pixels editing, just like what we can do with the vector layer. Flexible, quick and neat!\n<!-- more -->\n## Download and Install\n\n---\n\nThis project is hosted and published at [GitHub](https://github.com/haoliangyu/ares). You can download the installation file at [Here](https://github.com/haoliangyu/ares/releases/download/0.1.3/AREA.0.1.3.zip)\n\nAfter the download finishes, you need to choose the installation file that matches the ArcMap on your computer because this Add-In support ArcMap 10.0/10.1/10.2. There are two files in the folder and **ARES.esriAddin** is what you need:\n\n{% asset_img unzipped_folder.png This is an example image %}\n\nDouble click and you could see the installation wizard.\n\n{% asset_img install_wizard.png This is an example image %}\n\nJust click **Install Add-In** and then you get it.\n\n## Raster Editor Toolbar\n\n----\n\nNow you have a new toolbar **Raster Editor** installed in your ArcMap.\n\n{% asset_img eidtor_toolbar.png This is an example image %}\n\nThis toolbar includes following tools:\n\n\n* {% asset_img edit_tool.png This is an example image %}: **Select & Edit**, which is used to select pixels for editing.\n\n* {% asset_img identify_tool.png This is an example image %}: **Identify**, which is used to select pixels in order to get their values, row/column indexes and zonal statistics.\n\n* {% asset_img gotopixel_tool.png This is an example image %}: **Go To Pixel**, which is used to locate pixel with given row and column index.\n\nThe purpose of this toolbar is to provide tools for precise modification with known row and column index.\n\n## Step by Step: Editing Raster Layer\n\n---\n\nIn this section, I am going to show a brief guide on how to edit single pixels of raster layer in ArcMap.\n\n* First of all, we have the layer imported in ArcMap.\n\n* Then start the editing section at the ***Start Editor*** menu by clicking ***Start Editing*** button. You can only edit one raster layer at one time. If there are more than one raster layers in ArcMap, there will be a prompt-up window to let you choose one.\n\n* Click the ***Select & Edit*** button to activate the tool.\n\n* Click or drag a region of interest on the layer to selected pixels. All selected pixels will be highlighted on the map with a blue frame. **Noted that selecting too much pixels may lead to crash of ArcMap**.\n\n{% asset_img select_pixels.png This is an example image %}\n\n* Edit values of selected pixel at the **Raster Edit** Window. All edits will be highlighted on the map with a yellow symbol.\n\n{% asset_img edit_pixels.png This is an example image %}\n\nMake sure your input value is compatible with the pixel type of the raster layer. Any pixel left blank will be considered as NoData Pixel.\n\n* Save edits to the raster file using ***Save Edits*** button on the ***Raster Editor*** menu. If you want to save edits to a new file, click the ***Save Edits As*** button. You will see the change of layer right after refreshing the ArcMap.\n\n{% asset_img finish_editing.png This is an example image %}\n\n* Stop the editing section by clicking ***Stop Editing*** button.\n\nNow you finish the editing section and get the desired result.\n\n## Why there is only one toolbar in the suite?\n\n---\n\nWell, we are working on anther toolbar so that we can make it a real tool suite. Please have a visit on our [project page](https://github.com/haoliangyu/ares) later.\n\nIf you like this project, give it a star :)\n","slug":"Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks","published":1,"updated":"2020-08-08T11:06:20.608Z","layout":"post","photos":[],"link":"","_id":"ckirpyfh4000i0055x0qewm90","content":"<p>Editing single pixels of a raster layer is a common task in daily GIS and RS practice. For example</p><ul><li><p>Removing misclassified pixels from a land cover classification result</p></li><li><p>Creating a set of multiple raster layers with minor difference for model simulation</p></li><li><p>etc.</p></li></ul><p>In ArcMap we use Raster Calculator and Reclassification tool as many instructions suggest. However, these tools are designed to edit the layer as a whole and they are not flexible enough for minor modification. If ArcMap allows us to edit single features of a vector layer, why we cannot edit single pixels of a raster layer in ArcMap? That is the reason why the project ArcMap Raster Edit Suite (ARES) starts. It aims at providing an ArcMAp Add-In with tools to allows single raster pixels editing, just like what we can do with the vector layer. Flexible, quick and neat!</p><a id=\"more\"></a><h2 id=\"Download-and-Install\"><a href=\"#Download-and-Install\" class=\"headerlink\" title=\"Download and Install\"></a>Download and Install</h2><hr><p>This project is hosted and published at <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\">GitHub</a>. You can download the installation file at <a href=\"https://github.com/haoliangyu/ares/releases/download/0.1.3/AREA.0.1.3.zip\" target=\"_blank\" rel=\"noopener\">Here</a></p><p>After the download finishes, you need to choose the installation file that matches the ArcMap on your computer because this Add-In support ArcMap 10.0/10.1/10.2. There are two files in the folder and <strong>ARES.esriAddin</strong> is what you need:</p><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/unzipped_folder.png\" title=\"This is an example image\"><p>Double click and you could see the installation wizard.</p><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/install_wizard.png\" title=\"This is an example image\"><p>Just click <strong>Install Add-In</strong> and then you get it.</p><h2 id=\"Raster-Editor-Toolbar\"><a href=\"#Raster-Editor-Toolbar\" class=\"headerlink\" title=\"Raster Editor Toolbar\"></a>Raster Editor Toolbar</h2><hr><p>Now you have a new toolbar <strong>Raster Editor</strong> installed in your ArcMap.</p><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/eidtor_toolbar.png\" title=\"This is an example image\"><p>This toolbar includes following tools:</p><ul><li><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/edit_tool.png\" title=\"This is an example image\">: **Select &amp; Edit**, which is used to select pixels for editing.</li><li><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/identify_tool.png\" title=\"This is an example image\">: **Identify**, which is used to select pixels in order to get their values, row/column indexes and zonal statistics.</li><li><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/gotopixel_tool.png\" title=\"This is an example image\">: **Go To Pixel**, which is used to locate pixel with given row and column index.</li></ul><p>The purpose of this toolbar is to provide tools for precise modification with known row and column index.</p><h2 id=\"Step-by-Step-Editing-Raster-Layer\"><a href=\"#Step-by-Step-Editing-Raster-Layer\" class=\"headerlink\" title=\"Step by Step: Editing Raster Layer\"></a>Step by Step: Editing Raster Layer</h2><hr><p>In this section, I am going to show a brief guide on how to edit single pixels of raster layer in ArcMap.</p><ul><li><p>First of all, we have the layer imported in ArcMap.</p></li><li><p>Then start the editing section at the <strong><em>Start Editor</em></strong> menu by clicking <strong><em>Start Editing</em></strong> button. You can only edit one raster layer at one time. If there are more than one raster layers in ArcMap, there will be a prompt-up window to let you choose one.</p></li><li><p>Click the <strong><em>Select &amp; Edit</em></strong> button to activate the tool.</p></li><li><p>Click or drag a region of interest on the layer to selected pixels. All selected pixels will be highlighted on the map with a blue frame. <strong>Noted that selecting too much pixels may lead to crash of ArcMap</strong>.</p></li></ul><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/select_pixels.png\" title=\"This is an example image\"><ul><li>Edit values of selected pixel at the <strong>Raster Edit</strong> Window. All edits will be highlighted on the map with a yellow symbol.</li></ul><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/edit_pixels.png\" title=\"This is an example image\"><p>Make sure your input value is compatible with the pixel type of the raster layer. Any pixel left blank will be considered as NoData Pixel.</p><ul><li>Save edits to the raster file using <strong><em>Save Edits</em></strong> button on the <strong><em>Raster Editor</em></strong> menu. If you want to save edits to a new file, click the <strong><em>Save Edits As</em></strong> button. You will see the change of layer right after refreshing the ArcMap.</li></ul><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/finish_editing.png\" title=\"This is an example image\"><ul><li>Stop the editing section by clicking <strong><em>Stop Editing</em></strong> button.</li></ul><p>Now you finish the editing section and get the desired result.</p><h2 id=\"Why-there-is-only-one-toolbar-in-the-suite\"><a href=\"#Why-there-is-only-one-toolbar-in-the-suite\" class=\"headerlink\" title=\"Why there is only one toolbar in the suite?\"></a>Why there is only one toolbar in the suite?</h2><hr><p>Well, we are working on anther toolbar so that we can make it a real tool suite. Please have a visit on our <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\">project page</a> later.</p><p>If you like this project, give it a star :)</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>Editing single pixels of a raster layer is a common task in daily GIS and RS practice. For example</p><ul><li><p>Removing misclassified pixels from a land cover classification result</p></li><li><p>Creating a set of multiple raster layers with minor difference for model simulation</p></li><li><p>etc.</p></li></ul><p>In ArcMap we use Raster Calculator and Reclassification tool as many instructions suggest. However, these tools are designed to edit the layer as a whole and they are not flexible enough for minor modification. If ArcMap allows us to edit single features of a vector layer, why we cannot edit single pixels of a raster layer in ArcMap? That is the reason why the project ArcMap Raster Edit Suite (ARES) starts. It aims at providing an ArcMAp Add-In with tools to allows single raster pixels editing, just like what we can do with the vector layer. Flexible, quick and neat!</p>","more":"<h2 id=\"Download-and-Install\"><a href=\"#Download-and-Install\" class=\"headerlink\" title=\"Download and Install\"></a>Download and Install</h2><hr><p>This project is hosted and published at <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\">GitHub</a>. You can download the installation file at <a href=\"https://github.com/haoliangyu/ares/releases/download/0.1.3/AREA.0.1.3.zip\" target=\"_blank\" rel=\"noopener\">Here</a></p><p>After the download finishes, you need to choose the installation file that matches the ArcMap on your computer because this Add-In support ArcMap 10.0/10.1/10.2. There are two files in the folder and <strong>ARES.esriAddin</strong> is what you need:</p><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/unzipped_folder.png\" title=\"This is an example image\"><p>Double click and you could see the installation wizard.</p><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/install_wizard.png\" title=\"This is an example image\"><p>Just click <strong>Install Add-In</strong> and then you get it.</p><h2 id=\"Raster-Editor-Toolbar\"><a href=\"#Raster-Editor-Toolbar\" class=\"headerlink\" title=\"Raster Editor Toolbar\"></a>Raster Editor Toolbar</h2><hr><p>Now you have a new toolbar <strong>Raster Editor</strong> installed in your ArcMap.</p><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/eidtor_toolbar.png\" title=\"This is an example image\"><p>This toolbar includes following tools:</p><ul><li><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/edit_tool.png\" title=\"This is an example image\">: **Select & Edit**, which is used to select pixels for editing.</li><li><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/identify_tool.png\" title=\"This is an example image\">: **Identify**, which is used to select pixels in order to get their values, row/column indexes and zonal statistics.</li><li><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/gotopixel_tool.png\" title=\"This is an example image\">: **Go To Pixel**, which is used to locate pixel with given row and column index.</li></ul><p>The purpose of this toolbar is to provide tools for precise modification with known row and column index.</p><h2 id=\"Step-by-Step-Editing-Raster-Layer\"><a href=\"#Step-by-Step-Editing-Raster-Layer\" class=\"headerlink\" title=\"Step by Step: Editing Raster Layer\"></a>Step by Step: Editing Raster Layer</h2><hr><p>In this section, I am going to show a brief guide on how to edit single pixels of raster layer in ArcMap.</p><ul><li><p>First of all, we have the layer imported in ArcMap.</p></li><li><p>Then start the editing section at the <strong><em>Start Editor</em></strong> menu by clicking <strong><em>Start Editing</em></strong> button. You can only edit one raster layer at one time. If there are more than one raster layers in ArcMap, there will be a prompt-up window to let you choose one.</p></li><li><p>Click the <strong><em>Select &amp; Edit</em></strong> button to activate the tool.</p></li><li><p>Click or drag a region of interest on the layer to selected pixels. All selected pixels will be highlighted on the map with a blue frame. <strong>Noted that selecting too much pixels may lead to crash of ArcMap</strong>.</p></li></ul><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/select_pixels.png\" title=\"This is an example image\"><ul><li>Edit values of selected pixel at the <strong>Raster Edit</strong> Window. All edits will be highlighted on the map with a yellow symbol.</li></ul><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/edit_pixels.png\" title=\"This is an example image\"><p>Make sure your input value is compatible with the pixel type of the raster layer. Any pixel left blank will be considered as NoData Pixel.</p><ul><li>Save edits to the raster file using <strong><em>Save Edits</em></strong> button on the <strong><em>Raster Editor</em></strong> menu. If you want to save edits to a new file, click the <strong><em>Save Edits As</em></strong> button. You will see the change of layer right after refreshing the ArcMap.</li></ul><img src=\"/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/finish_editing.png\" title=\"This is an example image\"><ul><li>Stop the editing section by clicking <strong><em>Stop Editing</em></strong> button.</li></ul><p>Now you finish the editing section and get the desired result.</p><h2 id=\"Why-there-is-only-one-toolbar-in-the-suite\"><a href=\"#Why-there-is-only-one-toolbar-in-the-suite\" class=\"headerlink\" title=\"Why there is only one toolbar in the suite?\"></a>Why there is only one toolbar in the suite?</h2><hr><p>Well, we are working on anther toolbar so that we can make it a real tool suite. Please have a visit on our <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\">project page</a> later.</p><p>If you like this project, give it a star :)</p>"},{"title":"Generating masks from Landsat 8 image in ArcMap","date":"2015-05-08T18:38:02.000Z","comments":1,"_content":"\nTwo months ago I have written a small python package [pymasker](https://github.com/haoliangyu/pymasker) to generate mask from the Quality Assessment band of Landsat 8 image and MODIS land products. This package is gaining popularity, But scripting may not be convenient for users who are not familiar with programming, therefore I create a ArcMap python toolbox based on this package for interactive masking.\n<!-- more -->\nThe **ArcMasking** toolbox contains two script tools, one designed for Landsat 8 QA band and one for generic quality assessment bits in other NASA remote sensing products like MODIS.\n\nThis tool can be download at [GitHub](https://github.com/haoliangyu/arcmasker/releases/tag/ArcMasker_0.1). After unzipping the package, you could open the ArcMasker.tbx file at the Catalog window in ArcMap and find following tools.\n\n## From Landsat 8 QA Band\n\n---\n\n{% asset_img Masking_from_Landsat_8.png This is an example image %}\n\nThis tool is used to create masks from the Quality Assessment band of Landsat 8 OLI image. It requires several inputs:\n\n* **Quality Assessment Band** of Landsat 8 image\n\n* **Mask type** including cloud, cirrus, water, snow or vegetation\n\n* **Confidence Level** that indicates the likelihood of existing of specific situation. You can also choose to include confidence level above what has been selected.\n\n* **Output Mask** saving path\n\n## From Quality Assessment Bits\n\n---\n\n{% asset_img Masking_from_Quality_Assessment_Bits.png This is an example image %}\n\nThis tool is used to create masks from other NASA remote sensing products with general quality assessment bit like [MODIS land products](https://github.com/haoliangyu/pymasker/wiki/MODIS-use-sample). As each portion of QA bits suggests a certain condition of the image, this toolbox simply examines the value of specific portion of QA bits and generates mask accordingly. Required inputs include:\n\n* **Quality Assessment Band**\n\n* **Bit Position** that indicates where the desired portion of bits starts.\n\n* **Bit Length** that indicates the length of bits.\n\n* **Bit Value** that indicates the desired situation.\n\n* **Output Mask** saving path\n","source":"_posts/Generating-masks-from-Landsat-8-image-in-ArcMap.md","raw":"title: Generating masks from Landsat 8 image in ArcMap\ndate: 2015-05-08 21:38:02\ncomments: true\ncategories:\n- GIS\ntags:\n- landsat\n- remote sensing\n- arcgis\n---\n\nTwo months ago I have written a small python package [pymasker](https://github.com/haoliangyu/pymasker) to generate mask from the Quality Assessment band of Landsat 8 image and MODIS land products. This package is gaining popularity, But scripting may not be convenient for users who are not familiar with programming, therefore I create a ArcMap python toolbox based on this package for interactive masking.\n<!-- more -->\nThe **ArcMasking** toolbox contains two script tools, one designed for Landsat 8 QA band and one for generic quality assessment bits in other NASA remote sensing products like MODIS.\n\nThis tool can be download at [GitHub](https://github.com/haoliangyu/arcmasker/releases/tag/ArcMasker_0.1). After unzipping the package, you could open the ArcMasker.tbx file at the Catalog window in ArcMap and find following tools.\n\n## From Landsat 8 QA Band\n\n---\n\n{% asset_img Masking_from_Landsat_8.png This is an example image %}\n\nThis tool is used to create masks from the Quality Assessment band of Landsat 8 OLI image. It requires several inputs:\n\n* **Quality Assessment Band** of Landsat 8 image\n\n* **Mask type** including cloud, cirrus, water, snow or vegetation\n\n* **Confidence Level** that indicates the likelihood of existing of specific situation. You can also choose to include confidence level above what has been selected.\n\n* **Output Mask** saving path\n\n## From Quality Assessment Bits\n\n---\n\n{% asset_img Masking_from_Quality_Assessment_Bits.png This is an example image %}\n\nThis tool is used to create masks from other NASA remote sensing products with general quality assessment bit like [MODIS land products](https://github.com/haoliangyu/pymasker/wiki/MODIS-use-sample). As each portion of QA bits suggests a certain condition of the image, this toolbox simply examines the value of specific portion of QA bits and generates mask accordingly. Required inputs include:\n\n* **Quality Assessment Band**\n\n* **Bit Position** that indicates where the desired portion of bits starts.\n\n* **Bit Length** that indicates the length of bits.\n\n* **Bit Value** that indicates the desired situation.\n\n* **Output Mask** saving path\n","slug":"Generating-masks-from-Landsat-8-image-in-ArcMap","published":1,"updated":"2020-08-08T11:06:20.620Z","layout":"post","photos":[],"link":"","_id":"ckirpyfh6000j0055p6urbh5e","content":"<p>Two months ago I have written a small python package <a href=\"https://github.com/haoliangyu/pymasker\" target=\"_blank\" rel=\"noopener\">pymasker</a> to generate mask from the Quality Assessment band of Landsat 8 image and MODIS land products. This package is gaining popularity, But scripting may not be convenient for users who are not familiar with programming, therefore I create a ArcMap python toolbox based on this package for interactive masking.</p><a id=\"more\"></a><p>The <strong>ArcMasking</strong> toolbox contains two script tools, one designed for Landsat 8 QA band and one for generic quality assessment bits in other NASA remote sensing products like MODIS.</p><p>This tool can be download at <a href=\"https://github.com/haoliangyu/arcmasker/releases/tag/ArcMasker_0.1\" target=\"_blank\" rel=\"noopener\">GitHub</a>. After unzipping the package, you could open the ArcMasker.tbx file at the Catalog window in ArcMap and find following tools.</p><h2 id=\"From-Landsat-8-QA-Band\"><a href=\"#From-Landsat-8-QA-Band\" class=\"headerlink\" title=\"From Landsat 8 QA Band\"></a>From Landsat 8 QA Band</h2><hr><img src=\"/blog/2015/05/08/Generating-masks-from-Landsat-8-image-in-ArcMap/Masking_from_Landsat_8.png\" title=\"This is an example image\"><p>This tool is used to create masks from the Quality Assessment band of Landsat 8 OLI image. It requires several inputs:</p><ul><li><p><strong>Quality Assessment Band</strong> of Landsat 8 image</p></li><li><p><strong>Mask type</strong> including cloud, cirrus, water, snow or vegetation</p></li><li><p><strong>Confidence Level</strong> that indicates the likelihood of existing of specific situation. You can also choose to include confidence level above what has been selected.</p></li><li><p><strong>Output Mask</strong> saving path</p></li></ul><h2 id=\"From-Quality-Assessment-Bits\"><a href=\"#From-Quality-Assessment-Bits\" class=\"headerlink\" title=\"From Quality Assessment Bits\"></a>From Quality Assessment Bits</h2><hr><img src=\"/blog/2015/05/08/Generating-masks-from-Landsat-8-image-in-ArcMap/Masking_from_Quality_Assessment_Bits.png\" title=\"This is an example image\"><p>This tool is used to create masks from other NASA remote sensing products with general quality assessment bit like <a href=\"https://github.com/haoliangyu/pymasker/wiki/MODIS-use-sample\" target=\"_blank\" rel=\"noopener\">MODIS land products</a>. As each portion of QA bits suggests a certain condition of the image, this toolbox simply examines the value of specific portion of QA bits and generates mask accordingly. Required inputs include:</p><ul><li><p><strong>Quality Assessment Band</strong></p></li><li><p><strong>Bit Position</strong> that indicates where the desired portion of bits starts.</p></li><li><p><strong>Bit Length</strong> that indicates the length of bits.</p></li><li><p><strong>Bit Value</strong> that indicates the desired situation.</p></li><li><p><strong>Output Mask</strong> saving path</p></li></ul><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>Two months ago I have written a small python package <a href=\"https://github.com/haoliangyu/pymasker\" target=\"_blank\" rel=\"noopener\">pymasker</a> to generate mask from the Quality Assessment band of Landsat 8 image and MODIS land products. This package is gaining popularity, But scripting may not be convenient for users who are not familiar with programming, therefore I create a ArcMap python toolbox based on this package for interactive masking.</p>","more":"<p>The <strong>ArcMasking</strong> toolbox contains two script tools, one designed for Landsat 8 QA band and one for generic quality assessment bits in other NASA remote sensing products like MODIS.</p><p>This tool can be download at <a href=\"https://github.com/haoliangyu/arcmasker/releases/tag/ArcMasker_0.1\" target=\"_blank\" rel=\"noopener\">GitHub</a>. After unzipping the package, you could open the ArcMasker.tbx file at the Catalog window in ArcMap and find following tools.</p><h2 id=\"From-Landsat-8-QA-Band\"><a href=\"#From-Landsat-8-QA-Band\" class=\"headerlink\" title=\"From Landsat 8 QA Band\"></a>From Landsat 8 QA Band</h2><hr><img src=\"/blog/2015/05/08/Generating-masks-from-Landsat-8-image-in-ArcMap/Masking_from_Landsat_8.png\" title=\"This is an example image\"><p>This tool is used to create masks from the Quality Assessment band of Landsat 8 OLI image. It requires several inputs:</p><ul><li><p><strong>Quality Assessment Band</strong> of Landsat 8 image</p></li><li><p><strong>Mask type</strong> including cloud, cirrus, water, snow or vegetation</p></li><li><p><strong>Confidence Level</strong> that indicates the likelihood of existing of specific situation. You can also choose to include confidence level above what has been selected.</p></li><li><p><strong>Output Mask</strong> saving path</p></li></ul><h2 id=\"From-Quality-Assessment-Bits\"><a href=\"#From-Quality-Assessment-Bits\" class=\"headerlink\" title=\"From Quality Assessment Bits\"></a>From Quality Assessment Bits</h2><hr><img src=\"/blog/2015/05/08/Generating-masks-from-Landsat-8-image-in-ArcMap/Masking_from_Quality_Assessment_Bits.png\" title=\"This is an example image\"><p>This tool is used to create masks from other NASA remote sensing products with general quality assessment bit like <a href=\"https://github.com/haoliangyu/pymasker/wiki/MODIS-use-sample\" target=\"_blank\" rel=\"noopener\">MODIS land products</a>. As each portion of QA bits suggests a certain condition of the image, this toolbox simply examines the value of specific portion of QA bits and generates mask accordingly. Required inputs include:</p><ul><li><p><strong>Quality Assessment Band</strong></p></li><li><p><strong>Bit Position</strong> that indicates where the desired portion of bits starts.</p></li><li><p><strong>Bit Length</strong> that indicates the length of bits.</p></li><li><p><strong>Bit Value</strong> that indicates the desired situation.</p></li><li><p><strong>Output Mask</strong> saving path</p></li></ul>"},{"title":"Lazy man's package of nationwide U.S. boundaries","date":"2015-12-04T21:00:00.000Z","updated":"2016-01-23T21:00:00.000Z","_content":"\nI have been doing GIS work for quite a while and I do hate to download data from multiple sites every time. So I decide to collect those commonly geospatial data and make my own database. Of course, like all open-source people do, I'd love to share my work with you. The first release is the U.S. nationwide U.S. boundary. This dataset include **nation**, **state**, **county**, **place**, **census block**, and **census tract**. The source data come from U.S. Census Bureau and you can find the metadata [here](https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html).\n\nMultiple formats provided: **shapefile**, **geojson**, and a **postgis** database dump.<!-- more -->\n\nshapefile/geojson\n-----------------\n\n| Resolution   | 1:500,000                                                             | 1:5,000,000                                                           | 1:20,000,000                                                          |\n|--------------|-----------------------------------------------------------------------|-----------------------------------------------------------------------|-----------------------------------------------------------------------|\n| Nation       |                                                                       | [Shapefile](http://1drv.ms/1Q7B59y)/[GeoJson](http://1drv.ms/1Q7Bgln) | [Shapefile](http://1drv.ms/1OaB9j0)/[GeoJson](http://1drv.ms/1Q7BhFR) |\n| State        | [Shapefile](http://1drv.ms/1OaBfqW)/[GeoJson](http://1drv.ms/1XKAjUs) | [Shapefile](http://1drv.ms/1XKAaAg)/[GeoJson](http://1drv.ms/1XKAmzF) | [Shapefile](http://1drv.ms/1XKAcsb)/[GeoJson](http://1drv.ms/1XKAu25) |\n| County       | [Shapefile](http://1drv.ms/1YR7XVF)/[GeoJson](http://1drv.ms/1XKAjUs) | [Shapefile](http://1drv.ms/1YR81EY)/[GeoJson](http://1drv.ms/1XKAmzF) | [Shapefile](http://1drv.ms/1YR82sq)/[GeoJson](http://1drv.ms/1XKAu25) |\n| Census Tract | [Shapefile](http://1drv.ms/1TsP5Zm)/[GeoJson](http://1drv.ms/1TsPf2U) |                                                                       |                                                                       |\n| Census Block | [Shapefile](http://1drv.ms/1TsPafL)/[GeoJson](http://1drv.ms/1TsP9s6) |                                                                       |                                                                       |\n| Place        | [Shapefile](http://1drv.ms/1jViGyB)/[GeoJson](http://1drv.ms/1jViD63) |                                                                       |                                                                       |\n\npostgis\n-------\n\nDownload [U.S. boundary database](http://1drv.ms/1JtYaSe)\n\nThe data links are also at [GitHub](https://github.com/haoliangyu/us-boundary).\n\nOk, enjoy the data :)\n","source":"_posts/Lazy-man-s-package-of-U-S-boundaries.md","raw":"title: Lazy man's package of nationwide U.S. boundaries\ndate: 2015-12-05\nupdated: 2016-01-24\ncategories:\n- GIS\ntags:\n- gis\n-\topen data\n---\n\nI have been doing GIS work for quite a while and I do hate to download data from multiple sites every time. So I decide to collect those commonly geospatial data and make my own database. Of course, like all open-source people do, I'd love to share my work with you. The first release is the U.S. nationwide U.S. boundary. This dataset include **nation**, **state**, **county**, **place**, **census block**, and **census tract**. The source data come from U.S. Census Bureau and you can find the metadata [here](https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html).\n\nMultiple formats provided: **shapefile**, **geojson**, and a **postgis** database dump.<!-- more -->\n\nshapefile/geojson\n-----------------\n\n| Resolution   | 1:500,000                                                             | 1:5,000,000                                                           | 1:20,000,000                                                          |\n|--------------|-----------------------------------------------------------------------|-----------------------------------------------------------------------|-----------------------------------------------------------------------|\n| Nation       |                                                                       | [Shapefile](http://1drv.ms/1Q7B59y)/[GeoJson](http://1drv.ms/1Q7Bgln) | [Shapefile](http://1drv.ms/1OaB9j0)/[GeoJson](http://1drv.ms/1Q7BhFR) |\n| State        | [Shapefile](http://1drv.ms/1OaBfqW)/[GeoJson](http://1drv.ms/1XKAjUs) | [Shapefile](http://1drv.ms/1XKAaAg)/[GeoJson](http://1drv.ms/1XKAmzF) | [Shapefile](http://1drv.ms/1XKAcsb)/[GeoJson](http://1drv.ms/1XKAu25) |\n| County       | [Shapefile](http://1drv.ms/1YR7XVF)/[GeoJson](http://1drv.ms/1XKAjUs) | [Shapefile](http://1drv.ms/1YR81EY)/[GeoJson](http://1drv.ms/1XKAmzF) | [Shapefile](http://1drv.ms/1YR82sq)/[GeoJson](http://1drv.ms/1XKAu25) |\n| Census Tract | [Shapefile](http://1drv.ms/1TsP5Zm)/[GeoJson](http://1drv.ms/1TsPf2U) |                                                                       |                                                                       |\n| Census Block | [Shapefile](http://1drv.ms/1TsPafL)/[GeoJson](http://1drv.ms/1TsP9s6) |                                                                       |                                                                       |\n| Place        | [Shapefile](http://1drv.ms/1jViGyB)/[GeoJson](http://1drv.ms/1jViD63) |                                                                       |                                                                       |\n\npostgis\n-------\n\nDownload [U.S. boundary database](http://1drv.ms/1JtYaSe)\n\nThe data links are also at [GitHub](https://github.com/haoliangyu/us-boundary).\n\nOk, enjoy the data :)\n","slug":"Lazy-man-s-package-of-U-S-boundaries","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfhb000n00552ekcrvi5","content":"<p>I have been doing GIS work for quite a while and I do hate to download data from multiple sites every time. So I decide to collect those commonly geospatial data and make my own database. Of course, like all open-source people do, Id love to share my work with you. The first release is the U.S. nationwide U.S. boundary. This dataset include <strong>nation</strong>, <strong>state</strong>, <strong>county</strong>, <strong>place</strong>, <strong>census block</strong>, and <strong>census tract</strong>. The source data come from U.S. Census Bureau and you can find the metadata <a href=\"https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html\" target=\"_blank\" rel=\"noopener\">here</a>.</p><p>Multiple formats provided: <strong>shapefile</strong>, <strong>geojson</strong>, and a <strong>postgis</strong> database dump.<a id=\"more\"></a></p><h2 id=\"shapefile-geojson\"><a href=\"#shapefile-geojson\" class=\"headerlink\" title=\"shapefile/geojson\"></a>shapefile/geojson</h2><table><thead><tr><th>Resolution</th><th>1:500,000</th><th>1:5,000,000</th><th>1:20,000,000</th></tr></thead><tbody><tr><td>Nation</td><td></td><td><a href=\"http://1drv.ms/1Q7B59y\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1Q7Bgln\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1OaB9j0\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1Q7BhFR\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td></tr><tr><td>State</td><td><a href=\"http://1drv.ms/1OaBfqW\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAjUs\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1XKAaAg\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAmzF\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1XKAcsb\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAu25\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td></tr><tr><td>County</td><td><a href=\"http://1drv.ms/1YR7XVF\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAjUs\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1YR81EY\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAmzF\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1YR82sq\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAu25\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td></tr><tr><td>Census Tract</td><td><a href=\"http://1drv.ms/1TsP5Zm\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1TsPf2U\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td></td><td></td></tr><tr><td>Census Block</td><td><a href=\"http://1drv.ms/1TsPafL\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1TsP9s6\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td></td><td></td></tr><tr><td>Place</td><td><a href=\"http://1drv.ms/1jViGyB\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1jViD63\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td></td><td></td></tr></tbody></table><h2 id=\"postgis\"><a href=\"#postgis\" class=\"headerlink\" title=\"postgis\"></a>postgis</h2><p>Download <a href=\"http://1drv.ms/1JtYaSe\" target=\"_blank\" rel=\"noopener\">U.S. boundary database</a></p><p>The data links are also at <a href=\"https://github.com/haoliangyu/us-boundary\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><p>Ok, enjoy the data :)</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>I have been doing GIS work for quite a while and I do hate to download data from multiple sites every time. So I decide to collect those commonly geospatial data and make my own database. Of course, like all open-source people do, Id love to share my work with you. The first release is the U.S. nationwide U.S. boundary. This dataset include <strong>nation</strong>, <strong>state</strong>, <strong>county</strong>, <strong>place</strong>, <strong>census block</strong>, and <strong>census tract</strong>. The source data come from U.S. Census Bureau and you can find the metadata <a href=\"https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html\" target=\"_blank\" rel=\"noopener\">here</a>.</p><p>Multiple formats provided: <strong>shapefile</strong>, <strong>geojson</strong>, and a <strong>postgis</strong> database dump.</p>","more":"</p><h2 id=\"shapefile-geojson\"><a href=\"#shapefile-geojson\" class=\"headerlink\" title=\"shapefile/geojson\"></a>shapefile/geojson</h2><table><thead><tr><th>Resolution</th><th>1:500,000</th><th>1:5,000,000</th><th>1:20,000,000</th></tr></thead><tbody><tr><td>Nation</td><td></td><td><a href=\"http://1drv.ms/1Q7B59y\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1Q7Bgln\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1OaB9j0\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1Q7BhFR\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td></tr><tr><td>State</td><td><a href=\"http://1drv.ms/1OaBfqW\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAjUs\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1XKAaAg\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAmzF\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1XKAcsb\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAu25\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td></tr><tr><td>County</td><td><a href=\"http://1drv.ms/1YR7XVF\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAjUs\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1YR81EY\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAmzF\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td><a href=\"http://1drv.ms/1YR82sq\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1XKAu25\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td></tr><tr><td>Census Tract</td><td><a href=\"http://1drv.ms/1TsP5Zm\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1TsPf2U\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td></td><td></td></tr><tr><td>Census Block</td><td><a href=\"http://1drv.ms/1TsPafL\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1TsP9s6\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td></td><td></td></tr><tr><td>Place</td><td><a href=\"http://1drv.ms/1jViGyB\" target=\"_blank\" rel=\"noopener\">Shapefile</a>/<a href=\"http://1drv.ms/1jViD63\" target=\"_blank\" rel=\"noopener\">GeoJson</a></td><td></td><td></td></tr></tbody></table><h2 id=\"postgis\"><a href=\"#postgis\" class=\"headerlink\" title=\"postgis\"></a>postgis</h2><p>Download <a href=\"http://1drv.ms/1JtYaSe\" target=\"_blank\" rel=\"noopener\">U.S. boundary database</a></p><p>The data links are also at <a href=\"https://github.com/haoliangyu/us-boundary\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><p>Ok, enjoy the data :)</p>"},{"title":"Making Map with Leaflet in TypeScript","date":"2016-05-05T21:00:00.000Z","update":"2016-12-26T21:00:00.000Z","_content":"\n**UPDATE 27/12/2016**: update for TypeScript 2.0\n\nRecently I am working on a web mapping project based on [Angular 2](https://angular.io/). There isn't much data on how to create web map using [Leaflet](http://leafletjs.com/) in TypeScript. So I think it's good to write a post on it.\n\n<!-- more -->\n\n### Leaflet, Typed\n\nTypeScript is definitely typed so you need to provide a type declaration for Leaflet first. The installation of type declaration is much easier at TypeScript 2.0 for its direct support of [npm](https://www.npmjs.com/) and you just needs\n\n``` bash\n/**\n * Type declaration for GeoJSON, a dependency\n */\n\nnpm install @types/geojson\n\n/**\n * Type declaration for Leaflet\n */\n\nnpm install @types/leaflet\n```\n\nIt will download the type declaration publish [DefinitelyTyped](http://definitelytyped.org/) and relate to the installed package. Simple and no more package manager!\n\n### Mapping\n\nUsing Leaflet in TypeScript doesn't have an essential difference with using it in JavaScript. The only difference is, in the typed environment, many things are declared as class. So you may need to new a class before directly using it:\n\n``` javascript\nlet map = new L.Map('map', {\n  center: new L.LatLng(40.731253, -73.996139),\n  zoom: 12,\n});\n```\n\nAlso you will need to provide extra type information when using function:\n\n``` javascript\nmap.on('click', (e: LeafletMouseEvent) => {\n  let marker = L.marker(e.latlng)\n  .bindPopup('Popup')\n  .addTo(map)\n  .openPopup();\n});\n```\n\nAnd that's it. You should have no extra difficult in using Leaflet in TypeScript, if you are familiar with using it in JavaScript and has read the type declaration on what you need.\n\nHope you enjoy the journey with TypeScript :)\n","source":"_posts/Making-A-Map-with-Leaflet-in-TypeScript.md","raw":"title: Making Map with Leaflet in TypeScript\ndate: 2016-05-06\nupdate: 2016-12-27\ncategories:\n- GIS\ntags:\n- leaflet\n-\ttypescript\n---\n\n**UPDATE 27/12/2016**: update for TypeScript 2.0\n\nRecently I am working on a web mapping project based on [Angular 2](https://angular.io/). There isn't much data on how to create web map using [Leaflet](http://leafletjs.com/) in TypeScript. So I think it's good to write a post on it.\n\n<!-- more -->\n\n### Leaflet, Typed\n\nTypeScript is definitely typed so you need to provide a type declaration for Leaflet first. The installation of type declaration is much easier at TypeScript 2.0 for its direct support of [npm](https://www.npmjs.com/) and you just needs\n\n``` bash\n/**\n * Type declaration for GeoJSON, a dependency\n */\n\nnpm install @types/geojson\n\n/**\n * Type declaration for Leaflet\n */\n\nnpm install @types/leaflet\n```\n\nIt will download the type declaration publish [DefinitelyTyped](http://definitelytyped.org/) and relate to the installed package. Simple and no more package manager!\n\n### Mapping\n\nUsing Leaflet in TypeScript doesn't have an essential difference with using it in JavaScript. The only difference is, in the typed environment, many things are declared as class. So you may need to new a class before directly using it:\n\n``` javascript\nlet map = new L.Map('map', {\n  center: new L.LatLng(40.731253, -73.996139),\n  zoom: 12,\n});\n```\n\nAlso you will need to provide extra type information when using function:\n\n``` javascript\nmap.on('click', (e: LeafletMouseEvent) => {\n  let marker = L.marker(e.latlng)\n  .bindPopup('Popup')\n  .addTo(map)\n  .openPopup();\n});\n```\n\nAnd that's it. You should have no extra difficult in using Leaflet in TypeScript, if you are familiar with using it in JavaScript and has read the type declaration on what you need.\n\nHope you enjoy the journey with TypeScript :)\n","slug":"Making-A-Map-with-Leaflet-in-TypeScript","published":1,"updated":"2020-08-08T11:06:20.625Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfhd000q0055vuav2ede","content":"<p><strong>UPDATE 27/12/2016</strong>: update for TypeScript 2.0</p><p>Recently I am working on a web mapping project based on <a href=\"https://angular.io/\" target=\"_blank\" rel=\"noopener\">Angular 2</a>. There isnt much data on how to create web map using <a href=\"http://leafletjs.com/\" target=\"_blank\" rel=\"noopener\">Leaflet</a> in TypeScript. So I think its good to write a post on it.</p><a id=\"more\"></a><h3 id=\"Leaflet-Typed\"><a href=\"#Leaflet-Typed\" class=\"headerlink\" title=\"Leaflet, Typed\"></a>Leaflet, Typed</h3><p>TypeScript is definitely typed so you need to provide a type declaration for Leaflet first. The installation of type declaration is much easier at TypeScript 2.0 for its direct support of <a href=\"https://www.npmjs.com/\" target=\"_blank\" rel=\"noopener\">npm</a> and you just needs</p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * Type declaration <span class=\"keyword\">for</span> GeoJSON, a dependency</span><br><span class=\"line\"> */</span><br><span class=\"line\"></span><br><span class=\"line\">npm install @types/geojson</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Type declaration <span class=\"keyword\">for</span> Leaflet</span><br><span class=\"line\"> */</span><br><span class=\"line\"></span><br><span class=\"line\">npm install @types/leaflet</span><br></pre></td></tr></tbody></table></figure><p>It will download the type declaration publish <a href=\"http://definitelytyped.org/\" target=\"_blank\" rel=\"noopener\">DefinitelyTyped</a> and relate to the installed package. Simple and no more package manager!</p><h3 id=\"Mapping\"><a href=\"#Mapping\" class=\"headerlink\" title=\"Mapping\"></a>Mapping</h3><p>Using Leaflet in TypeScript doesnt have an essential difference with using it in JavaScript. The only difference is, in the typed environment, many things are declared as class. So you may need to new a class before directly using it:</p><figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> map = <span class=\"keyword\">new</span> L.Map(<span class=\"string\">'map'</span>, {</span><br><span class=\"line\">  center: <span class=\"keyword\">new</span> L.LatLng(<span class=\"number\">40.731253</span>, <span class=\"number\">-73.996139</span>),</span><br><span class=\"line\">  zoom: <span class=\"number\">12</span>,</span><br><span class=\"line\">});</span><br></pre></td></tr></tbody></table></figure><p>Also you will need to provide extra type information when using function:</p><figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map.on(<span class=\"string\">'click'</span>, (e: LeafletMouseEvent) =&gt; {</span><br><span class=\"line\">  <span class=\"keyword\">let</span> marker = L.marker(e.latlng)</span><br><span class=\"line\">  .bindPopup(<span class=\"string\">'Popup'</span>)</span><br><span class=\"line\">  .addTo(map)</span><br><span class=\"line\">  .openPopup();</span><br><span class=\"line\">});</span><br></pre></td></tr></tbody></table></figure><p>And thats it. You should have no extra difficult in using Leaflet in TypeScript, if you are familiar with using it in JavaScript and has read the type declaration on what you need.</p><p>Hope you enjoy the journey with TypeScript :)</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p><strong>UPDATE 27/12/2016</strong>: update for TypeScript 2.0</p><p>Recently I am working on a web mapping project based on <a href=\"https://angular.io/\" target=\"_blank\" rel=\"noopener\">Angular 2</a>. There isnt much data on how to create web map using <a href=\"http://leafletjs.com/\" target=\"_blank\" rel=\"noopener\">Leaflet</a> in TypeScript. So I think its good to write a post on it.</p>","more":"<h3 id=\"Leaflet-Typed\"><a href=\"#Leaflet-Typed\" class=\"headerlink\" title=\"Leaflet, Typed\"></a>Leaflet, Typed</h3><p>TypeScript is definitely typed so you need to provide a type declaration for Leaflet first. The installation of type declaration is much easier at TypeScript 2.0 for its direct support of <a href=\"https://www.npmjs.com/\" target=\"_blank\" rel=\"noopener\">npm</a> and you just needs</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * Type declaration <span class=\"keyword\">for</span> GeoJSON, a dependency</span><br><span class=\"line\"> */</span><br><span class=\"line\"></span><br><span class=\"line\">npm install @types/geojson</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Type declaration <span class=\"keyword\">for</span> Leaflet</span><br><span class=\"line\"> */</span><br><span class=\"line\"></span><br><span class=\"line\">npm install @types/leaflet</span><br></pre></td></tr></table></figure><p>It will download the type declaration publish <a href=\"http://definitelytyped.org/\" target=\"_blank\" rel=\"noopener\">DefinitelyTyped</a> and relate to the installed package. Simple and no more package manager!</p><h3 id=\"Mapping\"><a href=\"#Mapping\" class=\"headerlink\" title=\"Mapping\"></a>Mapping</h3><p>Using Leaflet in TypeScript doesnt have an essential difference with using it in JavaScript. The only difference is, in the typed environment, many things are declared as class. So you may need to new a class before directly using it:</p><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> map = <span class=\"keyword\">new</span> L.Map(<span class=\"string\">'map'</span>, &#123;</span><br><span class=\"line\">  center: <span class=\"keyword\">new</span> L.LatLng(<span class=\"number\">40.731253</span>, <span class=\"number\">-73.996139</span>),</span><br><span class=\"line\">  zoom: <span class=\"number\">12</span>,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><p>Also you will need to provide extra type information when using function:</p><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map.on(<span class=\"string\">'click'</span>, (e: LeafletMouseEvent) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> marker = L.marker(e.latlng)</span><br><span class=\"line\">  .bindPopup(<span class=\"string\">'Popup'</span>)</span><br><span class=\"line\">  .addTo(map)</span><br><span class=\"line\">  .openPopup();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><p>And thats it. You should have no extra difficult in using Leaflet in TypeScript, if you are familiar with using it in JavaScript and has read the type declaration on what you need.</p><p>Hope you enjoy the journey with TypeScript :)</p>"},{"title":"Making masks from Quality Control bits of MODIS land products in Python (Update)","date":"2015-02-19T18:23:29.000Z","update":"2016-08-13T21:00:00.000Z","comments":1,"_content":"\n**Update** Since 0.3.0, most class and function names have been updated according to pep8.\n\nDays ago when I published the first version of *[pymasker](https://github.com/haoliangyu/pymasker)* for masking Landsat 8 image, Dr. Robert A. Washington-Allen suggested me whether the package would be used for MODIS products. After I read technical documents of MODIS, I realize that the Quality Control bits of MOIDS products has the same structure as the QA band of Landsat 8. Therefore, I update the package to adapt MODIS products (or other NASA products with similar QC/QA bits).\n<!-- more -->\nIn this article, I am going to show how to extract masks from the Quality Control bits of MODIS land product in python.\n\n## MODIS QC/QA bits\n\n---\n\nThe QC/QA bits of MODIS is a binary number, of which each section represents the state of certain condition. Just take the 250m resolution land surface reflectance product (MOD09GQ) as example. The QC band (maybe called QA band in other products) is the fourth band of the HDF dataset. It is a unsigned 16-bit band. Each value on the pixel indicates a combination of pixel conditions. We can interpret the value by separating its binary form.\n\n{% asset_img bitstructure.png This is an example image %}\n\nThe individual bits within a binary number are read from let to right as described in the following table.\n\n{% asset_img bittable.png This is an example image %}\n\nTherefore when we put the interpretation back to the bit string, we are able to know what it indicates.\n\n{% asset_img bitsample.png This is an example image %}\n\nAs this binary number is 4096 in integer, all pixels having value 4096 in the QC band are high quality and cloud free with atmosphere correction, but no adjacency correction.\n\nThe structure of QC/QA bits vary in different MODISO products and different data collection. For full detail for each product, please have a look at\n\n* [MODIS Land Products QA Tutorial](https://lpdaac.usgs.gov/products/modis_products_table)\n\nIn the next sections, I will show how to make masks based on the QC/QA bits in python.\n\n## Preparation\n\n---\n\nBefore getting started, you need to do the following preparations:\n\n* Download and install **[pymasker](https://github.com/haoliangyu/pymasker)**.\n\n* Know the band number of QC/QA band in your HDF dataset.\n\n* Know the QC/QA bit structure of your dataset. If you only want the mask of quality level, you don't have to know the bit structure. Please go bottom and read the new update.\n\n## Maksing for MODIS product\n\n---\n\nI will continue to use MOD09GQ in the sample. First you need to load the QC Band\n\n```python\nfrom pymasker import Masker\n\n# Directly load from file, require GDAL (3 is the QA band number)\nmasker = Masker('MOD09GQ.A2015025.h12v04.005.2015027064556.hdf', 3)\n\n# Or you just load the dataset somewhere and get the band data as numpy array\nimport gdal\n\nhdfdataset = gdal.Open('MOD09GQ.A2015025.h12v04.005.2015027064556.hdf')\nsubdataset = hdfdataset.GetSubDatasets()[3][0]\nbandarray = gdal.Open(subdataset).ReadAsArray()\n\nmasker = Masker(bandarray)\n```\n\nYou need to know the bit information to generate certain masks. For example, we want a  mask only wit high quality pixels. In the previous section we have known that the quality bits start at the beginning (position 0) and the length is 2. We also know that *'00'* indicate corrected product produced at ideal quality in all bands. Therefore, the high quality mask could be made with\n\n```python\n# Get high quality mask\nmask = modismasker.ge_tmask(bitpos = 0, bitlen = 2, value = '00')\n\n# Save the mask as a TIF file\nmasker.save_tif(hqmask, 'result.tif')\n```\n\nThen you can get a binary mask where 1 represents the high quality pixel.\n\n{% asset_img hqmask.png This is an example image %}\n\n## Update\n\n*Pyamsker* has provided a new class for producing QA mask since version 0.2.2. So you don't have to look for and remember those binary bits (Well I don't like them, too).\n\nI have wrapped quality levels for MODIS land products.\n\n```python\nfrom pymasker import ModisQuality\n\n# Corrected product produced at ideal quality for all bands.\nquality = ModisQuality.high\n\n# Corrected product produced at less than ideal quality for some or all bands.\nquality = ModisQuality.medium\n\n# Corrected product not produced due to some reasons for some or all bands.\nquality = ModisQuality.low\n\n# Corrected product not produced due to cloud effects for all bands.\nquality = ModisQuality.low_cloud\n```\n\nTherefore, the masking code would be very intuitive and readable.\n\n```python\n# Create a MODIS QA masker, similar to creating a masker above\nfrom pymasker import ModisMasker\n\nmasker = ModisMasker('MOD09GQ.A2015025.h12v04.005.2015027064556.hdf')\nmask = masker.get_qa_mask(ModisQuality.high)\n```\n\nI am going to gradually support all MODIS products in the future release. Please look forward to my new update :)\n","source":"_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update.md","raw":"title: Making masks from Quality Control bits of MODIS land products in Python (Update)\ndate: 2015-02-19 21:23:29\nupdate: 2016-08-14\ncomments: true\ncategories:\n- GIS\ntags:\n- remote sensing\n- modis\n- python\n---\n\n**Update** Since 0.3.0, most class and function names have been updated according to pep8.\n\nDays ago when I published the first version of *[pymasker](https://github.com/haoliangyu/pymasker)* for masking Landsat 8 image, Dr. Robert A. Washington-Allen suggested me whether the package would be used for MODIS products. After I read technical documents of MODIS, I realize that the Quality Control bits of MOIDS products has the same structure as the QA band of Landsat 8. Therefore, I update the package to adapt MODIS products (or other NASA products with similar QC/QA bits).\n<!-- more -->\nIn this article, I am going to show how to extract masks from the Quality Control bits of MODIS land product in python.\n\n## MODIS QC/QA bits\n\n---\n\nThe QC/QA bits of MODIS is a binary number, of which each section represents the state of certain condition. Just take the 250m resolution land surface reflectance product (MOD09GQ) as example. The QC band (maybe called QA band in other products) is the fourth band of the HDF dataset. It is a unsigned 16-bit band. Each value on the pixel indicates a combination of pixel conditions. We can interpret the value by separating its binary form.\n\n{% asset_img bitstructure.png This is an example image %}\n\nThe individual bits within a binary number are read from let to right as described in the following table.\n\n{% asset_img bittable.png This is an example image %}\n\nTherefore when we put the interpretation back to the bit string, we are able to know what it indicates.\n\n{% asset_img bitsample.png This is an example image %}\n\nAs this binary number is 4096 in integer, all pixels having value 4096 in the QC band are high quality and cloud free with atmosphere correction, but no adjacency correction.\n\nThe structure of QC/QA bits vary in different MODISO products and different data collection. For full detail for each product, please have a look at\n\n* [MODIS Land Products QA Tutorial](https://lpdaac.usgs.gov/products/modis_products_table)\n\nIn the next sections, I will show how to make masks based on the QC/QA bits in python.\n\n## Preparation\n\n---\n\nBefore getting started, you need to do the following preparations:\n\n* Download and install **[pymasker](https://github.com/haoliangyu/pymasker)**.\n\n* Know the band number of QC/QA band in your HDF dataset.\n\n* Know the QC/QA bit structure of your dataset. If you only want the mask of quality level, you don't have to know the bit structure. Please go bottom and read the new update.\n\n## Maksing for MODIS product\n\n---\n\nI will continue to use MOD09GQ in the sample. First you need to load the QC Band\n\n```python\nfrom pymasker import Masker\n\n# Directly load from file, require GDAL (3 is the QA band number)\nmasker = Masker('MOD09GQ.A2015025.h12v04.005.2015027064556.hdf', 3)\n\n# Or you just load the dataset somewhere and get the band data as numpy array\nimport gdal\n\nhdfdataset = gdal.Open('MOD09GQ.A2015025.h12v04.005.2015027064556.hdf')\nsubdataset = hdfdataset.GetSubDatasets()[3][0]\nbandarray = gdal.Open(subdataset).ReadAsArray()\n\nmasker = Masker(bandarray)\n```\n\nYou need to know the bit information to generate certain masks. For example, we want a  mask only wit high quality pixels. In the previous section we have known that the quality bits start at the beginning (position 0) and the length is 2. We also know that *'00'* indicate corrected product produced at ideal quality in all bands. Therefore, the high quality mask could be made with\n\n```python\n# Get high quality mask\nmask = modismasker.ge_tmask(bitpos = 0, bitlen = 2, value = '00')\n\n# Save the mask as a TIF file\nmasker.save_tif(hqmask, 'result.tif')\n```\n\nThen you can get a binary mask where 1 represents the high quality pixel.\n\n{% asset_img hqmask.png This is an example image %}\n\n## Update\n\n*Pyamsker* has provided a new class for producing QA mask since version 0.2.2. So you don't have to look for and remember those binary bits (Well I don't like them, too).\n\nI have wrapped quality levels for MODIS land products.\n\n```python\nfrom pymasker import ModisQuality\n\n# Corrected product produced at ideal quality for all bands.\nquality = ModisQuality.high\n\n# Corrected product produced at less than ideal quality for some or all bands.\nquality = ModisQuality.medium\n\n# Corrected product not produced due to some reasons for some or all bands.\nquality = ModisQuality.low\n\n# Corrected product not produced due to cloud effects for all bands.\nquality = ModisQuality.low_cloud\n```\n\nTherefore, the masking code would be very intuitive and readable.\n\n```python\n# Create a MODIS QA masker, similar to creating a masker above\nfrom pymasker import ModisMasker\n\nmasker = ModisMasker('MOD09GQ.A2015025.h12v04.005.2015027064556.hdf')\nmask = masker.get_qa_mask(ModisQuality.high)\n```\n\nI am going to gradually support all MODIS products in the future release. Please look forward to my new update :)\n","slug":"Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update","published":1,"updated":"2020-08-08T11:06:20.626Z","layout":"post","photos":[],"link":"","_id":"ckirpyfhg000v00559052v6bl","content":"<p><strong>Update</strong> Since 0.3.0, most class and function names have been updated according to pep8.</p><p>Days ago when I published the first version of <em><a href=\"https://github.com/haoliangyu/pymasker\" target=\"_blank\" rel=\"noopener\">pymasker</a></em> for masking Landsat 8 image, Dr. Robert A. Washington-Allen suggested me whether the package would be used for MODIS products. After I read technical documents of MODIS, I realize that the Quality Control bits of MOIDS products has the same structure as the QA band of Landsat 8. Therefore, I update the package to adapt MODIS products (or other NASA products with similar QC/QA bits).</p><a id=\"more\"></a><p>In this article, I am going to show how to extract masks from the Quality Control bits of MODIS land product in python.</p><h2 id=\"MODIS-QC-QA-bits\"><a href=\"#MODIS-QC-QA-bits\" class=\"headerlink\" title=\"MODIS QC/QA bits\"></a>MODIS QC/QA bits</h2><hr><p>The QC/QA bits of MODIS is a binary number, of which each section represents the state of certain condition. Just take the 250m resolution land surface reflectance product (MOD09GQ) as example. The QC band (maybe called QA band in other products) is the fourth band of the HDF dataset. It is a unsigned 16-bit band. Each value on the pixel indicates a combination of pixel conditions. We can interpret the value by separating its binary form.</p><img src=\"/blog/2015/02/19/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bitstructure.png\" title=\"This is an example image\"><p>The individual bits within a binary number are read from let to right as described in the following table.</p><img src=\"/blog/2015/02/19/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bittable.png\" title=\"This is an example image\"><p>Therefore when we put the interpretation back to the bit string, we are able to know what it indicates.</p><img src=\"/blog/2015/02/19/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bitsample.png\" title=\"This is an example image\"><p>As this binary number is 4096 in integer, all pixels having value 4096 in the QC band are high quality and cloud free with atmosphere correction, but no adjacency correction.</p><p>The structure of QC/QA bits vary in different MODISO products and different data collection. For full detail for each product, please have a look at</p><ul><li><a href=\"https://lpdaac.usgs.gov/products/modis_products_table\" target=\"_blank\" rel=\"noopener\">MODIS Land Products QA Tutorial</a></li></ul><p>In the next sections, I will show how to make masks based on the QC/QA bits in python.</p><h2 id=\"Preparation\"><a href=\"#Preparation\" class=\"headerlink\" title=\"Preparation\"></a>Preparation</h2><hr><p>Before getting started, you need to do the following preparations:</p><ul><li><p>Download and install <strong><a href=\"https://github.com/haoliangyu/pymasker\" target=\"_blank\" rel=\"noopener\">pymasker</a></strong>.</p></li><li><p>Know the band number of QC/QA band in your HDF dataset.</p></li><li><p>Know the QC/QA bit structure of your dataset. If you only want the mask of quality level, you dont have to know the bit structure. Please go bottom and read the new update.</p></li></ul><h2 id=\"Maksing-for-MODIS-product\"><a href=\"#Maksing-for-MODIS-product\" class=\"headerlink\" title=\"Maksing for MODIS product\"></a>Maksing for MODIS product</h2><hr><p>I will continue to use MOD09GQ in the sample. First you need to load the QC Band</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> Masker</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Directly load from file, require GDAL (3 is the QA band number)</span></span><br><span class=\"line\">masker = Masker(<span class=\"string\">'MOD09GQ.A2015025.h12v04.005.2015027064556.hdf'</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Or you just load the dataset somewhere and get the band data as numpy array</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> gdal</span><br><span class=\"line\"></span><br><span class=\"line\">hdfdataset = gdal.Open(<span class=\"string\">'MOD09GQ.A2015025.h12v04.005.2015027064556.hdf'</span>)</span><br><span class=\"line\">subdataset = hdfdataset.GetSubDatasets()[<span class=\"number\">3</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\">bandarray = gdal.Open(subdataset).ReadAsArray()</span><br><span class=\"line\"></span><br><span class=\"line\">masker = Masker(bandarray)</span><br></pre></td></tr></tbody></table></figure><p>You need to know the bit information to generate certain masks. For example, we want a mask only wit high quality pixels. In the previous section we have known that the quality bits start at the beginning (position 0) and the length is 2. We also know that <em>00</em> indicate corrected product produced at ideal quality in all bands. Therefore, the high quality mask could be made with</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Get high quality mask</span></span><br><span class=\"line\">mask = modismasker.ge_tmask(bitpos = <span class=\"number\">0</span>, bitlen = <span class=\"number\">2</span>, value = <span class=\"string\">'00'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Save the mask as a TIF file</span></span><br><span class=\"line\">masker.save_tif(hqmask, <span class=\"string\">'result.tif'</span>)</span><br></pre></td></tr></tbody></table></figure><p>Then you can get a binary mask where 1 represents the high quality pixel.</p><img src=\"/blog/2015/02/19/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/hqmask.png\" title=\"This is an example image\"><h2 id=\"Update\"><a href=\"#Update\" class=\"headerlink\" title=\"Update\"></a>Update</h2><p><em>Pyamsker</em> has provided a new class for producing QA mask since version 0.2.2. So you dont have to look for and remember those binary bits (Well I dont like them, too).</p><p>I have wrapped quality levels for MODIS land products.</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> ModisQuality</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Corrected product produced at ideal quality for all bands.</span></span><br><span class=\"line\">quality = ModisQuality.high</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Corrected product produced at less than ideal quality for some or all bands.</span></span><br><span class=\"line\">quality = ModisQuality.medium</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Corrected product not produced due to some reasons for some or all bands.</span></span><br><span class=\"line\">quality = ModisQuality.low</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Corrected product not produced due to cloud effects for all bands.</span></span><br><span class=\"line\">quality = ModisQuality.low_cloud</span><br></pre></td></tr></tbody></table></figure><p>Therefore, the masking code would be very intuitive and readable.</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Create a MODIS QA masker, similar to creating a masker above</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> ModisMasker</span><br><span class=\"line\"></span><br><span class=\"line\">masker = ModisMasker(<span class=\"string\">'MOD09GQ.A2015025.h12v04.005.2015027064556.hdf'</span>)</span><br><span class=\"line\">mask = masker.get_qa_mask(ModisQuality.high)</span><br></pre></td></tr></tbody></table></figure><p>I am going to gradually support all MODIS products in the future release. Please look forward to my new update :)</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p><strong>Update</strong> Since 0.3.0, most class and function names have been updated according to pep8.</p><p>Days ago when I published the first version of <em><a href=\"https://github.com/haoliangyu/pymasker\" target=\"_blank\" rel=\"noopener\">pymasker</a></em> for masking Landsat 8 image, Dr. Robert A. Washington-Allen suggested me whether the package would be used for MODIS products. After I read technical documents of MODIS, I realize that the Quality Control bits of MOIDS products has the same structure as the QA band of Landsat 8. Therefore, I update the package to adapt MODIS products (or other NASA products with similar QC/QA bits).</p>","more":"<p>In this article, I am going to show how to extract masks from the Quality Control bits of MODIS land product in python.</p><h2 id=\"MODIS-QC-QA-bits\"><a href=\"#MODIS-QC-QA-bits\" class=\"headerlink\" title=\"MODIS QC/QA bits\"></a>MODIS QC/QA bits</h2><hr><p>The QC/QA bits of MODIS is a binary number, of which each section represents the state of certain condition. Just take the 250m resolution land surface reflectance product (MOD09GQ) as example. The QC band (maybe called QA band in other products) is the fourth band of the HDF dataset. It is a unsigned 16-bit band. Each value on the pixel indicates a combination of pixel conditions. We can interpret the value by separating its binary form.</p><img src=\"/blog/2015/02/19/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bitstructure.png\" title=\"This is an example image\"><p>The individual bits within a binary number are read from let to right as described in the following table.</p><img src=\"/blog/2015/02/19/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bittable.png\" title=\"This is an example image\"><p>Therefore when we put the interpretation back to the bit string, we are able to know what it indicates.</p><img src=\"/blog/2015/02/19/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bitsample.png\" title=\"This is an example image\"><p>As this binary number is 4096 in integer, all pixels having value 4096 in the QC band are high quality and cloud free with atmosphere correction, but no adjacency correction.</p><p>The structure of QC/QA bits vary in different MODISO products and different data collection. For full detail for each product, please have a look at</p><ul><li><a href=\"https://lpdaac.usgs.gov/products/modis_products_table\" target=\"_blank\" rel=\"noopener\">MODIS Land Products QA Tutorial</a></li></ul><p>In the next sections, I will show how to make masks based on the QC/QA bits in python.</p><h2 id=\"Preparation\"><a href=\"#Preparation\" class=\"headerlink\" title=\"Preparation\"></a>Preparation</h2><hr><p>Before getting started, you need to do the following preparations:</p><ul><li><p>Download and install <strong><a href=\"https://github.com/haoliangyu/pymasker\" target=\"_blank\" rel=\"noopener\">pymasker</a></strong>.</p></li><li><p>Know the band number of QC/QA band in your HDF dataset.</p></li><li><p>Know the QC/QA bit structure of your dataset. If you only want the mask of quality level, you dont have to know the bit structure. Please go bottom and read the new update.</p></li></ul><h2 id=\"Maksing-for-MODIS-product\"><a href=\"#Maksing-for-MODIS-product\" class=\"headerlink\" title=\"Maksing for MODIS product\"></a>Maksing for MODIS product</h2><hr><p>I will continue to use MOD09GQ in the sample. First you need to load the QC Band</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> Masker</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Directly load from file, require GDAL (3 is the QA band number)</span></span><br><span class=\"line\">masker = Masker(<span class=\"string\">'MOD09GQ.A2015025.h12v04.005.2015027064556.hdf'</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Or you just load the dataset somewhere and get the band data as numpy array</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> gdal</span><br><span class=\"line\"></span><br><span class=\"line\">hdfdataset = gdal.Open(<span class=\"string\">'MOD09GQ.A2015025.h12v04.005.2015027064556.hdf'</span>)</span><br><span class=\"line\">subdataset = hdfdataset.GetSubDatasets()[<span class=\"number\">3</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\">bandarray = gdal.Open(subdataset).ReadAsArray()</span><br><span class=\"line\"></span><br><span class=\"line\">masker = Masker(bandarray)</span><br></pre></td></tr></table></figure><p>You need to know the bit information to generate certain masks. For example, we want a mask only wit high quality pixels. In the previous section we have known that the quality bits start at the beginning (position 0) and the length is 2. We also know that <em>00</em> indicate corrected product produced at ideal quality in all bands. Therefore, the high quality mask could be made with</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Get high quality mask</span></span><br><span class=\"line\">mask = modismasker.ge_tmask(bitpos = <span class=\"number\">0</span>, bitlen = <span class=\"number\">2</span>, value = <span class=\"string\">'00'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Save the mask as a TIF file</span></span><br><span class=\"line\">masker.save_tif(hqmask, <span class=\"string\">'result.tif'</span>)</span><br></pre></td></tr></table></figure><p>Then you can get a binary mask where 1 represents the high quality pixel.</p><img src=\"/blog/2015/02/19/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/hqmask.png\" title=\"This is an example image\"><h2 id=\"Update\"><a href=\"#Update\" class=\"headerlink\" title=\"Update\"></a>Update</h2><p><em>Pyamsker</em> has provided a new class for producing QA mask since version 0.2.2. So you dont have to look for and remember those binary bits (Well I dont like them, too).</p><p>I have wrapped quality levels for MODIS land products.</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> ModisQuality</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Corrected product produced at ideal quality for all bands.</span></span><br><span class=\"line\">quality = ModisQuality.high</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Corrected product produced at less than ideal quality for some or all bands.</span></span><br><span class=\"line\">quality = ModisQuality.medium</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Corrected product not produced due to some reasons for some or all bands.</span></span><br><span class=\"line\">quality = ModisQuality.low</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Corrected product not produced due to cloud effects for all bands.</span></span><br><span class=\"line\">quality = ModisQuality.low_cloud</span><br></pre></td></tr></table></figure><p>Therefore, the masking code would be very intuitive and readable.</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Create a MODIS QA masker, similar to creating a masker above</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> ModisMasker</span><br><span class=\"line\"></span><br><span class=\"line\">masker = ModisMasker(<span class=\"string\">'MOD09GQ.A2015025.h12v04.005.2015027064556.hdf'</span>)</span><br><span class=\"line\">mask = masker.get_qa_mask(ModisQuality.high)</span><br></pre></td></tr></table></figure><p>I am going to gradually support all MODIS products in the future release. Please look forward to my new update :)</p>"},{"title":"Making masks with Landsat 8 Quality Assessment band using Python","date":"2015-01-18T18:13:06.000Z","update":"2016-08-13T21:00:00.000Z","comments":1,"_content":"\n**Update** Since 0.2.0, the *qabmasker* has been renamed as *landsatmasker* and the function *getmask* has been renamed as *getmultimask* for better identification. Please update your script accordingly.\n\n**Update** Since 0.3.0, most class and function names have been updated according to the pep8.\n\nThe Quality Assessment (QA) band is a standard product included in each Landsat 8 image downloaded from USGS, which contains the quality information of each pixel such as cloud, snow/ice, water body etc. The detailed information of this band can be found at [Landsat 8 Quality Assessment Band](http://landsat.usgs.gov/L8QualityAssessmentBand.php).\n<!-- more -->\nAlthough the bits structure of the QA band is easy-to-understand, it would several steps to extract the desired mask in [QGIS](http://courses.neteler.org/processing-landsat8-data-in-grass-gis-7/) or [L-LDOPE Toolbelt](https://hyspeedblog.wordpress.com/2014/08/27/working-with-landsat-8-using-and-interpreting-the-quality-assessment-qa-band/). In this article, I am going to introduce how to use *pymasker* to generate masks from Landsat 8 QA band in Python. This package is designed to provide a straightforward and intuitive way to generate masks from the QA band. It is an open-source package and the project is hosted at [GitHub](https://github.com/dz316424/pymasker).\n\n## Installation\n\nThe package can be shipped to your computer using pip.\n\n```python\npip install pymasker\n```\n\nOr just install it with the source code.\n\n```python\npython setup.py install\n```\n\nThis package depends on [**numpy**](http://www.numpy.org/). If you want to directly load the QA band file, [**GDAL**](https://pypi.python.org/pypi/GDAL/) is also in need.\n\n## Sample\n\nFirst of all, you need to load the QA band into the *qabmaser* class.\n\n```python\nfrom pymasker import LandsatMasker\n\n# load the QA band directly\nmasker = LandsatMasker('LC80170302014272LGN00_BQA.TIF')\n\n# load a numpy array that contains band data\nmasker = LandsatMasker(bandarray)\n```\n\nThe QA band contains the detection result of the following four specific conditions for each pixel:\n\n* Cloud\n\n* Cirrus\n\n* Snow/Ice\n\n* Vegetation\n\n* Water body\n\nFor each condition, the algorithm gives a confidence to indicate its existence on the pixel.\n\n```python\nfrom pymasker import LandsatConfidence\n\n# Algorithm has high confidence that this condition exists (67-100 percent confidence).\nconf = LandsatConfidence.high\n\n# Algorithm has medium confidence that this condition exists (34-66 percent confidence).\nconf = LandsatConfidence.medium\n\n# Algorithm has low to no confidence that this condition exists (0-33 percent confidence)\nconf = LandsatConfidence.low\n\n# Algorithm did not determine the status of this condition.\nconf = LandsatConfidence.undefined\n\n# Nothing, unspecified confidence\nconf = LandsatConfidence.none\n```\n\nTo generate a mask, you need to define a desired confidence for the target condition.\n\n*Pymasker* provides several functions to get the most commonly used mask. The resulting mask is a binary numpy array with 1 representing existence of specific condition and 0 representing nonexistence.\n\n```python\n# Get mask indicating cloud pixels with high confidence\nmask = masker.get_cloud_mask(LandsatConfidence.high)\n\n# Get mask indicating cloud pixels with at least medium confidence\nmask = masker.get_cloud_mask(LandsatConfidence.medium, cumulative = True)\n\n# Get mask indicating snow/ice pixels with at least medium confidence\nmask = masker.get_snow_mask(LandsatConfidence.medium, cumulative = True)\n\n# Get mask indicating water body pixels with high confidence\nmask = masker.get_water_mask(LandsatConfidence.high)\n\n# Get mask indicating vegetation pixels with high confidence\nmask = masker.get_veg_mask(LandsatConfidence.high)\n```\n\n*Pymasker* also provides a function for multi-criteria masking. In this function, you need to specify the confidence level of each condition. If you don't want the function consider one of conditions, you need to set it as confidence.none. Two different masking methods are provided:\n\n* Inclusive\t-\tMask pixels that meet at least one of all criteria.\n\n* Exclusive -\tOnly Mask pixels that meet all criteria. (default)\n\nSample code for multi-criteria masking\n\n```python\n# Get mask indicating cloud pixels (high confidence) and cirrus pixels (high confidence).\n# Exclusive and noncumulative\nmask = masker.get_multi_mask(cloud = LandsatConfidence.high, water = LandsatConfidence.high)\n\n# Save the result if you want.\nmasker.save_tif(mask, 'result.tif')\n```\n\n{% asset_img maskresult.png This is an example image %}\n\nNow you have your mask! Nice and quick!\n","source":"_posts/Making-masks-with-Landsat-8-Quality-Assessment-band-using-Python.md","raw":"title: Making masks with Landsat 8 Quality Assessment band using Python\ndate: 2015-01-18 21:13:06\nupdate: 2016-08-14\ncomments: true\ncategories:\n- GIS\ntags:\n- remote sensing\n- landsat\n- python\n---\n\n**Update** Since 0.2.0, the *qabmasker* has been renamed as *landsatmasker* and the function *getmask* has been renamed as *getmultimask* for better identification. Please update your script accordingly.\n\n**Update** Since 0.3.0, most class and function names have been updated according to the pep8.\n\nThe Quality Assessment (QA) band is a standard product included in each Landsat 8 image downloaded from USGS, which contains the quality information of each pixel such as cloud, snow/ice, water body etc. The detailed information of this band can be found at [Landsat 8 Quality Assessment Band](http://landsat.usgs.gov/L8QualityAssessmentBand.php).\n<!-- more -->\nAlthough the bits structure of the QA band is easy-to-understand, it would several steps to extract the desired mask in [QGIS](http://courses.neteler.org/processing-landsat8-data-in-grass-gis-7/) or [L-LDOPE Toolbelt](https://hyspeedblog.wordpress.com/2014/08/27/working-with-landsat-8-using-and-interpreting-the-quality-assessment-qa-band/). In this article, I am going to introduce how to use *pymasker* to generate masks from Landsat 8 QA band in Python. This package is designed to provide a straightforward and intuitive way to generate masks from the QA band. It is an open-source package and the project is hosted at [GitHub](https://github.com/dz316424/pymasker).\n\n## Installation\n\nThe package can be shipped to your computer using pip.\n\n```python\npip install pymasker\n```\n\nOr just install it with the source code.\n\n```python\npython setup.py install\n```\n\nThis package depends on [**numpy**](http://www.numpy.org/). If you want to directly load the QA band file, [**GDAL**](https://pypi.python.org/pypi/GDAL/) is also in need.\n\n## Sample\n\nFirst of all, you need to load the QA band into the *qabmaser* class.\n\n```python\nfrom pymasker import LandsatMasker\n\n# load the QA band directly\nmasker = LandsatMasker('LC80170302014272LGN00_BQA.TIF')\n\n# load a numpy array that contains band data\nmasker = LandsatMasker(bandarray)\n```\n\nThe QA band contains the detection result of the following four specific conditions for each pixel:\n\n* Cloud\n\n* Cirrus\n\n* Snow/Ice\n\n* Vegetation\n\n* Water body\n\nFor each condition, the algorithm gives a confidence to indicate its existence on the pixel.\n\n```python\nfrom pymasker import LandsatConfidence\n\n# Algorithm has high confidence that this condition exists (67-100 percent confidence).\nconf = LandsatConfidence.high\n\n# Algorithm has medium confidence that this condition exists (34-66 percent confidence).\nconf = LandsatConfidence.medium\n\n# Algorithm has low to no confidence that this condition exists (0-33 percent confidence)\nconf = LandsatConfidence.low\n\n# Algorithm did not determine the status of this condition.\nconf = LandsatConfidence.undefined\n\n# Nothing, unspecified confidence\nconf = LandsatConfidence.none\n```\n\nTo generate a mask, you need to define a desired confidence for the target condition.\n\n*Pymasker* provides several functions to get the most commonly used mask. The resulting mask is a binary numpy array with 1 representing existence of specific condition and 0 representing nonexistence.\n\n```python\n# Get mask indicating cloud pixels with high confidence\nmask = masker.get_cloud_mask(LandsatConfidence.high)\n\n# Get mask indicating cloud pixels with at least medium confidence\nmask = masker.get_cloud_mask(LandsatConfidence.medium, cumulative = True)\n\n# Get mask indicating snow/ice pixels with at least medium confidence\nmask = masker.get_snow_mask(LandsatConfidence.medium, cumulative = True)\n\n# Get mask indicating water body pixels with high confidence\nmask = masker.get_water_mask(LandsatConfidence.high)\n\n# Get mask indicating vegetation pixels with high confidence\nmask = masker.get_veg_mask(LandsatConfidence.high)\n```\n\n*Pymasker* also provides a function for multi-criteria masking. In this function, you need to specify the confidence level of each condition. If you don't want the function consider one of conditions, you need to set it as confidence.none. Two different masking methods are provided:\n\n* Inclusive\t-\tMask pixels that meet at least one of all criteria.\n\n* Exclusive -\tOnly Mask pixels that meet all criteria. (default)\n\nSample code for multi-criteria masking\n\n```python\n# Get mask indicating cloud pixels (high confidence) and cirrus pixels (high confidence).\n# Exclusive and noncumulative\nmask = masker.get_multi_mask(cloud = LandsatConfidence.high, water = LandsatConfidence.high)\n\n# Save the result if you want.\nmasker.save_tif(mask, 'result.tif')\n```\n\n{% asset_img maskresult.png This is an example image %}\n\nNow you have your mask! Nice and quick!\n","slug":"Making-masks-with-Landsat-8-Quality-Assessment-band-using-Python","published":1,"updated":"2020-08-08T11:06:20.632Z","layout":"post","photos":[],"link":"","_id":"ckirpyfhj000y0055ylkdarfn","content":"<p><strong>Update</strong> Since 0.2.0, the <em>qabmasker</em> has been renamed as <em>landsatmasker</em> and the function <em>getmask</em> has been renamed as <em>getmultimask</em> for better identification. Please update your script accordingly.</p><p><strong>Update</strong> Since 0.3.0, most class and function names have been updated according to the pep8.</p><p>The Quality Assessment (QA) band is a standard product included in each Landsat 8 image downloaded from USGS, which contains the quality information of each pixel such as cloud, snow/ice, water body etc. The detailed information of this band can be found at <a href=\"http://landsat.usgs.gov/L8QualityAssessmentBand.php\" target=\"_blank\" rel=\"noopener\">Landsat 8 Quality Assessment Band</a>.</p><a id=\"more\"></a><p>Although the bits structure of the QA band is easy-to-understand, it would several steps to extract the desired mask in <a href=\"http://courses.neteler.org/processing-landsat8-data-in-grass-gis-7/\" target=\"_blank\" rel=\"noopener\">QGIS</a> or <a href=\"https://hyspeedblog.wordpress.com/2014/08/27/working-with-landsat-8-using-and-interpreting-the-quality-assessment-qa-band/\" target=\"_blank\" rel=\"noopener\">L-LDOPE Toolbelt</a>. In this article, I am going to introduce how to use <em>pymasker</em> to generate masks from Landsat 8 QA band in Python. This package is designed to provide a straightforward and intuitive way to generate masks from the QA band. It is an open-source package and the project is hosted at <a href=\"https://github.com/dz316424/pymasker\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><h2 id=\"Installation\"><a href=\"#Installation\" class=\"headerlink\" title=\"Installation\"></a>Installation</h2><p>The package can be shipped to your computer using pip.</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pymasker</span><br></pre></td></tr></tbody></table></figure><p>Or just install it with the source code.</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python setup.py install</span><br></pre></td></tr></tbody></table></figure><p>This package depends on <a href=\"http://www.numpy.org/\" target=\"_blank\" rel=\"noopener\"><strong>numpy</strong></a>. If you want to directly load the QA band file, <a href=\"https://pypi.python.org/pypi/GDAL/\" target=\"_blank\" rel=\"noopener\"><strong>GDAL</strong></a> is also in need.</p><h2 id=\"Sample\"><a href=\"#Sample\" class=\"headerlink\" title=\"Sample\"></a>Sample</h2><p>First of all, you need to load the QA band into the <em>qabmaser</em> class.</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> LandsatMasker</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># load the QA band directly</span></span><br><span class=\"line\">masker = LandsatMasker(<span class=\"string\">'LC80170302014272LGN00_BQA.TIF'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># load a numpy array that contains band data</span></span><br><span class=\"line\">masker = LandsatMasker(bandarray)</span><br></pre></td></tr></tbody></table></figure><p>The QA band contains the detection result of the following four specific conditions for each pixel:</p><ul><li><p>Cloud</p></li><li><p>Cirrus</p></li><li><p>Snow/Ice</p></li><li><p>Vegetation</p></li><li><p>Water body</p></li></ul><p>For each condition, the algorithm gives a confidence to indicate its existence on the pixel.</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> LandsatConfidence</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Algorithm has high confidence that this condition exists (67-100 percent confidence).</span></span><br><span class=\"line\">conf = LandsatConfidence.high</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Algorithm has medium confidence that this condition exists (34-66 percent confidence).</span></span><br><span class=\"line\">conf = LandsatConfidence.medium</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Algorithm has low to no confidence that this condition exists (0-33 percent confidence)</span></span><br><span class=\"line\">conf = LandsatConfidence.low</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Algorithm did not determine the status of this condition.</span></span><br><span class=\"line\">conf = LandsatConfidence.undefined</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Nothing, unspecified confidence</span></span><br><span class=\"line\">conf = LandsatConfidence.none</span><br></pre></td></tr></tbody></table></figure><p>To generate a mask, you need to define a desired confidence for the target condition.</p><p><em>Pymasker</em> provides several functions to get the most commonly used mask. The resulting mask is a binary numpy array with 1 representing existence of specific condition and 0 representing nonexistence.</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Get mask indicating cloud pixels with high confidence</span></span><br><span class=\"line\">mask = masker.get_cloud_mask(LandsatConfidence.high)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Get mask indicating cloud pixels with at least medium confidence</span></span><br><span class=\"line\">mask = masker.get_cloud_mask(LandsatConfidence.medium, cumulative = <span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Get mask indicating snow/ice pixels with at least medium confidence</span></span><br><span class=\"line\">mask = masker.get_snow_mask(LandsatConfidence.medium, cumulative = <span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Get mask indicating water body pixels with high confidence</span></span><br><span class=\"line\">mask = masker.get_water_mask(LandsatConfidence.high)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Get mask indicating vegetation pixels with high confidence</span></span><br><span class=\"line\">mask = masker.get_veg_mask(LandsatConfidence.high)</span><br></pre></td></tr></tbody></table></figure><p><em>Pymasker</em> also provides a function for multi-criteria masking. In this function, you need to specify the confidence level of each condition. If you dont want the function consider one of conditions, you need to set it as confidence.none. Two different masking methods are provided:</p><ul><li><p>Inclusive - Mask pixels that meet at least one of all criteria.</p></li><li><p>Exclusive - Only Mask pixels that meet all criteria. (default)</p></li></ul><p>Sample code for multi-criteria masking</p><figure class=\"highlight python\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Get mask indicating cloud pixels (high confidence) and cirrus pixels (high confidence).</span></span><br><span class=\"line\"><span class=\"comment\"># Exclusive and noncumulative</span></span><br><span class=\"line\">mask = masker.get_multi_mask(cloud = LandsatConfidence.high, water = LandsatConfidence.high)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Save the result if you want.</span></span><br><span class=\"line\">masker.save_tif(mask, <span class=\"string\">'result.tif'</span>)</span><br></pre></td></tr></tbody></table></figure><img src=\"/blog/2015/01/18/Making-masks-with-Landsat-8-Quality-Assessment-band-using-Python/maskresult.png\" title=\"This is an example image\"><p>Now you have your mask! Nice and quick!</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p><strong>Update</strong> Since 0.2.0, the <em>qabmasker</em> has been renamed as <em>landsatmasker</em> and the function <em>getmask</em> has been renamed as <em>getmultimask</em> for better identification. Please update your script accordingly.</p><p><strong>Update</strong> Since 0.3.0, most class and function names have been updated according to the pep8.</p><p>The Quality Assessment (QA) band is a standard product included in each Landsat 8 image downloaded from USGS, which contains the quality information of each pixel such as cloud, snow/ice, water body etc. The detailed information of this band can be found at <a href=\"http://landsat.usgs.gov/L8QualityAssessmentBand.php\" target=\"_blank\" rel=\"noopener\">Landsat 8 Quality Assessment Band</a>.</p>","more":"<p>Although the bits structure of the QA band is easy-to-understand, it would several steps to extract the desired mask in <a href=\"http://courses.neteler.org/processing-landsat8-data-in-grass-gis-7/\" target=\"_blank\" rel=\"noopener\">QGIS</a> or <a href=\"https://hyspeedblog.wordpress.com/2014/08/27/working-with-landsat-8-using-and-interpreting-the-quality-assessment-qa-band/\" target=\"_blank\" rel=\"noopener\">L-LDOPE Toolbelt</a>. In this article, I am going to introduce how to use <em>pymasker</em> to generate masks from Landsat 8 QA band in Python. This package is designed to provide a straightforward and intuitive way to generate masks from the QA band. It is an open-source package and the project is hosted at <a href=\"https://github.com/dz316424/pymasker\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><h2 id=\"Installation\"><a href=\"#Installation\" class=\"headerlink\" title=\"Installation\"></a>Installation</h2><p>The package can be shipped to your computer using pip.</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pymasker</span><br></pre></td></tr></table></figure><p>Or just install it with the source code.</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python setup.py install</span><br></pre></td></tr></table></figure><p>This package depends on <a href=\"http://www.numpy.org/\" target=\"_blank\" rel=\"noopener\"><strong>numpy</strong></a>. If you want to directly load the QA band file, <a href=\"https://pypi.python.org/pypi/GDAL/\" target=\"_blank\" rel=\"noopener\"><strong>GDAL</strong></a> is also in need.</p><h2 id=\"Sample\"><a href=\"#Sample\" class=\"headerlink\" title=\"Sample\"></a>Sample</h2><p>First of all, you need to load the QA band into the <em>qabmaser</em> class.</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> LandsatMasker</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># load the QA band directly</span></span><br><span class=\"line\">masker = LandsatMasker(<span class=\"string\">'LC80170302014272LGN00_BQA.TIF'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># load a numpy array that contains band data</span></span><br><span class=\"line\">masker = LandsatMasker(bandarray)</span><br></pre></td></tr></table></figure><p>The QA band contains the detection result of the following four specific conditions for each pixel:</p><ul><li><p>Cloud</p></li><li><p>Cirrus</p></li><li><p>Snow/Ice</p></li><li><p>Vegetation</p></li><li><p>Water body</p></li></ul><p>For each condition, the algorithm gives a confidence to indicate its existence on the pixel.</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pymasker <span class=\"keyword\">import</span> LandsatConfidence</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Algorithm has high confidence that this condition exists (67-100 percent confidence).</span></span><br><span class=\"line\">conf = LandsatConfidence.high</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Algorithm has medium confidence that this condition exists (34-66 percent confidence).</span></span><br><span class=\"line\">conf = LandsatConfidence.medium</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Algorithm has low to no confidence that this condition exists (0-33 percent confidence)</span></span><br><span class=\"line\">conf = LandsatConfidence.low</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Algorithm did not determine the status of this condition.</span></span><br><span class=\"line\">conf = LandsatConfidence.undefined</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Nothing, unspecified confidence</span></span><br><span class=\"line\">conf = LandsatConfidence.none</span><br></pre></td></tr></table></figure><p>To generate a mask, you need to define a desired confidence for the target condition.</p><p><em>Pymasker</em> provides several functions to get the most commonly used mask. The resulting mask is a binary numpy array with 1 representing existence of specific condition and 0 representing nonexistence.</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Get mask indicating cloud pixels with high confidence</span></span><br><span class=\"line\">mask = masker.get_cloud_mask(LandsatConfidence.high)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Get mask indicating cloud pixels with at least medium confidence</span></span><br><span class=\"line\">mask = masker.get_cloud_mask(LandsatConfidence.medium, cumulative = <span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Get mask indicating snow/ice pixels with at least medium confidence</span></span><br><span class=\"line\">mask = masker.get_snow_mask(LandsatConfidence.medium, cumulative = <span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Get mask indicating water body pixels with high confidence</span></span><br><span class=\"line\">mask = masker.get_water_mask(LandsatConfidence.high)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Get mask indicating vegetation pixels with high confidence</span></span><br><span class=\"line\">mask = masker.get_veg_mask(LandsatConfidence.high)</span><br></pre></td></tr></table></figure><p><em>Pymasker</em> also provides a function for multi-criteria masking. In this function, you need to specify the confidence level of each condition. If you dont want the function consider one of conditions, you need to set it as confidence.none. Two different masking methods are provided:</p><ul><li><p>Inclusive - Mask pixels that meet at least one of all criteria.</p></li><li><p>Exclusive - Only Mask pixels that meet all criteria. (default)</p></li></ul><p>Sample code for multi-criteria masking</p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Get mask indicating cloud pixels (high confidence) and cirrus pixels (high confidence).</span></span><br><span class=\"line\"><span class=\"comment\"># Exclusive and noncumulative</span></span><br><span class=\"line\">mask = masker.get_multi_mask(cloud = LandsatConfidence.high, water = LandsatConfidence.high)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Save the result if you want.</span></span><br><span class=\"line\">masker.save_tif(mask, <span class=\"string\">'result.tif'</span>)</span><br></pre></td></tr></table></figure><img src=\"/blog/2015/01/18/Making-masks-with-Landsat-8-Quality-Assessment-band-using-Python/maskresult.png\" title=\"This is an example image\"><p>Now you have your mask! Nice and quick!</p>"},{"title":"Pymasker","date":"2015-01-21T19:03:02.000Z","_content":"\nPymasker is a python package to generate various masks from the landsat 8 Quality Assessment band and MODIS products.\n<!-- more -->\nThis project is hosted at [GitHub](https://github.com/haoliangyu/pymasker).\n\n## Installation\n\nThe package can be shipped to your computer using pip.\n\n```bash\npip install pymasker\n```\n\nOr just install it with the source code.\n\n```bash\npython setup.py install\n```\n\nThis package depends on [**numpy**](http://www.numpy.org/). If you want to directly load the QA band file, [**GDAL**](https://pypi.python.org/pypi/GDAL/) is also in need if you want to .\n\n## Releasse\n\n* 0.1.0\n\t* First release of this package\n\n* 0.1.2\n\t* Added multi-criteria masking\n\t* Added new confidence leve: none\n\n* 0.1.3\n\t* Added *cumulative* options for multi-criteria masking\n\t* Fixed a default value problem in multi-criteria masking\n\n* 0.1.4\n\t* Removed the dependence of GDAL\n\n* 0.2.0\n\t* Added support for MODIS land products\n\n* 0.2.3\n\t* Restructure package\n","source":"_posts/Pymasker.md","raw":"title: Pymasker\ndate: 2015-01-21 22:03:02\ncategories:\n- Project\ntags:\n- gis\n- project\n- python\n---\n\nPymasker is a python package to generate various masks from the landsat 8 Quality Assessment band and MODIS products.\n<!-- more -->\nThis project is hosted at [GitHub](https://github.com/haoliangyu/pymasker).\n\n## Installation\n\nThe package can be shipped to your computer using pip.\n\n```bash\npip install pymasker\n```\n\nOr just install it with the source code.\n\n```bash\npython setup.py install\n```\n\nThis package depends on [**numpy**](http://www.numpy.org/). If you want to directly load the QA band file, [**GDAL**](https://pypi.python.org/pypi/GDAL/) is also in need if you want to .\n\n## Releasse\n\n* 0.1.0\n\t* First release of this package\n\n* 0.1.2\n\t* Added multi-criteria masking\n\t* Added new confidence leve: none\n\n* 0.1.3\n\t* Added *cumulative* options for multi-criteria masking\n\t* Fixed a default value problem in multi-criteria masking\n\n* 0.1.4\n\t* Removed the dependence of GDAL\n\n* 0.2.0\n\t* Added support for MODIS land products\n\n* 0.2.3\n\t* Restructure package\n","slug":"Pymasker","published":1,"updated":"2020-08-08T11:06:20.636Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfhl001000555bcu08ql","content":"<p>Pymasker is a python package to generate various masks from the landsat 8 Quality Assessment band and MODIS products.</p><a id=\"more\"></a><p>This project is hosted at <a href=\"https://github.com/haoliangyu/pymasker\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><h2 id=\"Installation\"><a href=\"#Installation\" class=\"headerlink\" title=\"Installation\"></a>Installation</h2><p>The package can be shipped to your computer using pip.</p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pymasker</span><br></pre></td></tr></tbody></table></figure><p>Or just install it with the source code.</p><figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python setup.py install</span><br></pre></td></tr></tbody></table></figure><p>This package depends on <a href=\"http://www.numpy.org/\" target=\"_blank\" rel=\"noopener\"><strong>numpy</strong></a>. If you want to directly load the QA band file, <a href=\"https://pypi.python.org/pypi/GDAL/\" target=\"_blank\" rel=\"noopener\"><strong>GDAL</strong></a> is also in need if you want to .</p><h2 id=\"Releasse\"><a href=\"#Releasse\" class=\"headerlink\" title=\"Releasse\"></a>Releasse</h2><ul><li><p>0.1.0</p><ul><li>First release of this package</li></ul></li><li><p>0.1.2</p><ul><li>Added multi-criteria masking</li><li>Added new confidence leve: none</li></ul></li><li><p>0.1.3</p><ul><li>Added <em>cumulative</em> options for multi-criteria masking</li><li>Fixed a default value problem in multi-criteria masking</li></ul></li><li><p>0.1.4</p><ul><li>Removed the dependence of GDAL</li></ul></li><li><p>0.2.0</p><ul><li>Added support for MODIS land products</li></ul></li><li><p>0.2.3</p><ul><li>Restructure package</li></ul></li></ul><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>Pymasker is a python package to generate various masks from the landsat 8 Quality Assessment band and MODIS products.</p>","more":"<p>This project is hosted at <a href=\"https://github.com/haoliangyu/pymasker\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p><h2 id=\"Installation\"><a href=\"#Installation\" class=\"headerlink\" title=\"Installation\"></a>Installation</h2><p>The package can be shipped to your computer using pip.</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pymasker</span><br></pre></td></tr></table></figure><p>Or just install it with the source code.</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python setup.py install</span><br></pre></td></tr></table></figure><p>This package depends on <a href=\"http://www.numpy.org/\" target=\"_blank\" rel=\"noopener\"><strong>numpy</strong></a>. If you want to directly load the QA band file, <a href=\"https://pypi.python.org/pypi/GDAL/\" target=\"_blank\" rel=\"noopener\"><strong>GDAL</strong></a> is also in need if you want to .</p><h2 id=\"Releasse\"><a href=\"#Releasse\" class=\"headerlink\" title=\"Releasse\"></a>Releasse</h2><ul><li><p>0.1.0</p><ul><li>First release of this package</li></ul></li><li><p>0.1.2</p><ul><li>Added multi-criteria masking</li><li>Added new confidence leve: none</li></ul></li><li><p>0.1.3</p><ul><li>Added <em>cumulative</em> options for multi-criteria masking</li><li>Fixed a default value problem in multi-criteria masking</li></ul></li><li><p>0.1.4</p><ul><li>Removed the dependence of GDAL</li></ul></li><li><p>0.2.0</p><ul><li>Added support for MODIS land products</li></ul></li><li><p>0.2.3</p><ul><li>Restructure package</li></ul></li></ul>"},{"title":"The Launch of OpenDataDiscovery.org","date":"2016-10-09T21:00:00.000Z","comments":1,"_content":"\nAfter several months' work at my spare time, I finally publish the first version of my side-project [OpenDataDiscovery.org](http://opendatadiscovery.org/). It is a step to answer this very simple question in my mind: **How many open datasets do we have on earth?**\n\n<!-- more -->\n\nI don't remember exactly when I started thinking about this question. It seems to be natural to ask, but very easy to ignore at the era of open data blooming.\n\nJust look around. Every people, every government, every institute is talking about open data and releasing their data. EPA, NOAA, NOAA, and many other research institutes provide similar data from different angles about the same aspect of air pollution. Both USGS and USDA publish their soil survey. Numerous federal and local agencies are building their own data portals. Not to mention many research institutes have been doing that for years.\n\nThe rapidly increasing number of data providers and open data creates a view of prosperity, which is going to create another problem: we are walking out of the data desert and now into a data jungle. When the available data is not as much as today, figuring out what and how data are published is not very difficult as there is a small market. However, within a data jungle, it may be easy to understand the status of data opening at the domain you are familiar with, but difficult to look beyond. It is not just because increasing open data brings increasing information, but there are more things happening outside our individual's knowledge. We tend to be lost in the numerous options of data and miss the whole picture.\n\nTherefore, when I try to answer my initial question, I know there is a lot data at anywhere but cannot figure out even an estimate.\n\nThe methodology to answer this question is not complex. I just need to collect information from all data portals and create the overview of the world of open data. The difficult part is `all data portals`. Fortunately, in the open data industry, there are dominant data portal platform providers, who are willing to open the API for data harvesting. These open API allows developers to collect rich information from each individual portal based on their platform, including dataset number, tag, category, publisher etc.\n\nAll I need is a program that could help me automatically collect information from related portals and provide a summary view. So I develop the application [OpenDataDiscovery.org](http://opendatadiscovery.org/), which runs the server for data collection and presents the map view of all data portals on earth.\n\nToday the OpenDataDiscovery.org has been up and running. It is collecting information for more than 100 CKAN instances ([see the list](http://ckan.org/instances/)) and presents the status for these portals. As it update in a weekly basis, it is able to keep track of the status of worldwide data opening.\n\n{% asset_img map.png This is an example image %}\n\n\nLike a puzzle game, it needs us to put every piece into the frame in order to retrieve the overall view. By continuously adding portals into OpenDataDiscovery.org, it will eventually present a full and live picture of the world of open data. Let's see!\n","source":"_posts/The-Launch-of-OpenDataDiscovery.org.md","raw":"title: The Launch of OpenDataDiscovery.org\ndate: 2016-10-10\ncomments: true\ncategories:\n- GIS\ntags:\n- open data\n- gis\n- OpenDataDiscovery.org\n---\n\nAfter several months' work at my spare time, I finally publish the first version of my side-project [OpenDataDiscovery.org](http://opendatadiscovery.org/). It is a step to answer this very simple question in my mind: **How many open datasets do we have on earth?**\n\n<!-- more -->\n\nI don't remember exactly when I started thinking about this question. It seems to be natural to ask, but very easy to ignore at the era of open data blooming.\n\nJust look around. Every people, every government, every institute is talking about open data and releasing their data. EPA, NOAA, NOAA, and many other research institutes provide similar data from different angles about the same aspect of air pollution. Both USGS and USDA publish their soil survey. Numerous federal and local agencies are building their own data portals. Not to mention many research institutes have been doing that for years.\n\nThe rapidly increasing number of data providers and open data creates a view of prosperity, which is going to create another problem: we are walking out of the data desert and now into a data jungle. When the available data is not as much as today, figuring out what and how data are published is not very difficult as there is a small market. However, within a data jungle, it may be easy to understand the status of data opening at the domain you are familiar with, but difficult to look beyond. It is not just because increasing open data brings increasing information, but there are more things happening outside our individual's knowledge. We tend to be lost in the numerous options of data and miss the whole picture.\n\nTherefore, when I try to answer my initial question, I know there is a lot data at anywhere but cannot figure out even an estimate.\n\nThe methodology to answer this question is not complex. I just need to collect information from all data portals and create the overview of the world of open data. The difficult part is `all data portals`. Fortunately, in the open data industry, there are dominant data portal platform providers, who are willing to open the API for data harvesting. These open API allows developers to collect rich information from each individual portal based on their platform, including dataset number, tag, category, publisher etc.\n\nAll I need is a program that could help me automatically collect information from related portals and provide a summary view. So I develop the application [OpenDataDiscovery.org](http://opendatadiscovery.org/), which runs the server for data collection and presents the map view of all data portals on earth.\n\nToday the OpenDataDiscovery.org has been up and running. It is collecting information for more than 100 CKAN instances ([see the list](http://ckan.org/instances/)) and presents the status for these portals. As it update in a weekly basis, it is able to keep track of the status of worldwide data opening.\n\n{% asset_img map.png This is an example image %}\n\n\nLike a puzzle game, it needs us to put every piece into the frame in order to retrieve the overall view. By continuously adding portals into OpenDataDiscovery.org, it will eventually present a full and live picture of the world of open data. Let's see!\n","slug":"The-Launch-of-OpenDataDiscovery.org","published":1,"updated":"2020-08-08T11:06:20.637Z","layout":"post","photos":[],"link":"","_id":"ckirpyfhn00130055idzqkokq","content":"<p>After several months work at my spare time, I finally publish the first version of my side-project <a href=\"http://opendatadiscovery.org/\" target=\"_blank\" rel=\"noopener\">OpenDataDiscovery.org</a>. It is a step to answer this very simple question in my mind: <strong>How many open datasets do we have on earth?</strong></p><a id=\"more\"></a><p>I dont remember exactly when I started thinking about this question. It seems to be natural to ask, but very easy to ignore at the era of open data blooming.</p><p>Just look around. Every people, every government, every institute is talking about open data and releasing their data. EPA, NOAA, NOAA, and many other research institutes provide similar data from different angles about the same aspect of air pollution. Both USGS and USDA publish their soil survey. Numerous federal and local agencies are building their own data portals. Not to mention many research institutes have been doing that for years.</p><p>The rapidly increasing number of data providers and open data creates a view of prosperity, which is going to create another problem: we are walking out of the data desert and now into a data jungle. When the available data is not as much as today, figuring out what and how data are published is not very difficult as there is a small market. However, within a data jungle, it may be easy to understand the status of data opening at the domain you are familiar with, but difficult to look beyond. It is not just because increasing open data brings increasing information, but there are more things happening outside our individuals knowledge. We tend to be lost in the numerous options of data and miss the whole picture.</p><p>Therefore, when I try to answer my initial question, I know there is a lot data at anywhere but cannot figure out even an estimate.</p><p>The methodology to answer this question is not complex. I just need to collect information from all data portals and create the overview of the world of open data. The difficult part is <code>all data portals</code>. Fortunately, in the open data industry, there are dominant data portal platform providers, who are willing to open the API for data harvesting. These open API allows developers to collect rich information from each individual portal based on their platform, including dataset number, tag, category, publisher etc.</p><p>All I need is a program that could help me automatically collect information from related portals and provide a summary view. So I develop the application <a href=\"http://opendatadiscovery.org/\" target=\"_blank\" rel=\"noopener\">OpenDataDiscovery.org</a>, which runs the server for data collection and presents the map view of all data portals on earth.</p><p>Today the OpenDataDiscovery.org has been up and running. It is collecting information for more than 100 CKAN instances (<a href=\"http://ckan.org/instances/\" target=\"_blank\" rel=\"noopener\">see the list</a>) and presents the status for these portals. As it update in a weekly basis, it is able to keep track of the status of worldwide data opening.</p><img src=\"/blog/2016/10/10/The-Launch-of-OpenDataDiscovery.org/map.png\" title=\"This is an example image\"><p>Like a puzzle game, it needs us to put every piece into the frame in order to retrieve the overall view. By continuously adding portals into OpenDataDiscovery.org, it will eventually present a full and live picture of the world of open data. Lets see!</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>After several months work at my spare time, I finally publish the first version of my side-project <a href=\"http://opendatadiscovery.org/\" target=\"_blank\" rel=\"noopener\">OpenDataDiscovery.org</a>. It is a step to answer this very simple question in my mind: <strong>How many open datasets do we have on earth?</strong></p>","more":"<p>I dont remember exactly when I started thinking about this question. It seems to be natural to ask, but very easy to ignore at the era of open data blooming.</p><p>Just look around. Every people, every government, every institute is talking about open data and releasing their data. EPA, NOAA, NOAA, and many other research institutes provide similar data from different angles about the same aspect of air pollution. Both USGS and USDA publish their soil survey. Numerous federal and local agencies are building their own data portals. Not to mention many research institutes have been doing that for years.</p><p>The rapidly increasing number of data providers and open data creates a view of prosperity, which is going to create another problem: we are walking out of the data desert and now into a data jungle. When the available data is not as much as today, figuring out what and how data are published is not very difficult as there is a small market. However, within a data jungle, it may be easy to understand the status of data opening at the domain you are familiar with, but difficult to look beyond. It is not just because increasing open data brings increasing information, but there are more things happening outside our individuals knowledge. We tend to be lost in the numerous options of data and miss the whole picture.</p><p>Therefore, when I try to answer my initial question, I know there is a lot data at anywhere but cannot figure out even an estimate.</p><p>The methodology to answer this question is not complex. I just need to collect information from all data portals and create the overview of the world of open data. The difficult part is <code>all data portals</code>. Fortunately, in the open data industry, there are dominant data portal platform providers, who are willing to open the API for data harvesting. These open API allows developers to collect rich information from each individual portal based on their platform, including dataset number, tag, category, publisher etc.</p><p>All I need is a program that could help me automatically collect information from related portals and provide a summary view. So I develop the application <a href=\"http://opendatadiscovery.org/\" target=\"_blank\" rel=\"noopener\">OpenDataDiscovery.org</a>, which runs the server for data collection and presents the map view of all data portals on earth.</p><p>Today the OpenDataDiscovery.org has been up and running. It is collecting information for more than 100 CKAN instances (<a href=\"http://ckan.org/instances/\" target=\"_blank\" rel=\"noopener\">see the list</a>) and presents the status for these portals. As it update in a weekly basis, it is able to keep track of the status of worldwide data opening.</p><img src=\"/blog/2016/10/10/The-Launch-of-OpenDataDiscovery.org/map.png\" title=\"This is an example image\"><p>Like a puzzle game, it needs us to put every piece into the frame in order to retrieve the overall view. By continuously adding portals into OpenDataDiscovery.org, it will eventually present a full and live picture of the world of open data. Lets see!</p>"},{"title":"The unofficial documentation for ArcGIS Open Data APIs","date":"2017-02-11T08:48:55.000Z","_content":"\n[ArcGIS Open Data](http://opendata.arcgis.com) is a great network of governmental and institutional open data. While the data portal service runs on APIs, there is no official documentation of public APIs for ArcGIS Open Data. So this post is to provide the unofficial documentation of ArcGIS Open Data APIs, which are discovered in my work (mostly by accident).\n\n<!-- more -->\n\nThis documentation is also published at [GitHub Gist](https://gist.github.com/haoliangyu/0d0abcccfd3b25beb8b7597b4b2fc497);\n\n## Dataset Search API\n\n### Example\n\n```\nhttp://data.portal.com/datasets?q=test\n```\n\n### Parameters\n\n* **q** (string)\n\n  query string for full text search\n\n* **bbox** (unknown)\n\n  boundary box for geographic search\n\n* **required_keywords** (unknown)\n\n  dataset keywords (tags) for search\n\n* **page** (integer)\n\n  current page of results\n\n* **per_page** (integer)\n\n  number of results per page (default: 10)\n\n* **sort_by** (string)\n\n  returned results sorting method:\n\n  * `updated_at` (default)\n  * `relevance`\n\n* **sort_order** (string)\n\n  returned results order:\n\n  * `desc` (default)\n  * `asc`\n\n### Response Example\n\n``` json\n{\n  \"data\": [\n    {\n      \"display_field\": \"FAC_CAT\",\n      \"max_record_count\": 2000,\n      \"record_count\": 11,\n      \"geometry_type\": \"esriGeometryPoint\",\n      \"object_id_field\": \"FID\",\n      \"supported_extensions\": \"\",\n      \"advanced_query_capabilities\": {\n        \"supports_pagination\": true,\n        \"supports_query_related_pagination\": true,\n        \"supports_query_with_distance\": true,\n        \"supports_returning_query_extent\": true,\n        \"supports_statistics\": true,\n        \"supports_order_by\": true,\n        \"supports_distinct\": true,\n        \"supports_query_with_result_type\": true,\n        \"supports_sql_expression\": true,\n        \"supports_advanced_query_related\": true,\n        \"supports_returning_geometry_centroid\": false\n      },\n      \"supports_advanced_queries\": true,\n      \"id\": \"dd62922ee5c14d11a187aaf30052404f_0\",\n      \"landing_page\": \"https://www.arcgis.com/home/item.html?id=dd62922ee5c14d11a187aaf30052404f\",\n      \"description\": \"This feature layer, utilizing data from the U.S. Environmental Protection Agency (EPA), displays regional offices. The EPA began operation on December 2, 1970 and it inherited two regional systems from predecessor agencies. The Federal Water Quality Administration which used a nine region system and the Environmental Health Service which had adopted the ten Standard Federal Regions suggested by the Office of Management and Budget (OMB). In order to facilitate easier operations with local and state governments as well as other federal agencies the EPA chose to adopt the OMB Standard Federal Regions which still exist today.<div><br /></div><div><div><img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/26b532f4bfb14e0eb517c644dcda73c1/data\\\" /><br /></div><div><i>Regional Office locations</i></div><div><br /></div><div>For more information:<a href=\\\"https://www.epa.gov/aboutepa\\\" target=\\\"_blank\\\">About EPA</a></div><div>For feedback, please contact:<a href=\\\"mailto:ArcGIScomNationalMaps@esri.com\\\" target=\\\"_blank\\\">ArcGIScomNationalMaps@esri.com</a></div><div><div><br /></div><div><div>EPA sites of interest<b><br /></b></div><div><b><br /></b></div><div><img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/d543cdf1e9694f5f985eae5b2dcd36f8/data\\\" /><a href=\\\"https://epa.maps.arcgis.com/home/index.html\\\" target=\\\"_blank\\\">ArcGIS Online Organizational Homepage</a><b><br /></b></div><div><b><br /></b></div><div>Other Federal User Community federally focused content that may interest you</div><div><b><br /></b></div><div><img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/f83c3452ec074ee08c7f04975578c212/data\\\" /><a href=\\\"http://fedmaps.maps.arcgis.com/home/search.html?q=owner%3AFederal_User_Community%20AND%20tags%3AUS%20EPA&amp;t=content&amp;restrict=false\\\" target=\\\"_blank\\\">U.S. Environmental Protection Agency</a>     <img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/46785cfb399344a6af50d4514d6ef0f9/data\\\" /><a href=\\\"http://open.fedmaps.opendata.arcgis.com/datasets?q=US+EPA&amp;sort_by=relevance\\\" target=\\\"_blank\\\">Open Data:U.S. EPA</a></div></div></div></div>\",\n      \"extent\": {\n        \"coordinates\": [\n          [\n            -125.676,\n            24.242\n          ],\n          [\n            -65.559,\n            50.089\n          ]\n        ]\n      },\n      \"fields\": [\n        {\n          \"name\": \"FID\",\n          \"type\": \"esriFieldTypeInteger\",\n          \"alias\": \"FID\",\n          \"domain\": null,\n          \"statistics\": {\n            \"duration\": 0\n          },\n          \"updated_at\": \"2017-02-06T21:06:49.399Z\"\n        }\n      ],\n      \"item_name\": \"EPA Regional Offices\",\n      \"type\": \"ItemLayer\",\n      \"item_type\": \"Feature Layer\",\n      \"license\": \"<p><img src=\\\"http://downloads.esri.com/blogs/arcgisonline/esrilogo_new.png\\\" />This work is licensed under the Esri Master License Agreement.<br /></p><p><a href=\\\"http://links.esri.com/tou_summary\\\" target=\\\"_blank\\\">View Summary</a>|<a href=\\\"http://links.esri.com/agol_tou\\\" target=\\\"_blank\\\">View Terms of Use</a></p>\",\n      \"name\": \"EPA Regional Offices\",\n      \"owner\": \"Federal_User_Community\",\n      \"tags\": [\n        \"A-16\",\n        \"A16\",\n        \"U.S. Environmental Protection Agency\",\n        \"U.S. EPA\",\n        \"EPA\",\n        \"regional offices\",\n        \"regions\",\n        \"Environmental Protection Agency\",\n        \"places\",\n        \"boundaries\"\n      ],\n      \"thumbnail_url\": \"https://www.arcgis.com/sharing/rest/content/items/dd62922ee5c14d11a187aaf30052404f/info/thumbnail/EPA_-_Regional_Offices_-_screen_capture.png\",\n      \"public\": true,\n      \"created_at\": \"2016-09-02T11:50:55.000Z\",\n      \"updated_at\": \"2017-02-06T21:06:50.911Z\",\n      \"url\": \"https://services2.arcgis.com/FiaPA4ga0iQKduv3/arcgis/rest/services/EPA_RegionalOffices/FeatureServer/0\",\n      \"views\": null,\n      \"quality\": 86,\n      \"coverage\": \"global\",\n      \"current_version\": 10.41,\n      \"comments_enabled\": true,\n      \"service_spatial_reference\": {\n        \"wkid\": 102100,\n        \"latestWkid\": 3857\n      },\n      \"metadata_url\": null,\n      \"org_id\": \"FiaPA4ga0iQKduv3\",\n      \"metadata\": {\n        \"published\": null,\n        \"present\": false,\n        \"url\": null,\n        \"online_resources\": []\n      },\n      \"structured_license\": {\n        \"type\": \"custom\",\n        \"text\": \"This work is licensed under the Esri Master License Agreement.<a href=\\\"http://links.esri.com/tou_summary\\\" target=\\\"_blank\\\">View Summary</a>|<a href=\\\"http://links.esri.com/agol_tou\\\" target=\\\"_blank\\\">View Terms of Use</a>\"\n      },\n      \"use_standardized_queries\": true,\n      \"sites\": [\n        {\n          \"title\": \"PACI\",\n          \"url\": \"http://paci-esridubaioffice.opendata.arcgis.com\",\n          \"logo\": null\n        }\n      ],\n      \"main_group_title\": \"Open Data - Derived US Independent Establishments and Gov't Corps\",\n      \"main_group_description\": \"<span style='line-height: 24px; background-color: rgb(255, 255, 255);'><font face='Verdana' size='3'>The group contains a set of map services, web maps and map packages that can be used in a web browser or downloaded to your ArcGIS Desktop application. The maps may be used asbase mapsand operational layers to support a variety of applications.</font></span>\",\n      \"main_group_thumbnail_url\": null\n    }\n  ],\n  \"metadata\": {\n    \"query_parameters\": {\n      \"bbox\": null,\n      \"page\": 1,\n      \"per_page\": 1,\n      \"q\": \"*\",\n      \"required_keywords\": [],\n      \"sort_by\": \"updated_at\",\n      \"sort_order\": \"desc\"\n    },\n    \"stats\": {\n      \"count\": 1,\n      \"total_count\": 192,\n      \"top_tags\": [\n        { \"name\": \"ocean\", \"count\": 62 }\n      ]\n    }\n  }\n}\n```\n","source":"_posts/The-unofficial-documentation-for-ArcGIS-Open-Data-dataset-search-API.md","raw":"title: The unofficial documentation for ArcGIS Open Data APIs\ndate: 2017-02-11 11:48:55\ncategories:\n- Open Data\ntags:\n- arcgis\n- open data\n---\n\n[ArcGIS Open Data](http://opendata.arcgis.com) is a great network of governmental and institutional open data. While the data portal service runs on APIs, there is no official documentation of public APIs for ArcGIS Open Data. So this post is to provide the unofficial documentation of ArcGIS Open Data APIs, which are discovered in my work (mostly by accident).\n\n<!-- more -->\n\nThis documentation is also published at [GitHub Gist](https://gist.github.com/haoliangyu/0d0abcccfd3b25beb8b7597b4b2fc497);\n\n## Dataset Search API\n\n### Example\n\n```\nhttp://data.portal.com/datasets?q=test\n```\n\n### Parameters\n\n* **q** (string)\n\n  query string for full text search\n\n* **bbox** (unknown)\n\n  boundary box for geographic search\n\n* **required_keywords** (unknown)\n\n  dataset keywords (tags) for search\n\n* **page** (integer)\n\n  current page of results\n\n* **per_page** (integer)\n\n  number of results per page (default: 10)\n\n* **sort_by** (string)\n\n  returned results sorting method:\n\n  * `updated_at` (default)\n  * `relevance`\n\n* **sort_order** (string)\n\n  returned results order:\n\n  * `desc` (default)\n  * `asc`\n\n### Response Example\n\n``` json\n{\n  \"data\": [\n    {\n      \"display_field\": \"FAC_CAT\",\n      \"max_record_count\": 2000,\n      \"record_count\": 11,\n      \"geometry_type\": \"esriGeometryPoint\",\n      \"object_id_field\": \"FID\",\n      \"supported_extensions\": \"\",\n      \"advanced_query_capabilities\": {\n        \"supports_pagination\": true,\n        \"supports_query_related_pagination\": true,\n        \"supports_query_with_distance\": true,\n        \"supports_returning_query_extent\": true,\n        \"supports_statistics\": true,\n        \"supports_order_by\": true,\n        \"supports_distinct\": true,\n        \"supports_query_with_result_type\": true,\n        \"supports_sql_expression\": true,\n        \"supports_advanced_query_related\": true,\n        \"supports_returning_geometry_centroid\": false\n      },\n      \"supports_advanced_queries\": true,\n      \"id\": \"dd62922ee5c14d11a187aaf30052404f_0\",\n      \"landing_page\": \"https://www.arcgis.com/home/item.html?id=dd62922ee5c14d11a187aaf30052404f\",\n      \"description\": \"This feature layer, utilizing data from the U.S. Environmental Protection Agency (EPA), displays regional offices. The EPA began operation on December 2, 1970 and it inherited two regional systems from predecessor agencies. The Federal Water Quality Administration which used a nine region system and the Environmental Health Service which had adopted the ten Standard Federal Regions suggested by the Office of Management and Budget (OMB). In order to facilitate easier operations with local and state governments as well as other federal agencies the EPA chose to adopt the OMB Standard Federal Regions which still exist today.<div><br /></div><div><div><img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/26b532f4bfb14e0eb517c644dcda73c1/data\\\" /><br /></div><div><i>Regional Office locations</i></div><div><br /></div><div>For more information:<a href=\\\"https://www.epa.gov/aboutepa\\\" target=\\\"_blank\\\">About EPA</a></div><div>For feedback, please contact:<a href=\\\"mailto:ArcGIScomNationalMaps@esri.com\\\" target=\\\"_blank\\\">ArcGIScomNationalMaps@esri.com</a></div><div><div><br /></div><div><div>EPA sites of interest<b><br /></b></div><div><b><br /></b></div><div><img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/d543cdf1e9694f5f985eae5b2dcd36f8/data\\\" /><a href=\\\"https://epa.maps.arcgis.com/home/index.html\\\" target=\\\"_blank\\\">ArcGIS Online Organizational Homepage</a><b><br /></b></div><div><b><br /></b></div><div>Other Federal User Community federally focused content that may interest you</div><div><b><br /></b></div><div><img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/f83c3452ec074ee08c7f04975578c212/data\\\" /><a href=\\\"http://fedmaps.maps.arcgis.com/home/search.html?q=owner%3AFederal_User_Community%20AND%20tags%3AUS%20EPA&amp;t=content&amp;restrict=false\\\" target=\\\"_blank\\\">U.S. Environmental Protection Agency</a>     <img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/46785cfb399344a6af50d4514d6ef0f9/data\\\" /><a href=\\\"http://open.fedmaps.opendata.arcgis.com/datasets?q=US+EPA&amp;sort_by=relevance\\\" target=\\\"_blank\\\">Open Data:U.S. EPA</a></div></div></div></div>\",\n      \"extent\": {\n        \"coordinates\": [\n          [\n            -125.676,\n            24.242\n          ],\n          [\n            -65.559,\n            50.089\n          ]\n        ]\n      },\n      \"fields\": [\n        {\n          \"name\": \"FID\",\n          \"type\": \"esriFieldTypeInteger\",\n          \"alias\": \"FID\",\n          \"domain\": null,\n          \"statistics\": {\n            \"duration\": 0\n          },\n          \"updated_at\": \"2017-02-06T21:06:49.399Z\"\n        }\n      ],\n      \"item_name\": \"EPA Regional Offices\",\n      \"type\": \"ItemLayer\",\n      \"item_type\": \"Feature Layer\",\n      \"license\": \"<p><img src=\\\"http://downloads.esri.com/blogs/arcgisonline/esrilogo_new.png\\\" />This work is licensed under the Esri Master License Agreement.<br /></p><p><a href=\\\"http://links.esri.com/tou_summary\\\" target=\\\"_blank\\\">View Summary</a>|<a href=\\\"http://links.esri.com/agol_tou\\\" target=\\\"_blank\\\">View Terms of Use</a></p>\",\n      \"name\": \"EPA Regional Offices\",\n      \"owner\": \"Federal_User_Community\",\n      \"tags\": [\n        \"A-16\",\n        \"A16\",\n        \"U.S. Environmental Protection Agency\",\n        \"U.S. EPA\",\n        \"EPA\",\n        \"regional offices\",\n        \"regions\",\n        \"Environmental Protection Agency\",\n        \"places\",\n        \"boundaries\"\n      ],\n      \"thumbnail_url\": \"https://www.arcgis.com/sharing/rest/content/items/dd62922ee5c14d11a187aaf30052404f/info/thumbnail/EPA_-_Regional_Offices_-_screen_capture.png\",\n      \"public\": true,\n      \"created_at\": \"2016-09-02T11:50:55.000Z\",\n      \"updated_at\": \"2017-02-06T21:06:50.911Z\",\n      \"url\": \"https://services2.arcgis.com/FiaPA4ga0iQKduv3/arcgis/rest/services/EPA_RegionalOffices/FeatureServer/0\",\n      \"views\": null,\n      \"quality\": 86,\n      \"coverage\": \"global\",\n      \"current_version\": 10.41,\n      \"comments_enabled\": true,\n      \"service_spatial_reference\": {\n        \"wkid\": 102100,\n        \"latestWkid\": 3857\n      },\n      \"metadata_url\": null,\n      \"org_id\": \"FiaPA4ga0iQKduv3\",\n      \"metadata\": {\n        \"published\": null,\n        \"present\": false,\n        \"url\": null,\n        \"online_resources\": []\n      },\n      \"structured_license\": {\n        \"type\": \"custom\",\n        \"text\": \"This work is licensed under the Esri Master License Agreement.<a href=\\\"http://links.esri.com/tou_summary\\\" target=\\\"_blank\\\">View Summary</a>|<a href=\\\"http://links.esri.com/agol_tou\\\" target=\\\"_blank\\\">View Terms of Use</a>\"\n      },\n      \"use_standardized_queries\": true,\n      \"sites\": [\n        {\n          \"title\": \"PACI\",\n          \"url\": \"http://paci-esridubaioffice.opendata.arcgis.com\",\n          \"logo\": null\n        }\n      ],\n      \"main_group_title\": \"Open Data - Derived US Independent Establishments and Gov't Corps\",\n      \"main_group_description\": \"<span style='line-height: 24px; background-color: rgb(255, 255, 255);'><font face='Verdana' size='3'>The group contains a set of map services, web maps and map packages that can be used in a web browser or downloaded to your ArcGIS Desktop application. The maps may be used asbase mapsand operational layers to support a variety of applications.</font></span>\",\n      \"main_group_thumbnail_url\": null\n    }\n  ],\n  \"metadata\": {\n    \"query_parameters\": {\n      \"bbox\": null,\n      \"page\": 1,\n      \"per_page\": 1,\n      \"q\": \"*\",\n      \"required_keywords\": [],\n      \"sort_by\": \"updated_at\",\n      \"sort_order\": \"desc\"\n    },\n    \"stats\": {\n      \"count\": 1,\n      \"total_count\": 192,\n      \"top_tags\": [\n        { \"name\": \"ocean\", \"count\": 62 }\n      ]\n    }\n  }\n}\n```\n","slug":"The-unofficial-documentation-for-ArcGIS-Open-Data-dataset-search-API","published":1,"updated":"2020-08-08T11:06:20.643Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfho001500557ptqz1qj","content":"<p><a href=\"http://opendata.arcgis.com\" target=\"_blank\" rel=\"noopener\">ArcGIS Open Data</a> is a great network of governmental and institutional open data. While the data portal service runs on APIs, there is no official documentation of public APIs for ArcGIS Open Data. So this post is to provide the unofficial documentation of ArcGIS Open Data APIs, which are discovered in my work (mostly by accident).</p><a id=\"more\"></a><p>This documentation is also published at <a href=\"https://gist.github.com/haoliangyu/0d0abcccfd3b25beb8b7597b4b2fc497\" target=\"_blank\" rel=\"noopener\">GitHub Gist</a>;</p><h2 id=\"Dataset-Search-API\"><a href=\"#Dataset-Search-API\" class=\"headerlink\" title=\"Dataset Search API\"></a>Dataset Search API</h2><h3 id=\"Example\"><a href=\"#Example\" class=\"headerlink\" title=\"Example\"></a>Example</h3><figure class=\"highlight plain\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://data.portal.com/datasets?q=test</span><br></pre></td></tr></tbody></table></figure><h3 id=\"Parameters\"><a href=\"#Parameters\" class=\"headerlink\" title=\"Parameters\"></a>Parameters</h3><ul><li><p><strong>q</strong> (string)</p><p>query string for full text search</p></li><li><p><strong>bbox</strong> (unknown)</p><p>boundary box for geographic search</p></li><li><p><strong>required_keywords</strong> (unknown)</p><p>dataset keywords (tags) for search</p></li><li><p><strong>page</strong> (integer)</p><p>current page of results</p></li><li><p><strong>per_page</strong> (integer)</p><p>number of results per page (default: 10)</p></li><li><p><strong>sort_by</strong> (string)</p><p>returned results sorting method:</p><ul><li><code>updated_at</code> (default)</li><li><code>relevance</code></li></ul></li><li><p><strong>sort_order</strong> (string)</p><p>returned results order:</p><ul><li><code>desc</code> (default)</li><li><code>asc</code></li></ul></li></ul><h3 id=\"Response-Example\"><a href=\"#Response-Example\" class=\"headerlink\" title=\"Response Example\"></a>Response Example</h3><figure class=\"highlight json\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">{</span><br><span class=\"line\">  <span class=\"attr\">\"data\"</span>: [</span><br><span class=\"line\">    {</span><br><span class=\"line\">      <span class=\"attr\">\"display_field\"</span>: <span class=\"string\">\"FAC_CAT\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"max_record_count\"</span>: <span class=\"number\">2000</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"record_count\"</span>: <span class=\"number\">11</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"geometry_type\"</span>: <span class=\"string\">\"esriGeometryPoint\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"object_id_field\"</span>: <span class=\"string\">\"FID\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"supported_extensions\"</span>: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"advanced_query_capabilities\"</span>: {</span><br><span class=\"line\">        <span class=\"attr\">\"supports_pagination\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_query_related_pagination\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_query_with_distance\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_returning_query_extent\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_statistics\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_order_by\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_distinct\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_query_with_result_type\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_sql_expression\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_advanced_query_related\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_returning_geometry_centroid\"</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      },</span><br><span class=\"line\">      <span class=\"attr\">\"supports_advanced_queries\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"id\"</span>: <span class=\"string\">\"dd62922ee5c14d11a187aaf30052404f_0\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"landing_page\"</span>: <span class=\"string\">\"https://www.arcgis.com/home/item.html?id=dd62922ee5c14d11a187aaf30052404f\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"This feature layer, utilizing data from the U.S. Environmental Protection Agency (EPA), displays regional offices. The EPA began operation on December 2, 1970 and it inherited two regional systems from predecessor agencies. The Federal Water Quality Administration which used a nine region system and the Environmental Health Service which had adopted the ten Standard Federal Regions suggested by the Office of Management and Budget (OMB). In order to facilitate easier operations with local and state governments as well as other federal agencies the EPA chose to adopt the OMB Standard Federal Regions which still exist today.&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/26b532f4bfb14e0eb517c644dcda73c1/data\\\" /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Regional Office locations&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;For more information:&nbsp;&lt;a href=\\\"https://www.epa.gov/aboutepa\\\" target=\\\"_blank\\\"&gt;About EPA&lt;/a&gt;&lt;/div&gt;&lt;div&gt;For feedback, please contact:&nbsp;&lt;a href=\\\"mailto:ArcGIScomNationalMaps@esri.com\\\" target=\\\"_blank\\\"&gt;ArcGIScomNationalMaps@esri.com&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;EPA sites of interest&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/d543cdf1e9694f5f985eae5b2dcd36f8/data\\\" /&gt;&nbsp;&lt;a href=\\\"https://epa.maps.arcgis.com/home/index.html\\\" target=\\\"_blank\\\"&gt;ArcGIS Online Organizational Homepage&lt;/a&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Other Federal User Community federally focused content that may interest you&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/f83c3452ec074ee08c7f04975578c212/data\\\" /&gt;&nbsp;&lt;a href=\\\"http://fedmaps.maps.arcgis.com/home/search.html?q=owner%3AFederal_User_Community%20AND%20tags%3AUS%20EPA&amp;amp;t=content&amp;amp;restrict=false\\\" target=\\\"_blank\\\"&gt;U.S. Environmental Protection Agency&lt;/a&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/46785cfb399344a6af50d4514d6ef0f9/data\\\" /&gt;&nbsp;&lt;a href=\\\"http://open.fedmaps.opendata.arcgis.com/datasets?q=US+EPA&amp;amp;sort_by=relevance\\\" target=\\\"_blank\\\"&gt;Open Data:&nbsp;U.S. EPA&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"extent\"</span>: {</span><br><span class=\"line\">        <span class=\"attr\">\"coordinates\"</span>: [</span><br><span class=\"line\">          [</span><br><span class=\"line\">            <span class=\"number\">-125.676</span>,</span><br><span class=\"line\">            <span class=\"number\">24.242</span></span><br><span class=\"line\">          ],</span><br><span class=\"line\">          [</span><br><span class=\"line\">            <span class=\"number\">-65.559</span>,</span><br><span class=\"line\">            <span class=\"number\">50.089</span></span><br><span class=\"line\">          ]</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      },</span><br><span class=\"line\">      <span class=\"attr\">\"fields\"</span>: [</span><br><span class=\"line\">        {</span><br><span class=\"line\">          <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"FID\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"esriFieldTypeInteger\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"alias\"</span>: <span class=\"string\">\"FID\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"domain\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"statistics\"</span>: {</span><br><span class=\"line\">            <span class=\"attr\">\"duration\"</span>: <span class=\"number\">0</span></span><br><span class=\"line\">          },</span><br><span class=\"line\">          <span class=\"attr\">\"updated_at\"</span>: <span class=\"string\">\"2017-02-06T21:06:49.399Z\"</span></span><br><span class=\"line\">        }</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      <span class=\"attr\">\"item_name\"</span>: <span class=\"string\">\"EPA Regional Offices\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"ItemLayer\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"item_type\"</span>: <span class=\"string\">\"Feature Layer\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"license\"</span>: <span class=\"string\">\"&lt;p&gt;&lt;img src=\\\"http://downloads.esri.com/blogs/arcgisonline/esrilogo_new.png\\\" /&gt;This work is licensed under the Esri Master License Agreement.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=\\\"http://links.esri.com/tou_summary\\\" target=\\\"_blank\\\"&gt;View Summary&lt;/a&gt;&nbsp;|&nbsp;&lt;a href=\\\"http://links.esri.com/agol_tou\\\" target=\\\"_blank\\\"&gt;View Terms of Use&lt;/a&gt;&lt;/p&gt;\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"EPA Regional Offices\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"owner\"</span>: <span class=\"string\">\"Federal_User_Community\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"tags\"</span>: [</span><br><span class=\"line\">        <span class=\"string\">\"A-16\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"A16\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"U.S. Environmental Protection Agency\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"U.S. EPA\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"EPA\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"regional offices\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"regions\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"Environmental Protection Agency\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"places\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"boundaries\"</span></span><br><span class=\"line\">      ],</span><br><span class=\"line\">      <span class=\"attr\">\"thumbnail_url\"</span>: <span class=\"string\">\"https://www.arcgis.com/sharing/rest/content/items/dd62922ee5c14d11a187aaf30052404f/info/thumbnail/EPA_-_Regional_Offices_-_screen_capture.png\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"public\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"created_at\"</span>: <span class=\"string\">\"2016-09-02T11:50:55.000Z\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"updated_at\"</span>: <span class=\"string\">\"2017-02-06T21:06:50.911Z\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"url\"</span>: <span class=\"string\">\"https://services2.arcgis.com/FiaPA4ga0iQKduv3/arcgis/rest/services/EPA_RegionalOffices/FeatureServer/0\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"views\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"quality\"</span>: <span class=\"number\">86</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"coverage\"</span>: <span class=\"string\">\"global\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"current_version\"</span>: <span class=\"number\">10.41</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"comments_enabled\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"service_spatial_reference\"</span>: {</span><br><span class=\"line\">        <span class=\"attr\">\"wkid\"</span>: <span class=\"number\">102100</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"latestWkid\"</span>: <span class=\"number\">3857</span></span><br><span class=\"line\">      },</span><br><span class=\"line\">      <span class=\"attr\">\"metadata_url\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"org_id\"</span>: <span class=\"string\">\"FiaPA4ga0iQKduv3\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"metadata\"</span>: {</span><br><span class=\"line\">        <span class=\"attr\">\"published\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"present\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"url\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"online_resources\"</span>: []</span><br><span class=\"line\">      },</span><br><span class=\"line\">      <span class=\"attr\">\"structured_license\"</span>: {</span><br><span class=\"line\">        <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"custom\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"text\"</span>: <span class=\"string\">\"This work is licensed under the Esri Master License Agreement.&lt;a href=\\\"http://links.esri.com/tou_summary\\\" target=\\\"_blank\\\"&gt;View Summary&lt;/a&gt;&nbsp;|&nbsp;&lt;a href=\\\"http://links.esri.com/agol_tou\\\" target=\\\"_blank\\\"&gt;View Terms of Use&lt;/a&gt;\"</span></span><br><span class=\"line\">      },</span><br><span class=\"line\">      <span class=\"attr\">\"use_standardized_queries\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"sites\"</span>: [</span><br><span class=\"line\">        {</span><br><span class=\"line\">          <span class=\"attr\">\"title\"</span>: <span class=\"string\">\"PACI\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"url\"</span>: <span class=\"string\">\"http://paci-esridubaioffice.opendata.arcgis.com\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"logo\"</span>: <span class=\"literal\">null</span></span><br><span class=\"line\">        }</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      <span class=\"attr\">\"main_group_title\"</span>: <span class=\"string\">\"Open Data - Derived US Independent Establishments and Gov't Corps\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"main_group_description\"</span>: <span class=\"string\">\"&lt;span style='line-height: 24px; background-color: rgb(255, 255, 255);'&gt;&lt;font face='Verdana' size='3'&gt;The group contains a set of map services, web maps and map packages that can be used in a web browser or downloaded to your ArcGIS Desktop application.&nbsp; The maps may be used as&nbsp;base maps&nbsp;and operational layers to support a variety of applications.&lt;/font&gt;&lt;/span&gt;\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"main_group_thumbnail_url\"</span>: <span class=\"literal\">null</span></span><br><span class=\"line\">    }</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">\"metadata\"</span>: {</span><br><span class=\"line\">    <span class=\"attr\">\"query_parameters\"</span>: {</span><br><span class=\"line\">      <span class=\"attr\">\"bbox\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"page\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"per_page\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"q\"</span>: <span class=\"string\">\"*\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"required_keywords\"</span>: [],</span><br><span class=\"line\">      <span class=\"attr\">\"sort_by\"</span>: <span class=\"string\">\"updated_at\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"sort_order\"</span>: <span class=\"string\">\"desc\"</span></span><br><span class=\"line\">    },</span><br><span class=\"line\">    <span class=\"attr\">\"stats\"</span>: {</span><br><span class=\"line\">      <span class=\"attr\">\"count\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"total_count\"</span>: <span class=\"number\">192</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"top_tags\"</span>: [</span><br><span class=\"line\">        { <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"ocean\"</span>, <span class=\"attr\">\"count\"</span>: <span class=\"number\">62</span> }</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    }</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p><a href=\"http://opendata.arcgis.com\" target=\"_blank\" rel=\"noopener\">ArcGIS Open Data</a> is a great network of governmental and institutional open data. While the data portal service runs on APIs, there is no official documentation of public APIs for ArcGIS Open Data. So this post is to provide the unofficial documentation of ArcGIS Open Data APIs, which are discovered in my work (mostly by accident).</p>","more":"<p>This documentation is also published at <a href=\"https://gist.github.com/haoliangyu/0d0abcccfd3b25beb8b7597b4b2fc497\" target=\"_blank\" rel=\"noopener\">GitHub Gist</a>;</p><h2 id=\"Dataset-Search-API\"><a href=\"#Dataset-Search-API\" class=\"headerlink\" title=\"Dataset Search API\"></a>Dataset Search API</h2><h3 id=\"Example\"><a href=\"#Example\" class=\"headerlink\" title=\"Example\"></a>Example</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://data.portal.com/datasets?q=test</span><br></pre></td></tr></table></figure><h3 id=\"Parameters\"><a href=\"#Parameters\" class=\"headerlink\" title=\"Parameters\"></a>Parameters</h3><ul><li><p><strong>q</strong> (string)</p><p>query string for full text search</p></li><li><p><strong>bbox</strong> (unknown)</p><p>boundary box for geographic search</p></li><li><p><strong>required_keywords</strong> (unknown)</p><p>dataset keywords (tags) for search</p></li><li><p><strong>page</strong> (integer)</p><p>current page of results</p></li><li><p><strong>per_page</strong> (integer)</p><p>number of results per page (default: 10)</p></li><li><p><strong>sort_by</strong> (string)</p><p>returned results sorting method:</p><ul><li><code>updated_at</code> (default)</li><li><code>relevance</code></li></ul></li><li><p><strong>sort_order</strong> (string)</p><p>returned results order:</p><ul><li><code>desc</code> (default)</li><li><code>asc</code></li></ul></li></ul><h3 id=\"Response-Example\"><a href=\"#Response-Example\" class=\"headerlink\" title=\"Response Example\"></a>Response Example</h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"data\"</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"display_field\"</span>: <span class=\"string\">\"FAC_CAT\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"max_record_count\"</span>: <span class=\"number\">2000</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"record_count\"</span>: <span class=\"number\">11</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"geometry_type\"</span>: <span class=\"string\">\"esriGeometryPoint\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"object_id_field\"</span>: <span class=\"string\">\"FID\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"supported_extensions\"</span>: <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"advanced_query_capabilities\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"supports_pagination\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_query_related_pagination\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_query_with_distance\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_returning_query_extent\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_statistics\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_order_by\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_distinct\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_query_with_result_type\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_sql_expression\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_advanced_query_related\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"supports_returning_geometry_centroid\"</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"supports_advanced_queries\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"id\"</span>: <span class=\"string\">\"dd62922ee5c14d11a187aaf30052404f_0\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"landing_page\"</span>: <span class=\"string\">\"https://www.arcgis.com/home/item.html?id=dd62922ee5c14d11a187aaf30052404f\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"This feature layer, utilizing data from the U.S. Environmental Protection Agency (EPA), displays regional offices. The EPA began operation on December 2, 1970 and it inherited two regional systems from predecessor agencies. The Federal Water Quality Administration which used a nine region system and the Environmental Health Service which had adopted the ten Standard Federal Regions suggested by the Office of Management and Budget (OMB). In order to facilitate easier operations with local and state governments as well as other federal agencies the EPA chose to adopt the OMB Standard Federal Regions which still exist today.&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/26b532f4bfb14e0eb517c644dcda73c1/data\\\" /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;Regional Office locations&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;For more information:&lt;a href=\\\"https://www.epa.gov/aboutepa\\\" target=\\\"_blank\\\"&gt;About EPA&lt;/a&gt;&lt;/div&gt;&lt;div&gt;For feedback, please contact:&lt;a href=\\\"mailto:ArcGIScomNationalMaps@esri.com\\\" target=\\\"_blank\\\"&gt;ArcGIScomNationalMaps@esri.com&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;EPA sites of interest&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/d543cdf1e9694f5f985eae5b2dcd36f8/data\\\" /&gt;&lt;a href=\\\"https://epa.maps.arcgis.com/home/index.html\\\" target=\\\"_blank\\\"&gt;ArcGIS Online Organizational Homepage&lt;/a&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Other Federal User Community federally focused content that may interest you&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/f83c3452ec074ee08c7f04975578c212/data\\\" /&gt;&lt;a href=\\\"http://fedmaps.maps.arcgis.com/home/search.html?q=owner%3AFederal_User_Community%20AND%20tags%3AUS%20EPA&amp;amp;t=content&amp;amp;restrict=false\\\" target=\\\"_blank\\\"&gt;U.S. Environmental Protection Agency&lt;/a&gt;     &lt;img src=\\\"http://fedmaps.maps.arcgis.com/sharing/rest/content/items/46785cfb399344a6af50d4514d6ef0f9/data\\\" /&gt;&lt;a href=\\\"http://open.fedmaps.opendata.arcgis.com/datasets?q=US+EPA&amp;amp;sort_by=relevance\\\" target=\\\"_blank\\\"&gt;Open Data:U.S. EPA&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"extent\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"coordinates\"</span>: [</span><br><span class=\"line\">          [</span><br><span class=\"line\">            <span class=\"number\">-125.676</span>,</span><br><span class=\"line\">            <span class=\"number\">24.242</span></span><br><span class=\"line\">          ],</span><br><span class=\"line\">          [</span><br><span class=\"line\">            <span class=\"number\">-65.559</span>,</span><br><span class=\"line\">            <span class=\"number\">50.089</span></span><br><span class=\"line\">          ]</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"fields\"</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"FID\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"esriFieldTypeInteger\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"alias\"</span>: <span class=\"string\">\"FID\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"domain\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"statistics\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"duration\"</span>: <span class=\"number\">0</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"attr\">\"updated_at\"</span>: <span class=\"string\">\"2017-02-06T21:06:49.399Z\"</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      <span class=\"attr\">\"item_name\"</span>: <span class=\"string\">\"EPA Regional Offices\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"ItemLayer\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"item_type\"</span>: <span class=\"string\">\"Feature Layer\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"license\"</span>: <span class=\"string\">\"&lt;p&gt;&lt;img src=\\\"http://downloads.esri.com/blogs/arcgisonline/esrilogo_new.png\\\" /&gt;This work is licensed under the Esri Master License Agreement.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=\\\"http://links.esri.com/tou_summary\\\" target=\\\"_blank\\\"&gt;View Summary&lt;/a&gt;|&lt;a href=\\\"http://links.esri.com/agol_tou\\\" target=\\\"_blank\\\"&gt;View Terms of Use&lt;/a&gt;&lt;/p&gt;\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"EPA Regional Offices\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"owner\"</span>: <span class=\"string\">\"Federal_User_Community\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"tags\"</span>: [</span><br><span class=\"line\">        <span class=\"string\">\"A-16\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"A16\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"U.S. Environmental Protection Agency\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"U.S. EPA\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"EPA\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"regional offices\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"regions\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"Environmental Protection Agency\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"places\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"boundaries\"</span></span><br><span class=\"line\">      ],</span><br><span class=\"line\">      <span class=\"attr\">\"thumbnail_url\"</span>: <span class=\"string\">\"https://www.arcgis.com/sharing/rest/content/items/dd62922ee5c14d11a187aaf30052404f/info/thumbnail/EPA_-_Regional_Offices_-_screen_capture.png\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"public\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"created_at\"</span>: <span class=\"string\">\"2016-09-02T11:50:55.000Z\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"updated_at\"</span>: <span class=\"string\">\"2017-02-06T21:06:50.911Z\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"url\"</span>: <span class=\"string\">\"https://services2.arcgis.com/FiaPA4ga0iQKduv3/arcgis/rest/services/EPA_RegionalOffices/FeatureServer/0\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"views\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"quality\"</span>: <span class=\"number\">86</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"coverage\"</span>: <span class=\"string\">\"global\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"current_version\"</span>: <span class=\"number\">10.41</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"comments_enabled\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"service_spatial_reference\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"wkid\"</span>: <span class=\"number\">102100</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"latestWkid\"</span>: <span class=\"number\">3857</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"metadata_url\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"org_id\"</span>: <span class=\"string\">\"FiaPA4ga0iQKduv3\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"metadata\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"published\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"present\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"url\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"online_resources\"</span>: []</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"structured_license\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"custom\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"text\"</span>: <span class=\"string\">\"This work is licensed under the Esri Master License Agreement.&lt;a href=\\\"http://links.esri.com/tou_summary\\\" target=\\\"_blank\\\"&gt;View Summary&lt;/a&gt;|&lt;a href=\\\"http://links.esri.com/agol_tou\\\" target=\\\"_blank\\\"&gt;View Terms of Use&lt;/a&gt;\"</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"use_standardized_queries\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"sites\"</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"title\"</span>: <span class=\"string\">\"PACI\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"url\"</span>: <span class=\"string\">\"http://paci-esridubaioffice.opendata.arcgis.com\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"logo\"</span>: <span class=\"literal\">null</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ],</span><br><span class=\"line\">      <span class=\"attr\">\"main_group_title\"</span>: <span class=\"string\">\"Open Data - Derived US Independent Establishments and Gov't Corps\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"main_group_description\"</span>: <span class=\"string\">\"&lt;span style='line-height: 24px; background-color: rgb(255, 255, 255);'&gt;&lt;font face='Verdana' size='3'&gt;The group contains a set of map services, web maps and map packages that can be used in a web browser or downloaded to your ArcGIS Desktop application. The maps may be used asbase mapsand operational layers to support a variety of applications.&lt;/font&gt;&lt;/span&gt;\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"main_group_thumbnail_url\"</span>: <span class=\"literal\">null</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">\"metadata\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"query_parameters\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"bbox\"</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"page\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"per_page\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"q\"</span>: <span class=\"string\">\"*\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"required_keywords\"</span>: [],</span><br><span class=\"line\">      <span class=\"attr\">\"sort_by\"</span>: <span class=\"string\">\"updated_at\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"sort_order\"</span>: <span class=\"string\">\"desc\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"stats\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"count\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"total_count\"</span>: <span class=\"number\">192</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"top_tags\"</span>: [</span><br><span class=\"line\">        &#123; <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"ocean\"</span>, <span class=\"attr\">\"count\"</span>: <span class=\"number\">62</span> &#125;</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Tips on developing cross-platform Node.js CLI application","date":"2019-05-13T17:08:16.000Z","_content":"\nIn the past few weeks, I have been working on [Koop CLI](https://github.com/koopjs/koop-cli), a Node.js CLI application for developers to build [KoopJS](https://koopjs.github.io/) plugins. It has been a big lesson for me about how to create an app that works at different platforms/OSs. Here in this blog post I am going to share some tips.\n\n<!-- more -->\n\n## So why do I care about cross-platform?\n\n[KoopJS](https://koopjs.github.io/) is an open-source framework powered by community-developed plugins. Making the CLI application available to more and various developers is the key of growing the community.\n\n{% asset_img dev-survey.png This is an example image %}\n\nDevelopers are in favor of many different platforms, according to [StackOverflow](https://insights.stackoverflow.com/survey/2019#technology-_-platforms). Linux, Windows, and MacOS all have significant market share. If the CLI application is able to work on all these platforms, developers from anywhere will be able to try it, create a KoopJS plugin/applicatoin, and possible contribute it back to the community.\n\n## Developing cross-platform CLI application\n\nThough Node.js and many npm modules are cross-platform, it does not mean the application you develop is cross-platform. This is particuarly true when the application is processing the system info and user input.\n\n### Make use of [os](https://nodejs.org/api/os.html)\n\nThe Node.js [os](https://nodejs.org/api/os.html) module is the only way to access any platform-specific information, like the OS version, the system hardware information, the temp file folder, etc.\n\nDon't assume that you know about the user's machine and use `/tmp` in the code. It will blow up.\n\n### Be careful about file path\n\n[File path styles]((https://en.wikipedia.org/wiki/Path_(computing))) vary from one platform to another. Whenever possible, use the native [path](https://nodejs.org/api/path.html) module to handling file path processing. Don't the simple string handling (like `path.split('\\')`, `paths.join('\\')`, etc) or regular expression because there is always outlier and it will break.\n\n### Newline matters\n\nNewline is simple?\n\n{% asset_img newline.png This is an example image %}\n\nAlthough your application may not support so many platforms as listed, it is obvious that `\\n` (Linux and MacOS) and `\\r\\n` (Windows) should be at least supported at the same time. Do try [os.EOL](https://nodejs.org/api/os.html#os_os_eol) when processing user input text and generating output.\n\n## Testing on different platforms\n\nTesting the application at different platforms is a trivial task for human developers. Ideally, we should write tests for the application and run tests at multiple platforms by CI automatically. So write once and test many.\n\nMany CI/CD service providers support building and testing with different platforms. For example, we can add multiple OSs in the [Travis CI](https://travis-ci.org) configuration:\n\n``` yaml\nlanguage: node_js\nos:\n  - linux\n  - osx\n  - windows\nscript:\n  - npm test\n```\n\n## End\n\nThis blog post talks about a few tips from my personal experience on developing the Koop CLI project. For more details on developing cross-platform experience, do checkout the [cross-platform node guide](https://github.com/ehmicky/cross-platform-node-guide) repo. And happy coding.\n","source":"_posts/Tips-on-developing-cross-platform-Node-js-application.md","raw":"---\ntitle: Tips on developing cross-platform Node.js CLI application\ndate: 2019-05-13 20:08:16\ncategories:\n- Programming\ntags:\n- javascript\n- nodejs\n---\n\nIn the past few weeks, I have been working on [Koop CLI](https://github.com/koopjs/koop-cli), a Node.js CLI application for developers to build [KoopJS](https://koopjs.github.io/) plugins. It has been a big lesson for me about how to create an app that works at different platforms/OSs. Here in this blog post I am going to share some tips.\n\n<!-- more -->\n\n## So why do I care about cross-platform?\n\n[KoopJS](https://koopjs.github.io/) is an open-source framework powered by community-developed plugins. Making the CLI application available to more and various developers is the key of growing the community.\n\n{% asset_img dev-survey.png This is an example image %}\n\nDevelopers are in favor of many different platforms, according to [StackOverflow](https://insights.stackoverflow.com/survey/2019#technology-_-platforms). Linux, Windows, and MacOS all have significant market share. If the CLI application is able to work on all these platforms, developers from anywhere will be able to try it, create a KoopJS plugin/applicatoin, and possible contribute it back to the community.\n\n## Developing cross-platform CLI application\n\nThough Node.js and many npm modules are cross-platform, it does not mean the application you develop is cross-platform. This is particuarly true when the application is processing the system info and user input.\n\n### Make use of [os](https://nodejs.org/api/os.html)\n\nThe Node.js [os](https://nodejs.org/api/os.html) module is the only way to access any platform-specific information, like the OS version, the system hardware information, the temp file folder, etc.\n\nDon't assume that you know about the user's machine and use `/tmp` in the code. It will blow up.\n\n### Be careful about file path\n\n[File path styles]((https://en.wikipedia.org/wiki/Path_(computing))) vary from one platform to another. Whenever possible, use the native [path](https://nodejs.org/api/path.html) module to handling file path processing. Don't the simple string handling (like `path.split('\\')`, `paths.join('\\')`, etc) or regular expression because there is always outlier and it will break.\n\n### Newline matters\n\nNewline is simple?\n\n{% asset_img newline.png This is an example image %}\n\nAlthough your application may not support so many platforms as listed, it is obvious that `\\n` (Linux and MacOS) and `\\r\\n` (Windows) should be at least supported at the same time. Do try [os.EOL](https://nodejs.org/api/os.html#os_os_eol) when processing user input text and generating output.\n\n## Testing on different platforms\n\nTesting the application at different platforms is a trivial task for human developers. Ideally, we should write tests for the application and run tests at multiple platforms by CI automatically. So write once and test many.\n\nMany CI/CD service providers support building and testing with different platforms. For example, we can add multiple OSs in the [Travis CI](https://travis-ci.org) configuration:\n\n``` yaml\nlanguage: node_js\nos:\n  - linux\n  - osx\n  - windows\nscript:\n  - npm test\n```\n\n## End\n\nThis blog post talks about a few tips from my personal experience on developing the Koop CLI project. For more details on developing cross-platform experience, do checkout the [cross-platform node guide](https://github.com/ehmicky/cross-platform-node-guide) repo. And happy coding.\n","slug":"Tips-on-developing-cross-platform-Node-js-application","published":1,"updated":"2020-08-08T11:06:20.644Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfhs001800559kb1ob5b","content":"<p>In the past few weeks, I have been working on <a href=\"https://github.com/koopjs/koop-cli\" target=\"_blank\" rel=\"noopener\">Koop CLI</a>, a Node.js CLI application for developers to build <a href=\"https://koopjs.github.io/\" target=\"_blank\" rel=\"noopener\">KoopJS</a> plugins. It has been a big lesson for me about how to create an app that works at different platforms/OSs. Here in this blog post I am going to share some tips.</p><a id=\"more\"></a><h2 id=\"So-why-do-I-care-about-cross-platform\"><a href=\"#So-why-do-I-care-about-cross-platform\" class=\"headerlink\" title=\"So why do I care about cross-platform?\"></a>So why do I care about cross-platform?</h2><p><a href=\"https://koopjs.github.io/\" target=\"_blank\" rel=\"noopener\">KoopJS</a> is an open-source framework powered by community-developed plugins. Making the CLI application available to more and various developers is the key of growing the community.</p><img src=\"/blog/2019/05/13/Tips-on-developing-cross-platform-Node-js-application/dev-survey.png\" title=\"This is an example image\"><p>Developers are in favor of many different platforms, according to <a href=\"https://insights.stackoverflow.com/survey/2019#technology-_-platforms\" target=\"_blank\" rel=\"noopener\">StackOverflow</a>. Linux, Windows, and MacOS all have significant market share. If the CLI application is able to work on all these platforms, developers from anywhere will be able to try it, create a KoopJS plugin/applicatoin, and possible contribute it back to the community.</p><h2 id=\"Developing-cross-platform-CLI-application\"><a href=\"#Developing-cross-platform-CLI-application\" class=\"headerlink\" title=\"Developing cross-platform CLI application\"></a>Developing cross-platform CLI application</h2><p>Though Node.js and many npm modules are cross-platform, it does not mean the application you develop is cross-platform. This is particuarly true when the application is processing the system info and user input.</p><h3 id=\"Make-use-of-os\"><a href=\"#Make-use-of-os\" class=\"headerlink\" title=\"Make use of os\"></a>Make use of <a href=\"https://nodejs.org/api/os.html\" target=\"_blank\" rel=\"noopener\">os</a></h3><p>The Node.js <a href=\"https://nodejs.org/api/os.html\" target=\"_blank\" rel=\"noopener\">os</a> module is the only way to access any platform-specific information, like the OS version, the system hardware information, the temp file folder, etc.</p><p>Dont assume that you know about the users machine and use <code>/tmp</code> in the code. It will blow up.</p><h3 id=\"Be-careful-about-file-path\"><a href=\"#Be-careful-about-file-path\" class=\"headerlink\" title=\"Be careful about file path\"></a>Be careful about file path</h3><p><a href=\"(https://en.wikipedia.org/wiki/Path_(computing))\">File path styles</a> vary from one platform to another. Whenever possible, use the native <a href=\"https://nodejs.org/api/path.html\" target=\"_blank\" rel=\"noopener\">path</a> module to handling file path processing. Dont the simple string handling (like <code>path.split('\\')</code>, <code>paths.join('\\')</code>, etc) or regular expression because there is always outlier and it will break.</p><h3 id=\"Newline-matters\"><a href=\"#Newline-matters\" class=\"headerlink\" title=\"Newline matters\"></a>Newline matters</h3><p>Newline is simple?</p><img src=\"/blog/2019/05/13/Tips-on-developing-cross-platform-Node-js-application/newline.png\" title=\"This is an example image\"><p>Although your application may not support so many platforms as listed, it is obvious that <code>\\n</code> (Linux and MacOS) and <code>\\r\\n</code> (Windows) should be at least supported at the same time. Do try <a href=\"https://nodejs.org/api/os.html#os_os_eol\" target=\"_blank\" rel=\"noopener\">os.EOL</a> when processing user input text and generating output.</p><h2 id=\"Testing-on-different-platforms\"><a href=\"#Testing-on-different-platforms\" class=\"headerlink\" title=\"Testing on different platforms\"></a>Testing on different platforms</h2><p>Testing the application at different platforms is a trivial task for human developers. Ideally, we should write tests for the application and run tests at multiple platforms by CI automatically. So write once and test many.</p><p>Many CI/CD service providers support building and testing with different platforms. For example, we can add multiple OSs in the <a href=\"https://travis-ci.org\" target=\"_blank\" rel=\"noopener\">Travis CI</a> configuration:</p><figure class=\"highlight yaml\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">node_js</span></span><br><span class=\"line\"><span class=\"attr\">os:</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">linux</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">osx</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">windows</span></span><br><span class=\"line\"><span class=\"attr\">script:</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">npm</span> <span class=\"string\">test</span></span><br></pre></td></tr></tbody></table></figure><h2 id=\"End\"><a href=\"#End\" class=\"headerlink\" title=\"End\"></a>End</h2><p>This blog post talks about a few tips from my personal experience on developing the Koop CLI project. For more details on developing cross-platform experience, do checkout the <a href=\"https://github.com/ehmicky/cross-platform-node-guide\" target=\"_blank\" rel=\"noopener\">cross-platform node guide</a> repo. And happy coding.</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>In the past few weeks, I have been working on <a href=\"https://github.com/koopjs/koop-cli\" target=\"_blank\" rel=\"noopener\">Koop CLI</a>, a Node.js CLI application for developers to build <a href=\"https://koopjs.github.io/\" target=\"_blank\" rel=\"noopener\">KoopJS</a> plugins. It has been a big lesson for me about how to create an app that works at different platforms/OSs. Here in this blog post I am going to share some tips.</p>","more":"<h2 id=\"So-why-do-I-care-about-cross-platform\"><a href=\"#So-why-do-I-care-about-cross-platform\" class=\"headerlink\" title=\"So why do I care about cross-platform?\"></a>So why do I care about cross-platform?</h2><p><a href=\"https://koopjs.github.io/\" target=\"_blank\" rel=\"noopener\">KoopJS</a> is an open-source framework powered by community-developed plugins. Making the CLI application available to more and various developers is the key of growing the community.</p><img src=\"/blog/2019/05/13/Tips-on-developing-cross-platform-Node-js-application/dev-survey.png\" title=\"This is an example image\"><p>Developers are in favor of many different platforms, according to <a href=\"https://insights.stackoverflow.com/survey/2019#technology-_-platforms\" target=\"_blank\" rel=\"noopener\">StackOverflow</a>. Linux, Windows, and MacOS all have significant market share. If the CLI application is able to work on all these platforms, developers from anywhere will be able to try it, create a KoopJS plugin/applicatoin, and possible contribute it back to the community.</p><h2 id=\"Developing-cross-platform-CLI-application\"><a href=\"#Developing-cross-platform-CLI-application\" class=\"headerlink\" title=\"Developing cross-platform CLI application\"></a>Developing cross-platform CLI application</h2><p>Though Node.js and many npm modules are cross-platform, it does not mean the application you develop is cross-platform. This is particuarly true when the application is processing the system info and user input.</p><h3 id=\"Make-use-of-os\"><a href=\"#Make-use-of-os\" class=\"headerlink\" title=\"Make use of os\"></a>Make use of <a href=\"https://nodejs.org/api/os.html\" target=\"_blank\" rel=\"noopener\">os</a></h3><p>The Node.js <a href=\"https://nodejs.org/api/os.html\" target=\"_blank\" rel=\"noopener\">os</a> module is the only way to access any platform-specific information, like the OS version, the system hardware information, the temp file folder, etc.</p><p>Dont assume that you know about the users machine and use <code>/tmp</code> in the code. It will blow up.</p><h3 id=\"Be-careful-about-file-path\"><a href=\"#Be-careful-about-file-path\" class=\"headerlink\" title=\"Be careful about file path\"></a>Be careful about file path</h3><p><a href=\"(https://en.wikipedia.org/wiki/Path_(computing))\">File path styles</a> vary from one platform to another. Whenever possible, use the native <a href=\"https://nodejs.org/api/path.html\" target=\"_blank\" rel=\"noopener\">path</a> module to handling file path processing. Dont the simple string handling (like <code>path.split(&#39;\\&#39;)</code>, <code>paths.join(&#39;\\&#39;)</code>, etc) or regular expression because there is always outlier and it will break.</p><h3 id=\"Newline-matters\"><a href=\"#Newline-matters\" class=\"headerlink\" title=\"Newline matters\"></a>Newline matters</h3><p>Newline is simple?</p><img src=\"/blog/2019/05/13/Tips-on-developing-cross-platform-Node-js-application/newline.png\" title=\"This is an example image\"><p>Although your application may not support so many platforms as listed, it is obvious that <code>\\n</code> (Linux and MacOS) and <code>\\r\\n</code> (Windows) should be at least supported at the same time. Do try <a href=\"https://nodejs.org/api/os.html#os_os_eol\" target=\"_blank\" rel=\"noopener\">os.EOL</a> when processing user input text and generating output.</p><h2 id=\"Testing-on-different-platforms\"><a href=\"#Testing-on-different-platforms\" class=\"headerlink\" title=\"Testing on different platforms\"></a>Testing on different platforms</h2><p>Testing the application at different platforms is a trivial task for human developers. Ideally, we should write tests for the application and run tests at multiple platforms by CI automatically. So write once and test many.</p><p>Many CI/CD service providers support building and testing with different platforms. For example, we can add multiple OSs in the <a href=\"https://travis-ci.org\" target=\"_blank\" rel=\"noopener\">Travis CI</a> configuration:</p><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">node_js</span></span><br><span class=\"line\"><span class=\"attr\">os:</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">linux</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">osx</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">windows</span></span><br><span class=\"line\"><span class=\"attr\">script:</span></span><br><span class=\"line\"><span class=\"bullet\">  -</span> <span class=\"string\">npm</span> <span class=\"string\">test</span></span><br></pre></td></tr></table></figure><h2 id=\"End\"><a href=\"#End\" class=\"headerlink\" title=\"End\"></a>End</h2><p>This blog post talks about a few tips from my personal experience on developing the Koop CLI project. For more details on developing cross-platform experience, do checkout the <a href=\"https://github.com/ehmicky/cross-platform-node-guide\" target=\"_blank\" rel=\"noopener\">cross-platform node guide</a> repo. And happy coding.</p>"},{"title":"Using an untyped Leaflet plugin in your TypeScript project","date":"2017-01-24T21:00:00.000Z","_content":"\n[Leaflet](http://leafletjs.com/) has a prosperous ecosystem with [hundreds of plugins](http://leafletjs.com/plugins.html). Most of them are not typed for TypeScript, however, with a minimal setup, you are able to use these plugins in your TypeScript mapping project.\n\n<!-- more -->\n\nSince TypeScript is definitely typed, a simple workaround is to provide a minimal type declaration file that can expose the plugin functions in the `L` namespace.\n\nFor example, I would like to display a large GeoJSON file at the browser using the [vector tile](https://www.mapbox.com/vector-tiles/) technique. I can do it in JavaScript with the following code:\n\n``` javascript\n// Get the GeoJSON somewhere\nlet geojson = getGeoJSON();\n\n// Slice the GeoJSON into vector tiles on-the-fly with L.vectorGrid.slicer()\nlet layer = L.vectorGrid.slicer(geojson, {});\n\n// Add the tile layer on the map\nlayer.addTo(map);\n```\n\nThe vector tile plugin [Leaflet.VectorGrid](https://github.com/Leaflet/Leaflet.VectorGrid) isn't officially typed and you are not able to directly use this plugin because the compiler doesn't know its existence. So we just need to declare it with a `leaflet.vectorgrid.d.ts` file\n\n``` typescript\n// in the global namesapce \"L\"\ndeclare namespace L {\n\n  // there is a child namespace \"vectorGrid\"\n  namespace vectorGrid {\n\n    // which has a function call \"slicer\" that takes data and optional\n    // configurations. To make it simple, we don't specify the input\n    // and output types.\n    export function slicer(data: any, options?: any): any;\n  }\n}\n```\n\nThen we are able to use the function in TypeScript\n\n``` typescript\n/// <reference path=\"leaflet.vectorgrid.d.ts\"/>\n\nimport 'leaflet';\nimport 'leaflet.vectorgrid';\n\nlet geojson = getGeoJSON();\nlet layer = L.vectorGrid.slicer(geojson)\n\nlayer.addTo(map);\n```\n\nHere we go!\n\nIf we want to use more, we could continue to populate the type declaration file and maybe contribute it to the community when it becomes more complete.\n\nFor a fully functional exampe, see [angular2-leaflet-starter](https://github.com/haoliangyu/angular2-leaflet-starter).\n","source":"_posts/Using-an-untyped-Leaflet-plugin-in-your-TypeSccript-project.md","raw":"title: Using an untyped Leaflet plugin in your TypeScript project\ndate: 2017-01-25\ncategories:\n- GIS\ntags:\n- leaflet\n-\ttypescript\n---\n\n[Leaflet](http://leafletjs.com/) has a prosperous ecosystem with [hundreds of plugins](http://leafletjs.com/plugins.html). Most of them are not typed for TypeScript, however, with a minimal setup, you are able to use these plugins in your TypeScript mapping project.\n\n<!-- more -->\n\nSince TypeScript is definitely typed, a simple workaround is to provide a minimal type declaration file that can expose the plugin functions in the `L` namespace.\n\nFor example, I would like to display a large GeoJSON file at the browser using the [vector tile](https://www.mapbox.com/vector-tiles/) technique. I can do it in JavaScript with the following code:\n\n``` javascript\n// Get the GeoJSON somewhere\nlet geojson = getGeoJSON();\n\n// Slice the GeoJSON into vector tiles on-the-fly with L.vectorGrid.slicer()\nlet layer = L.vectorGrid.slicer(geojson, {});\n\n// Add the tile layer on the map\nlayer.addTo(map);\n```\n\nThe vector tile plugin [Leaflet.VectorGrid](https://github.com/Leaflet/Leaflet.VectorGrid) isn't officially typed and you are not able to directly use this plugin because the compiler doesn't know its existence. So we just need to declare it with a `leaflet.vectorgrid.d.ts` file\n\n``` typescript\n// in the global namesapce \"L\"\ndeclare namespace L {\n\n  // there is a child namespace \"vectorGrid\"\n  namespace vectorGrid {\n\n    // which has a function call \"slicer\" that takes data and optional\n    // configurations. To make it simple, we don't specify the input\n    // and output types.\n    export function slicer(data: any, options?: any): any;\n  }\n}\n```\n\nThen we are able to use the function in TypeScript\n\n``` typescript\n/// <reference path=\"leaflet.vectorgrid.d.ts\"/>\n\nimport 'leaflet';\nimport 'leaflet.vectorgrid';\n\nlet geojson = getGeoJSON();\nlet layer = L.vectorGrid.slicer(geojson)\n\nlayer.addTo(map);\n```\n\nHere we go!\n\nIf we want to use more, we could continue to populate the type declaration file and maybe contribute it to the community when it becomes more complete.\n\nFor a fully functional exampe, see [angular2-leaflet-starter](https://github.com/haoliangyu/angular2-leaflet-starter).\n","slug":"Using-an-untyped-Leaflet-plugin-in-your-TypeSccript-project","published":1,"updated":"2020-08-08T11:06:20.648Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfhv001c0055zo3x57ml","content":"<p><a href=\"http://leafletjs.com/\" target=\"_blank\" rel=\"noopener\">Leaflet</a> has a prosperous ecosystem with <a href=\"http://leafletjs.com/plugins.html\" target=\"_blank\" rel=\"noopener\">hundreds of plugins</a>. Most of them are not typed for TypeScript, however, with a minimal setup, you are able to use these plugins in your TypeScript mapping project.</p><a id=\"more\"></a><p>Since TypeScript is definitely typed, a simple workaround is to provide a minimal type declaration file that can expose the plugin functions in the <code>L</code> namespace.</p><p>For example, I would like to display a large GeoJSON file at the browser using the <a href=\"https://www.mapbox.com/vector-tiles/\" target=\"_blank\" rel=\"noopener\">vector tile</a> technique. I can do it in JavaScript with the following code:</p><figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Get the GeoJSON somewhere</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> geojson = getGeoJSON();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Slice the GeoJSON into vector tiles on-the-fly with L.vectorGrid.slicer()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> layer = L.vectorGrid.slicer(geojson, {});</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Add the tile layer on the map</span></span><br><span class=\"line\">layer.addTo(map);</span><br></pre></td></tr></tbody></table></figure><p>The vector tile plugin <a href=\"https://github.com/Leaflet/Leaflet.VectorGrid\" target=\"_blank\" rel=\"noopener\">Leaflet.VectorGrid</a> isnt officially typed and you are not able to directly use this plugin because the compiler doesnt know its existence. So we just need to declare it with a <code>leaflet.vectorgrid.d.ts</code> file</p><figure class=\"highlight typescript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// in the global namesapce \"L\"</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"keyword\">namespace</span> L {</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// there is a child namespace \"vectorGrid\"</span></span><br><span class=\"line\">  <span class=\"keyword\">namespace</span> vectorGrid {</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// which has a function call \"slicer\" that takes data and optional</span></span><br><span class=\"line\">    <span class=\"comment\">// configurations. To make it simple, we don't specify the input</span></span><br><span class=\"line\">    <span class=\"comment\">// and output types.</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">slicer</span>(<span class=\"params\">data: <span class=\"built_in\">any</span>, options?: <span class=\"built_in\">any</span></span>): <span class=\"title\">any</span></span>;</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure><p>Then we are able to use the function in TypeScript</p><figure class=\"highlight typescript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/// &lt;reference path=\"leaflet.vectorgrid.d.ts\"/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'leaflet'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'leaflet.vectorgrid'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> geojson = getGeoJSON();</span><br><span class=\"line\"><span class=\"keyword\">let</span> layer = L.vectorGrid.slicer(geojson)</span><br><span class=\"line\"></span><br><span class=\"line\">layer.addTo(map);</span><br></pre></td></tr></tbody></table></figure><p>Here we go!</p><p>If we want to use more, we could continue to populate the type declaration file and maybe contribute it to the community when it becomes more complete.</p><p>For a fully functional exampe, see <a href=\"https://github.com/haoliangyu/angular2-leaflet-starter\" target=\"_blank\" rel=\"noopener\">angular2-leaflet-starter</a>.</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p><a href=\"http://leafletjs.com/\" target=\"_blank\" rel=\"noopener\">Leaflet</a> has a prosperous ecosystem with <a href=\"http://leafletjs.com/plugins.html\" target=\"_blank\" rel=\"noopener\">hundreds of plugins</a>. Most of them are not typed for TypeScript, however, with a minimal setup, you are able to use these plugins in your TypeScript mapping project.</p>","more":"<p>Since TypeScript is definitely typed, a simple workaround is to provide a minimal type declaration file that can expose the plugin functions in the <code>L</code> namespace.</p><p>For example, I would like to display a large GeoJSON file at the browser using the <a href=\"https://www.mapbox.com/vector-tiles/\" target=\"_blank\" rel=\"noopener\">vector tile</a> technique. I can do it in JavaScript with the following code:</p><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Get the GeoJSON somewhere</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> geojson = getGeoJSON();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Slice the GeoJSON into vector tiles on-the-fly with L.vectorGrid.slicer()</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> layer = L.vectorGrid.slicer(geojson, &#123;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Add the tile layer on the map</span></span><br><span class=\"line\">layer.addTo(map);</span><br></pre></td></tr></table></figure><p>The vector tile plugin <a href=\"https://github.com/Leaflet/Leaflet.VectorGrid\" target=\"_blank\" rel=\"noopener\">Leaflet.VectorGrid</a> isnt officially typed and you are not able to directly use this plugin because the compiler doesnt know its existence. So we just need to declare it with a <code>leaflet.vectorgrid.d.ts</code> file</p><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// in the global namesapce \"L\"</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"keyword\">namespace</span> L &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// there is a child namespace \"vectorGrid\"</span></span><br><span class=\"line\">  <span class=\"keyword\">namespace</span> vectorGrid &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// which has a function call \"slicer\" that takes data and optional</span></span><br><span class=\"line\">    <span class=\"comment\">// configurations. To make it simple, we don't specify the input</span></span><br><span class=\"line\">    <span class=\"comment\">// and output types.</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">slicer</span>(<span class=\"params\">data: <span class=\"built_in\">any</span>, options?: <span class=\"built_in\">any</span></span>): <span class=\"title\">any</span></span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>Then we are able to use the function in TypeScript</p><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/// &lt;reference path=\"leaflet.vectorgrid.d.ts\"/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'leaflet'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'leaflet.vectorgrid'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> geojson = getGeoJSON();</span><br><span class=\"line\"><span class=\"keyword\">let</span> layer = L.vectorGrid.slicer(geojson)</span><br><span class=\"line\"></span><br><span class=\"line\">layer.addTo(map);</span><br></pre></td></tr></table></figure><p>Here we go!</p><p>If we want to use more, we could continue to populate the type declaration file and maybe contribute it to the community when it becomes more complete.</p><p>For a fully functional exampe, see <a href=\"https://github.com/haoliangyu/angular2-leaflet-starter\" target=\"_blank\" rel=\"noopener\">angular2-leaflet-starter</a>.</p>"},{"title":"Work, Life, 2016","date":"2016-12-30T21:00:00.000Z","_content":"\n2016 is a big year for me.\n\n<!-- more -->\n\nThis is the first year after my graduation. I moved away from the university and settled down at downtown to start my new life. Being a web developer in a small startup is very different from being a student in school. In school there are always paths to follow: the spring and fall curriculum, the study plan of the course, the mentorship of the professor. In a startup, things are less organized and more dynamic. I make my work plan, develop at both ends of our application, help GIS Analysts in the company to automate data pipeline, discuss new features with clients, lead internal code safari, and experiment new technologies for our platform. Every day is a new and challenging day. That's very exciting.\n\nOf course challenges mean a lot of work and the trial to keep up with this fast-peace industry means even more. I become a full-time developer. I mean full-time as day and night.\n\n {% asset_img github-commits.png GitHub Commits %}\n\nMy colleague said I was having two jobs: one at the daytime working in the office, and another at the nighttime working at home. That's true, though the nighttime job is not billable and sometimes more challenging than the daytime one.\n\nOne cruel fact of this industry is that the concepts, trends, and technologies can be changed in just 2 or 3 years. It's harder when you are not in a CS major (yeah I am the old-class geographer!). At 2016 I took numerous hours to stay with the leading wave of techs:\n\n  * Learn how to write in[JavaScript ES6](https://github.com/lukehoban/es6features#readme)\n  * Learn how to develop application with [Angular 2](https://angular.io/) and [TypeScript](https://www.typescriptlang.org/)\n  * Play with [Bootstrap](http://getbootstrap.com/) and [Material Design](https://material.angularjs.org/latest/)\n  * Understand [vector tile](https://en.wikipedia.org/wiki/Vector_tiles) and figure out the way to generate it and use it with [Leaflet](http://leafletjs.com/) / [Mapbox GL](https://github.com/mapbox/mapbox-gl-js)\n  * Get deeper with DevOps tools like [Vagrant](https://www.vagrantup.com/), [Docker](https://www.docker.com/),and [NGNIX](https://www.nginx.com/)\n  * Get familar with AWS EC2 and AutoScale service\n\nI also spent much time on [data structures](https://github.com/haoliangyu/basic-data-structure) and [algorithms](https://github.com/haoliangyu) in order to be a qualified software engineer in the future.\n\nBut on the other hand, the software industry is warm as we believe in open source and knowledge sharing. [GitHub](https://github.com), [StackOverflow](http://stackoverflow.com/), [The Spatial Community Slack Channel](http://thespatialcommunity.org/), and many other tech blogs have been my primary learning sources. I am glad that I was introduced into the rapidly developing world of open source GIS. Their generous sharing has been so beneficial to my work and side-projects.\n\nWith the hope of helping the future newbee, I started to publish open source projects with the highest quality I could pursue. This is my nighttime job :-P. So far, I have done\n\n* 9 npm modules ([see here](https://www.npmjs.com/~haoliang))\n* 2 Angular 2 mapping project demo with [Leaflet](https://github.com/haoliangyu/angular2-leaflet-starter) or [Mapbox GL](https://github.com/haoliangyu/angular2-mapboxgl-starter)\n* 1 fully operating website ([OpenDataDiscovery.org](http://opendatadiscovery.org/#map-page))\n* 29 pull requests to community projects\n\nI have got the opportunity to learn and test new knowledge that I don't use in my daytime job. As a benefit, I can move ahead the company and be able to introduce what I learn into the development practice in NBT Solutions.\n\nAmong all of these, I would like to highlight the [Open Data Discovery](https://github.com/haoliangyu/OpenDataDiscovery.org) project, the monster consuming one third of my spare time!\n\n{% asset_img odd-commits.png ODD Commits %}\n\nLike all the others who start their side projects, all I wanted to do initially was simply to make an open data map about [data.gov](https://www.data.gov/). But it opened a world much border than I expect to me and there were so many to explore. This website ends up\n\n* supporting 3 major open data portal platforms: [CKAN](http://ckan.org/), [DKAN](http://www.nucivic.com/dkan/), and [Socrata](http://socrata.com/)\n* tracking more than 300 open data portals worldwide\n* using two AWS EC2 servers for website hosting and vector tile generation\n* storing ~1 million rows of data, which is open to download\n\nand more is under development. Scaling up a project feels great and the [feedback](https://discuss.newbeeokfn.org/t/project-to-monitor-the-status-of-open-data-portals/3927) looks great too.\n\nAfter doing this amount of work, it make me feels I am no longer a newbee knowing nothing. I am confident to walk out and reach out. In 2016 I attended two conferences, 2016 SIG/GIS Conference and 2016 NYS Geosptial Summit. I co-founded the [MaptimeBUF](http://maptime.io/buffalo/), a local meetup for open source GIS, and gave the openning talk [Introduce to OpenStreetMap](https://github.com/MaptimeBUF/intro-to-osm). In December, I gave another talk, [Make an Interactive Map with Leaflet](https://github.com/haoliangyu/intro-to-leaflet), at the local JavaScript meetup [MaptimeBUF](https://www.meetup.com/Buffalojs/).\n\nI spent my vocation at Washington DC and Ottawa, the two beautiful and historical capitals, and finished my city trip at northeast America. I watched my fist NFL game and the first star war movie. I started skiing as the winter came and got myself on more difficult trails :-)\n\nFinally I got the working VISA. Good luck 2016.\n\n{% asset_img trait.jpg trait %}\n","source":"_posts/Work-Life-2016.md","raw":"title: Work, Life, 2016\ndate: 2016-12-31\ncategories:\n- Life\n---\n\n2016 is a big year for me.\n\n<!-- more -->\n\nThis is the first year after my graduation. I moved away from the university and settled down at downtown to start my new life. Being a web developer in a small startup is very different from being a student in school. In school there are always paths to follow: the spring and fall curriculum, the study plan of the course, the mentorship of the professor. In a startup, things are less organized and more dynamic. I make my work plan, develop at both ends of our application, help GIS Analysts in the company to automate data pipeline, discuss new features with clients, lead internal code safari, and experiment new technologies for our platform. Every day is a new and challenging day. That's very exciting.\n\nOf course challenges mean a lot of work and the trial to keep up with this fast-peace industry means even more. I become a full-time developer. I mean full-time as day and night.\n\n {% asset_img github-commits.png GitHub Commits %}\n\nMy colleague said I was having two jobs: one at the daytime working in the office, and another at the nighttime working at home. That's true, though the nighttime job is not billable and sometimes more challenging than the daytime one.\n\nOne cruel fact of this industry is that the concepts, trends, and technologies can be changed in just 2 or 3 years. It's harder when you are not in a CS major (yeah I am the old-class geographer!). At 2016 I took numerous hours to stay with the leading wave of techs:\n\n  * Learn how to write in[JavaScript ES6](https://github.com/lukehoban/es6features#readme)\n  * Learn how to develop application with [Angular 2](https://angular.io/) and [TypeScript](https://www.typescriptlang.org/)\n  * Play with [Bootstrap](http://getbootstrap.com/) and [Material Design](https://material.angularjs.org/latest/)\n  * Understand [vector tile](https://en.wikipedia.org/wiki/Vector_tiles) and figure out the way to generate it and use it with [Leaflet](http://leafletjs.com/) / [Mapbox GL](https://github.com/mapbox/mapbox-gl-js)\n  * Get deeper with DevOps tools like [Vagrant](https://www.vagrantup.com/), [Docker](https://www.docker.com/),and [NGNIX](https://www.nginx.com/)\n  * Get familar with AWS EC2 and AutoScale service\n\nI also spent much time on [data structures](https://github.com/haoliangyu/basic-data-structure) and [algorithms](https://github.com/haoliangyu) in order to be a qualified software engineer in the future.\n\nBut on the other hand, the software industry is warm as we believe in open source and knowledge sharing. [GitHub](https://github.com), [StackOverflow](http://stackoverflow.com/), [The Spatial Community Slack Channel](http://thespatialcommunity.org/), and many other tech blogs have been my primary learning sources. I am glad that I was introduced into the rapidly developing world of open source GIS. Their generous sharing has been so beneficial to my work and side-projects.\n\nWith the hope of helping the future newbee, I started to publish open source projects with the highest quality I could pursue. This is my nighttime job :-P. So far, I have done\n\n* 9 npm modules ([see here](https://www.npmjs.com/~haoliang))\n* 2 Angular 2 mapping project demo with [Leaflet](https://github.com/haoliangyu/angular2-leaflet-starter) or [Mapbox GL](https://github.com/haoliangyu/angular2-mapboxgl-starter)\n* 1 fully operating website ([OpenDataDiscovery.org](http://opendatadiscovery.org/#map-page))\n* 29 pull requests to community projects\n\nI have got the opportunity to learn and test new knowledge that I don't use in my daytime job. As a benefit, I can move ahead the company and be able to introduce what I learn into the development practice in NBT Solutions.\n\nAmong all of these, I would like to highlight the [Open Data Discovery](https://github.com/haoliangyu/OpenDataDiscovery.org) project, the monster consuming one third of my spare time!\n\n{% asset_img odd-commits.png ODD Commits %}\n\nLike all the others who start their side projects, all I wanted to do initially was simply to make an open data map about [data.gov](https://www.data.gov/). But it opened a world much border than I expect to me and there were so many to explore. This website ends up\n\n* supporting 3 major open data portal platforms: [CKAN](http://ckan.org/), [DKAN](http://www.nucivic.com/dkan/), and [Socrata](http://socrata.com/)\n* tracking more than 300 open data portals worldwide\n* using two AWS EC2 servers for website hosting and vector tile generation\n* storing ~1 million rows of data, which is open to download\n\nand more is under development. Scaling up a project feels great and the [feedback](https://discuss.newbeeokfn.org/t/project-to-monitor-the-status-of-open-data-portals/3927) looks great too.\n\nAfter doing this amount of work, it make me feels I am no longer a newbee knowing nothing. I am confident to walk out and reach out. In 2016 I attended two conferences, 2016 SIG/GIS Conference and 2016 NYS Geosptial Summit. I co-founded the [MaptimeBUF](http://maptime.io/buffalo/), a local meetup for open source GIS, and gave the openning talk [Introduce to OpenStreetMap](https://github.com/MaptimeBUF/intro-to-osm). In December, I gave another talk, [Make an Interactive Map with Leaflet](https://github.com/haoliangyu/intro-to-leaflet), at the local JavaScript meetup [MaptimeBUF](https://www.meetup.com/Buffalojs/).\n\nI spent my vocation at Washington DC and Ottawa, the two beautiful and historical capitals, and finished my city trip at northeast America. I watched my fist NFL game and the first star war movie. I started skiing as the winter came and got myself on more difficult trails :-)\n\nFinally I got the working VISA. Good luck 2016.\n\n{% asset_img trait.jpg trait %}\n","slug":"Work-Life-2016","published":1,"updated":"2020-08-08T11:06:20.649Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckirpyfhy001g0055pawxl5e4","content":"<p>2016 is a big year for me.</p><a id=\"more\"></a><p>This is the first year after my graduation. I moved away from the university and settled down at downtown to start my new life. Being a web developer in a small startup is very different from being a student in school. In school there are always paths to follow: the spring and fall curriculum, the study plan of the course, the mentorship of the professor. In a startup, things are less organized and more dynamic. I make my work plan, develop at both ends of our application, help GIS Analysts in the company to automate data pipeline, discuss new features with clients, lead internal code safari, and experiment new technologies for our platform. Every day is a new and challenging day. Thats very exciting.</p><p>Of course challenges mean a lot of work and the trial to keep up with this fast-peace industry means even more. I become a full-time developer. I mean full-time as day and night.</p><img src=\"/blog/2016/12/31/Work-Life-2016/github-commits.png\" title=\"GitHub Commits\"><p>My colleague said I was having two jobs: one at the daytime working in the office, and another at the nighttime working at home. Thats true, though the nighttime job is not billable and sometimes more challenging than the daytime one.</p><p>One cruel fact of this industry is that the concepts, trends, and technologies can be changed in just 2 or 3 years. Its harder when you are not in a CS major (yeah I am the old-class geographer!). At 2016 I took numerous hours to stay with the leading wave of techs:</p><ul><li>Learn how to write in<a href=\"https://github.com/lukehoban/es6features#readme\" target=\"_blank\" rel=\"noopener\">JavaScript ES6</a></li><li>Learn how to develop application with <a href=\"https://angular.io/\" target=\"_blank\" rel=\"noopener\">Angular 2</a> and <a href=\"https://www.typescriptlang.org/\" target=\"_blank\" rel=\"noopener\">TypeScript</a></li><li>Play with <a href=\"http://getbootstrap.com/\" target=\"_blank\" rel=\"noopener\">Bootstrap</a> and <a href=\"https://material.angularjs.org/latest/\" target=\"_blank\" rel=\"noopener\">Material Design</a></li><li>Understand <a href=\"https://en.wikipedia.org/wiki/Vector_tiles\" target=\"_blank\" rel=\"noopener\">vector tile</a> and figure out the way to generate it and use it with <a href=\"http://leafletjs.com/\" target=\"_blank\" rel=\"noopener\">Leaflet</a> / <a href=\"https://github.com/mapbox/mapbox-gl-js\" target=\"_blank\" rel=\"noopener\">Mapbox GL</a></li><li>Get deeper with DevOps tools like <a href=\"https://www.vagrantup.com/\" target=\"_blank\" rel=\"noopener\">Vagrant</a>, <a href=\"https://www.docker.com/\" target=\"_blank\" rel=\"noopener\">Docker</a>,and <a href=\"https://www.nginx.com/\" target=\"_blank\" rel=\"noopener\">NGNIX</a></li><li>Get familar with AWS EC2 and AutoScale service</li></ul><p>I also spent much time on <a href=\"https://github.com/haoliangyu/basic-data-structure\" target=\"_blank\" rel=\"noopener\">data structures</a> and <a href=\"https://github.com/haoliangyu\" target=\"_blank\" rel=\"noopener\">algorithms</a> in order to be a qualified software engineer in the future.</p><p>But on the other hand, the software industry is warm as we believe in open source and knowledge sharing. <a href=\"https://github.com\" target=\"_blank\" rel=\"noopener\">GitHub</a>, <a href=\"http://stackoverflow.com/\" target=\"_blank\" rel=\"noopener\">StackOverflow</a>, <a href=\"http://thespatialcommunity.org/\" target=\"_blank\" rel=\"noopener\">The Spatial Community Slack Channel</a>, and many other tech blogs have been my primary learning sources. I am glad that I was introduced into the rapidly developing world of open source GIS. Their generous sharing has been so beneficial to my work and side-projects.</p><p>With the hope of helping the future newbee, I started to publish open source projects with the highest quality I could pursue. This is my nighttime job :-P. So far, I have done</p><ul><li>9 npm modules (<a href=\"https://www.npmjs.com/~haoliang\" target=\"_blank\" rel=\"noopener\">see here</a>)</li><li>2 Angular 2 mapping project demo with <a href=\"https://github.com/haoliangyu/angular2-leaflet-starter\" target=\"_blank\" rel=\"noopener\">Leaflet</a> or <a href=\"https://github.com/haoliangyu/angular2-mapboxgl-starter\" target=\"_blank\" rel=\"noopener\">Mapbox GL</a></li><li>1 fully operating website (<a href=\"http://opendatadiscovery.org/#map-page\" target=\"_blank\" rel=\"noopener\">OpenDataDiscovery.org</a>)</li><li>29 pull requests to community projects</li></ul><p>I have got the opportunity to learn and test new knowledge that I dont use in my daytime job. As a benefit, I can move ahead the company and be able to introduce what I learn into the development practice in NBT Solutions.</p><p>Among all of these, I would like to highlight the <a href=\"https://github.com/haoliangyu/OpenDataDiscovery.org\" target=\"_blank\" rel=\"noopener\">Open Data Discovery</a> project, the monster consuming one third of my spare time!</p><img src=\"/blog/2016/12/31/Work-Life-2016/odd-commits.png\" title=\"ODD Commits\"><p>Like all the others who start their side projects, all I wanted to do initially was simply to make an open data map about <a href=\"https://www.data.gov/\" target=\"_blank\" rel=\"noopener\">data.gov</a>. But it opened a world much border than I expect to me and there were so many to explore. This website ends up</p><ul><li>supporting 3 major open data portal platforms: <a href=\"http://ckan.org/\" target=\"_blank\" rel=\"noopener\">CKAN</a>, <a href=\"http://www.nucivic.com/dkan/\" target=\"_blank\" rel=\"noopener\">DKAN</a>, and <a href=\"http://socrata.com/\" target=\"_blank\" rel=\"noopener\">Socrata</a></li><li>tracking more than 300 open data portals worldwide</li><li>using two AWS EC2 servers for website hosting and vector tile generation</li><li>storing ~1 million rows of data, which is open to download</li></ul><p>and more is under development. Scaling up a project feels great and the <a href=\"https://discuss.newbeeokfn.org/t/project-to-monitor-the-status-of-open-data-portals/3927\" target=\"_blank\" rel=\"noopener\">feedback</a> looks great too.</p><p>After doing this amount of work, it make me feels I am no longer a newbee knowing nothing. I am confident to walk out and reach out. In 2016 I attended two conferences, 2016 SIG/GIS Conference and 2016 NYS Geosptial Summit. I co-founded the <a href=\"http://maptime.io/buffalo/\" target=\"_blank\" rel=\"noopener\">MaptimeBUF</a>, a local meetup for open source GIS, and gave the openning talk <a href=\"https://github.com/MaptimeBUF/intro-to-osm\" target=\"_blank\" rel=\"noopener\">Introduce to OpenStreetMap</a>. In December, I gave another talk, <a href=\"https://github.com/haoliangyu/intro-to-leaflet\" target=\"_blank\" rel=\"noopener\">Make an Interactive Map with Leaflet</a>, at the local JavaScript meetup <a href=\"https://www.meetup.com/Buffalojs/\" target=\"_blank\" rel=\"noopener\">MaptimeBUF</a>.</p><p>I spent my vocation at Washington DC and Ottawa, the two beautiful and historical capitals, and finished my city trip at northeast America. I watched my fist NFL game and the first star war movie. I started skiing as the winter came and got myself on more difficult trails :-)</p><p>Finally I got the working VISA. Good luck 2016.</p><img src=\"/blog/2016/12/31/Work-Life-2016/trait.jpg\" title=\"trait\"><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>2016 is a big year for me.</p>","more":"<p>This is the first year after my graduation. I moved away from the university and settled down at downtown to start my new life. Being a web developer in a small startup is very different from being a student in school. In school there are always paths to follow: the spring and fall curriculum, the study plan of the course, the mentorship of the professor. In a startup, things are less organized and more dynamic. I make my work plan, develop at both ends of our application, help GIS Analysts in the company to automate data pipeline, discuss new features with clients, lead internal code safari, and experiment new technologies for our platform. Every day is a new and challenging day. Thats very exciting.</p><p>Of course challenges mean a lot of work and the trial to keep up with this fast-peace industry means even more. I become a full-time developer. I mean full-time as day and night.</p><img src=\"/blog/2016/12/31/Work-Life-2016/github-commits.png\" title=\"GitHub Commits\"><p>My colleague said I was having two jobs: one at the daytime working in the office, and another at the nighttime working at home. Thats true, though the nighttime job is not billable and sometimes more challenging than the daytime one.</p><p>One cruel fact of this industry is that the concepts, trends, and technologies can be changed in just 2 or 3 years. Its harder when you are not in a CS major (yeah I am the old-class geographer!). At 2016 I took numerous hours to stay with the leading wave of techs:</p><ul><li>Learn how to write in<a href=\"https://github.com/lukehoban/es6features#readme\" target=\"_blank\" rel=\"noopener\">JavaScript ES6</a></li><li>Learn how to develop application with <a href=\"https://angular.io/\" target=\"_blank\" rel=\"noopener\">Angular 2</a> and <a href=\"https://www.typescriptlang.org/\" target=\"_blank\" rel=\"noopener\">TypeScript</a></li><li>Play with <a href=\"http://getbootstrap.com/\" target=\"_blank\" rel=\"noopener\">Bootstrap</a> and <a href=\"https://material.angularjs.org/latest/\" target=\"_blank\" rel=\"noopener\">Material Design</a></li><li>Understand <a href=\"https://en.wikipedia.org/wiki/Vector_tiles\" target=\"_blank\" rel=\"noopener\">vector tile</a> and figure out the way to generate it and use it with <a href=\"http://leafletjs.com/\" target=\"_blank\" rel=\"noopener\">Leaflet</a> / <a href=\"https://github.com/mapbox/mapbox-gl-js\" target=\"_blank\" rel=\"noopener\">Mapbox GL</a></li><li>Get deeper with DevOps tools like <a href=\"https://www.vagrantup.com/\" target=\"_blank\" rel=\"noopener\">Vagrant</a>, <a href=\"https://www.docker.com/\" target=\"_blank\" rel=\"noopener\">Docker</a>,and <a href=\"https://www.nginx.com/\" target=\"_blank\" rel=\"noopener\">NGNIX</a></li><li>Get familar with AWS EC2 and AutoScale service</li></ul><p>I also spent much time on <a href=\"https://github.com/haoliangyu/basic-data-structure\" target=\"_blank\" rel=\"noopener\">data structures</a> and <a href=\"https://github.com/haoliangyu\" target=\"_blank\" rel=\"noopener\">algorithms</a> in order to be a qualified software engineer in the future.</p><p>But on the other hand, the software industry is warm as we believe in open source and knowledge sharing. <a href=\"https://github.com\" target=\"_blank\" rel=\"noopener\">GitHub</a>, <a href=\"http://stackoverflow.com/\" target=\"_blank\" rel=\"noopener\">StackOverflow</a>, <a href=\"http://thespatialcommunity.org/\" target=\"_blank\" rel=\"noopener\">The Spatial Community Slack Channel</a>, and many other tech blogs have been my primary learning sources. I am glad that I was introduced into the rapidly developing world of open source GIS. Their generous sharing has been so beneficial to my work and side-projects.</p><p>With the hope of helping the future newbee, I started to publish open source projects with the highest quality I could pursue. This is my nighttime job :-P. So far, I have done</p><ul><li>9 npm modules (<a href=\"https://www.npmjs.com/~haoliang\" target=\"_blank\" rel=\"noopener\">see here</a>)</li><li>2 Angular 2 mapping project demo with <a href=\"https://github.com/haoliangyu/angular2-leaflet-starter\" target=\"_blank\" rel=\"noopener\">Leaflet</a> or <a href=\"https://github.com/haoliangyu/angular2-mapboxgl-starter\" target=\"_blank\" rel=\"noopener\">Mapbox GL</a></li><li>1 fully operating website (<a href=\"http://opendatadiscovery.org/#map-page\" target=\"_blank\" rel=\"noopener\">OpenDataDiscovery.org</a>)</li><li>29 pull requests to community projects</li></ul><p>I have got the opportunity to learn and test new knowledge that I dont use in my daytime job. As a benefit, I can move ahead the company and be able to introduce what I learn into the development practice in NBT Solutions.</p><p>Among all of these, I would like to highlight the <a href=\"https://github.com/haoliangyu/OpenDataDiscovery.org\" target=\"_blank\" rel=\"noopener\">Open Data Discovery</a> project, the monster consuming one third of my spare time!</p><img src=\"/blog/2016/12/31/Work-Life-2016/odd-commits.png\" title=\"ODD Commits\"><p>Like all the others who start their side projects, all I wanted to do initially was simply to make an open data map about <a href=\"https://www.data.gov/\" target=\"_blank\" rel=\"noopener\">data.gov</a>. But it opened a world much border than I expect to me and there were so many to explore. This website ends up</p><ul><li>supporting 3 major open data portal platforms: <a href=\"http://ckan.org/\" target=\"_blank\" rel=\"noopener\">CKAN</a>, <a href=\"http://www.nucivic.com/dkan/\" target=\"_blank\" rel=\"noopener\">DKAN</a>, and <a href=\"http://socrata.com/\" target=\"_blank\" rel=\"noopener\">Socrata</a></li><li>tracking more than 300 open data portals worldwide</li><li>using two AWS EC2 servers for website hosting and vector tile generation</li><li>storing ~1 million rows of data, which is open to download</li></ul><p>and more is under development. Scaling up a project feels great and the <a href=\"https://discuss.newbeeokfn.org/t/project-to-monitor-the-status-of-open-data-portals/3927\" target=\"_blank\" rel=\"noopener\">feedback</a> looks great too.</p><p>After doing this amount of work, it make me feels I am no longer a newbee knowing nothing. I am confident to walk out and reach out. In 2016 I attended two conferences, 2016 SIG/GIS Conference and 2016 NYS Geosptial Summit. I co-founded the <a href=\"http://maptime.io/buffalo/\" target=\"_blank\" rel=\"noopener\">MaptimeBUF</a>, a local meetup for open source GIS, and gave the openning talk <a href=\"https://github.com/MaptimeBUF/intro-to-osm\" target=\"_blank\" rel=\"noopener\">Introduce to OpenStreetMap</a>. In December, I gave another talk, <a href=\"https://github.com/haoliangyu/intro-to-leaflet\" target=\"_blank\" rel=\"noopener\">Make an Interactive Map with Leaflet</a>, at the local JavaScript meetup <a href=\"https://www.meetup.com/Buffalojs/\" target=\"_blank\" rel=\"noopener\">MaptimeBUF</a>.</p><p>I spent my vocation at Washington DC and Ottawa, the two beautiful and historical capitals, and finished my city trip at northeast America. I watched my fist NFL game and the first star war movie. I started skiing as the winter came and got myself on more difficult trails :-)</p><p>Finally I got the working VISA. Good luck 2016.</p><img src=\"/blog/2016/12/31/Work-Life-2016/trait.jpg\" title=\"trait\">"},{"title":"Yet another way to edit your raster layer in ArcMap - Paint on it!","date":"2015-03-11T18:44:53.000Z","comments":1,"_content":"\nI am glad to announce that the project ArcMap Raster Edit Suite (ARES) has proceed to its second major version 0.2.0! A completely new toolbar **Raster Painter** is added into the add-in. Many people have realized that editing pixels using tools in Raster Editor may be labor intensive, especially when editing large number of pixels. This toolbar is here to provide an ultimately flexible solution to edit pixels, by painting new values on it. The editing style is design to be similar to draw image and picture. You can find similar toolbars in ArcMap like ArcScan and Raster Painting, but they are not designed for raster data modification. Of course, a very close analogy is Paint on Window.\n<!-- more -->\n{% asset_img WinPaint.png This is an example image %}\n\n## Raster Painter Toolbar\n\n---\n\nThe ARES installation package could be downloaded at the [**GitHub project page**](https://github.com/haoliangyu/ares).\n\nAfter installing the ARES Add-In, a new toolbar **Raster Painter** will be added into ArcMap.\n\n{% asset_img RasterPainter.png This is an example image %}\n\nIn the initial release, the tool includes two basic tools:\n\n* {% asset_img FreehandPaintTool.png This is an example image %} **Freehand Paint**\t-\tprovide a freehand painting on the raster layer\n\n* {% asset_img EraseTool.png This is an example image %} **Erase**\t-\tErase unsaved painted pixels from cache\n\nThis toolbar aims at maximizing the flexibility, not the accuracy (e.g. editing pixels at specific rows and columns). If the accuracy is your need, please have a look at another toolbar [**Raster Editor**](https://github.com/haoliangyu/ares).\n\n## Painting on the layer\n\n---\n\nPainting on a raster layer in ArcMap is just like painting a picture with Paint or PhotoShop. The major difference is just you are painting values, instead of colors, on the raster layer. You can do it just with a few steps.\n\n* **Start Painting Section**. You can only paint on a raster layer for one time. If you have several layers in ArcMap, you will select one for painting in the selection window.\n\n{% asset_img StartPainting.png This is an example image %}\n\n* **Add Values for Painting**. Click the *Add Values* button on the *Raster Paint* window, in order to add values that you want to paint on the layer.\n\n{% asset_img AddValues.png This is an example image %}\n\nA random color will be assigned to each added value. You can change the color by right clicking the color column on the value list.\n\nIf you want to delete values from the list, just click the *Delete Values* button.\n\nIf you want to add new values that does not exist on the layer, click *Add New Values...* button on the *Options* Menus. However, you are not able to add any value violating the pixel type of the layer (e.g. 257 for a 8-bit unsigned integer layer).\n\n* **Painting Values**. After selecting a value on the *Raster Paint* window, you can paint the value on the layer using the *Freehand Paint* tool.\n\n**While painting, please keep you mouse move smoothly and steadily.**\n\n{% asset_img Painting.png This is an example image %}\n\nPainted values are symbolized with yellow frame so that you are not going to miss them.\n\n* **Erase Painted Values**. If you want to remove values you paint, just use the *Erase* tool to remove them.\n\n{% asset_img Erase.png This is an example image %}\n\nNoted that the *Erase* tool can only remove painted values on the layer. If you want to erase existing values on the layer, you could simply paint the NoData value on pixels.\n\n* **Save Painted Values**. You can save painted values to the original file using the *Save Paints* button, or to a new file using the *Save Paints As* button.\n\n{% asset_img Save.png This is an example image %}\n\n* **Stop Painting Section**\n\nNow you have your raster layer edited. Isn't it simple and quick :)\n\n## What is next?\n\n---\n\nThe initial release only provides the most basic functionality. More advanced and handy tools are under development:\n\n* Draw polyline/polygon/Circle/Rectangle\n\n* Draw in selection region\n\n* Fill polygon\n\n* Painting history (e.g. undo and redo)\n\nI hope I can finish these updates soon. If you have any idea about the new functionality, don't hesitate to give me a comment :)\n\n## Special Thanks\n\n---\n\nI would like to thank Xuan Wang, Hancheng Nie and Jiang Qing for contributing their codes to this project. And I would like to thank all people who support and encourage me to continue this project.\n\n{% asset_img ArcPaint.png This is an example image %}\n","source":"_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it.md","raw":"title: Yet another way to edit your raster layer in ArcMap - Paint on it!\ndate: 2015-03-11 21:44:53\ncomments: true\ncategories:\n- GIS\ntags:\n- gis\n- arcgis\n---\n\nI am glad to announce that the project ArcMap Raster Edit Suite (ARES) has proceed to its second major version 0.2.0! A completely new toolbar **Raster Painter** is added into the add-in. Many people have realized that editing pixels using tools in Raster Editor may be labor intensive, especially when editing large number of pixels. This toolbar is here to provide an ultimately flexible solution to edit pixels, by painting new values on it. The editing style is design to be similar to draw image and picture. You can find similar toolbars in ArcMap like ArcScan and Raster Painting, but they are not designed for raster data modification. Of course, a very close analogy is Paint on Window.\n<!-- more -->\n{% asset_img WinPaint.png This is an example image %}\n\n## Raster Painter Toolbar\n\n---\n\nThe ARES installation package could be downloaded at the [**GitHub project page**](https://github.com/haoliangyu/ares).\n\nAfter installing the ARES Add-In, a new toolbar **Raster Painter** will be added into ArcMap.\n\n{% asset_img RasterPainter.png This is an example image %}\n\nIn the initial release, the tool includes two basic tools:\n\n* {% asset_img FreehandPaintTool.png This is an example image %} **Freehand Paint**\t-\tprovide a freehand painting on the raster layer\n\n* {% asset_img EraseTool.png This is an example image %} **Erase**\t-\tErase unsaved painted pixels from cache\n\nThis toolbar aims at maximizing the flexibility, not the accuracy (e.g. editing pixels at specific rows and columns). If the accuracy is your need, please have a look at another toolbar [**Raster Editor**](https://github.com/haoliangyu/ares).\n\n## Painting on the layer\n\n---\n\nPainting on a raster layer in ArcMap is just like painting a picture with Paint or PhotoShop. The major difference is just you are painting values, instead of colors, on the raster layer. You can do it just with a few steps.\n\n* **Start Painting Section**. You can only paint on a raster layer for one time. If you have several layers in ArcMap, you will select one for painting in the selection window.\n\n{% asset_img StartPainting.png This is an example image %}\n\n* **Add Values for Painting**. Click the *Add Values* button on the *Raster Paint* window, in order to add values that you want to paint on the layer.\n\n{% asset_img AddValues.png This is an example image %}\n\nA random color will be assigned to each added value. You can change the color by right clicking the color column on the value list.\n\nIf you want to delete values from the list, just click the *Delete Values* button.\n\nIf you want to add new values that does not exist on the layer, click *Add New Values...* button on the *Options* Menus. However, you are not able to add any value violating the pixel type of the layer (e.g. 257 for a 8-bit unsigned integer layer).\n\n* **Painting Values**. After selecting a value on the *Raster Paint* window, you can paint the value on the layer using the *Freehand Paint* tool.\n\n**While painting, please keep you mouse move smoothly and steadily.**\n\n{% asset_img Painting.png This is an example image %}\n\nPainted values are symbolized with yellow frame so that you are not going to miss them.\n\n* **Erase Painted Values**. If you want to remove values you paint, just use the *Erase* tool to remove them.\n\n{% asset_img Erase.png This is an example image %}\n\nNoted that the *Erase* tool can only remove painted values on the layer. If you want to erase existing values on the layer, you could simply paint the NoData value on pixels.\n\n* **Save Painted Values**. You can save painted values to the original file using the *Save Paints* button, or to a new file using the *Save Paints As* button.\n\n{% asset_img Save.png This is an example image %}\n\n* **Stop Painting Section**\n\nNow you have your raster layer edited. Isn't it simple and quick :)\n\n## What is next?\n\n---\n\nThe initial release only provides the most basic functionality. More advanced and handy tools are under development:\n\n* Draw polyline/polygon/Circle/Rectangle\n\n* Draw in selection region\n\n* Fill polygon\n\n* Painting history (e.g. undo and redo)\n\nI hope I can finish these updates soon. If you have any idea about the new functionality, don't hesitate to give me a comment :)\n\n## Special Thanks\n\n---\n\nI would like to thank Xuan Wang, Hancheng Nie and Jiang Qing for contributing their codes to this project. And I would like to thank all people who support and encourage me to continue this project.\n\n{% asset_img ArcPaint.png This is an example image %}\n","slug":"Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it","published":1,"updated":"2020-08-08T11:06:20.670Z","layout":"post","photos":[],"link":"","_id":"ckirpyfi1001j0055f6p9vbpo","content":"<p>I am glad to announce that the project ArcMap Raster Edit Suite (ARES) has proceed to its second major version 0.2.0! A completely new toolbar <strong>Raster Painter</strong> is added into the add-in. Many people have realized that editing pixels using tools in Raster Editor may be labor intensive, especially when editing large number of pixels. This toolbar is here to provide an ultimately flexible solution to edit pixels, by painting new values on it. The editing style is design to be similar to draw image and picture. You can find similar toolbars in ArcMap like ArcScan and Raster Painting, but they are not designed for raster data modification. Of course, a very close analogy is Paint on Window.</p><a id=\"more\"></a> <img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/WinPaint.png\" title=\"This is an example image\"><h2 id=\"Raster-Painter-Toolbar\"><a href=\"#Raster-Painter-Toolbar\" class=\"headerlink\" title=\"Raster Painter Toolbar\"></a>Raster Painter Toolbar</h2><hr><p>The ARES installation package could be downloaded at the <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\"><strong>GitHub project page</strong></a>.</p><p>After installing the ARES Add-In, a new toolbar <strong>Raster Painter</strong> will be added into ArcMap.</p><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/RasterPainter.png\" title=\"This is an example image\"><p>In the initial release, the tool includes two basic tools:</p><ul><li><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/FreehandPaintTool.png\" title=\"This is an example image\"> **Freehand Paint** - provide a freehand painting on the raster layer</li><li><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/EraseTool.png\" title=\"This is an example image\"> **Erase** - Erase unsaved painted pixels from cache</li></ul><p>This toolbar aims at maximizing the flexibility, not the accuracy (e.g. editing pixels at specific rows and columns). If the accuracy is your need, please have a look at another toolbar <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\"><strong>Raster Editor</strong></a>.</p><h2 id=\"Painting-on-the-layer\"><a href=\"#Painting-on-the-layer\" class=\"headerlink\" title=\"Painting on the layer\"></a>Painting on the layer</h2><hr><p>Painting on a raster layer in ArcMap is just like painting a picture with Paint or PhotoShop. The major difference is just you are painting values, instead of colors, on the raster layer. You can do it just with a few steps.</p><ul><li><strong>Start Painting Section</strong>. You can only paint on a raster layer for one time. If you have several layers in ArcMap, you will select one for painting in the selection window.</li></ul><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/StartPainting.png\" title=\"This is an example image\"><ul><li><strong>Add Values for Painting</strong>. Click the <em>Add Values</em> button on the <em>Raster Paint</em> window, in order to add values that you want to paint on the layer.</li></ul><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/AddValues.png\" title=\"This is an example image\"><p>A random color will be assigned to each added value. You can change the color by right clicking the color column on the value list.</p><p>If you want to delete values from the list, just click the <em>Delete Values</em> button.</p><p>If you want to add new values that does not exist on the layer, click <em>Add New Values</em> button on the <em>Options</em> Menus. However, you are not able to add any value violating the pixel type of the layer (e.g. 257 for a 8-bit unsigned integer layer).</p><ul><li><strong>Painting Values</strong>. After selecting a value on the <em>Raster Paint</em> window, you can paint the value on the layer using the <em>Freehand Paint</em> tool.</li></ul><p><strong>While painting, please keep you mouse move smoothly and steadily.</strong></p><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Painting.png\" title=\"This is an example image\"><p>Painted values are symbolized with yellow frame so that you are not going to miss them.</p><ul><li><strong>Erase Painted Values</strong>. If you want to remove values you paint, just use the <em>Erase</em> tool to remove them.</li></ul><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Erase.png\" title=\"This is an example image\"><p>Noted that the <em>Erase</em> tool can only remove painted values on the layer. If you want to erase existing values on the layer, you could simply paint the NoData value on pixels.</p><ul><li><strong>Save Painted Values</strong>. You can save painted values to the original file using the <em>Save Paints</em> button, or to a new file using the <em>Save Paints As</em> button.</li></ul><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Save.png\" title=\"This is an example image\"><ul><li><strong>Stop Painting Section</strong></li></ul><p>Now you have your raster layer edited. Isnt it simple and quick :)</p><h2 id=\"What-is-next\"><a href=\"#What-is-next\" class=\"headerlink\" title=\"What is next?\"></a>What is next?</h2><hr><p>The initial release only provides the most basic functionality. More advanced and handy tools are under development:</p><ul><li><p>Draw polyline/polygon/Circle/Rectangle</p></li><li><p>Draw in selection region</p></li><li><p>Fill polygon</p></li><li><p>Painting history (e.g. undo and redo)</p></li></ul><p>I hope I can finish these updates soon. If you have any idea about the new functionality, dont hesitate to give me a comment :)</p><h2 id=\"Special-Thanks\"><a href=\"#Special-Thanks\" class=\"headerlink\" title=\"Special Thanks\"></a>Special Thanks</h2><hr><p>I would like to thank Xuan Wang, Hancheng Nie and Jiang Qing for contributing their codes to this project. And I would like to thank all people who support and encourage me to continue this project.</p><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/ArcPaint.png\" title=\"This is an example image\"><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>I am glad to announce that the project ArcMap Raster Edit Suite (ARES) has proceed to its second major version 0.2.0! A completely new toolbar <strong>Raster Painter</strong> is added into the add-in. Many people have realized that editing pixels using tools in Raster Editor may be labor intensive, especially when editing large number of pixels. This toolbar is here to provide an ultimately flexible solution to edit pixels, by painting new values on it. The editing style is design to be similar to draw image and picture. You can find similar toolbars in ArcMap like ArcScan and Raster Painting, but they are not designed for raster data modification. Of course, a very close analogy is Paint on Window.</p>","more":"<img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/WinPaint.png\" title=\"This is an example image\"><h2 id=\"Raster-Painter-Toolbar\"><a href=\"#Raster-Painter-Toolbar\" class=\"headerlink\" title=\"Raster Painter Toolbar\"></a>Raster Painter Toolbar</h2><hr><p>The ARES installation package could be downloaded at the <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\"><strong>GitHub project page</strong></a>.</p><p>After installing the ARES Add-In, a new toolbar <strong>Raster Painter</strong> will be added into ArcMap.</p><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/RasterPainter.png\" title=\"This is an example image\"><p>In the initial release, the tool includes two basic tools:</p><ul><li><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/FreehandPaintTool.png\" title=\"This is an example image\"> **Freehand Paint** - provide a freehand painting on the raster layer</li><li><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/EraseTool.png\" title=\"This is an example image\"> **Erase** - Erase unsaved painted pixels from cache</li></ul><p>This toolbar aims at maximizing the flexibility, not the accuracy (e.g. editing pixels at specific rows and columns). If the accuracy is your need, please have a look at another toolbar <a href=\"https://github.com/haoliangyu/ares\" target=\"_blank\" rel=\"noopener\"><strong>Raster Editor</strong></a>.</p><h2 id=\"Painting-on-the-layer\"><a href=\"#Painting-on-the-layer\" class=\"headerlink\" title=\"Painting on the layer\"></a>Painting on the layer</h2><hr><p>Painting on a raster layer in ArcMap is just like painting a picture with Paint or PhotoShop. The major difference is just you are painting values, instead of colors, on the raster layer. You can do it just with a few steps.</p><ul><li><strong>Start Painting Section</strong>. You can only paint on a raster layer for one time. If you have several layers in ArcMap, you will select one for painting in the selection window.</li></ul><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/StartPainting.png\" title=\"This is an example image\"><ul><li><strong>Add Values for Painting</strong>. Click the <em>Add Values</em> button on the <em>Raster Paint</em> window, in order to add values that you want to paint on the layer.</li></ul><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/AddValues.png\" title=\"This is an example image\"><p>A random color will be assigned to each added value. You can change the color by right clicking the color column on the value list.</p><p>If you want to delete values from the list, just click the <em>Delete Values</em> button.</p><p>If you want to add new values that does not exist on the layer, click <em>Add New Values</em> button on the <em>Options</em> Menus. However, you are not able to add any value violating the pixel type of the layer (e.g. 257 for a 8-bit unsigned integer layer).</p><ul><li><strong>Painting Values</strong>. After selecting a value on the <em>Raster Paint</em> window, you can paint the value on the layer using the <em>Freehand Paint</em> tool.</li></ul><p><strong>While painting, please keep you mouse move smoothly and steadily.</strong></p><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Painting.png\" title=\"This is an example image\"><p>Painted values are symbolized with yellow frame so that you are not going to miss them.</p><ul><li><strong>Erase Painted Values</strong>. If you want to remove values you paint, just use the <em>Erase</em> tool to remove them.</li></ul><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Erase.png\" title=\"This is an example image\"><p>Noted that the <em>Erase</em> tool can only remove painted values on the layer. If you want to erase existing values on the layer, you could simply paint the NoData value on pixels.</p><ul><li><strong>Save Painted Values</strong>. You can save painted values to the original file using the <em>Save Paints</em> button, or to a new file using the <em>Save Paints As</em> button.</li></ul><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Save.png\" title=\"This is an example image\"><ul><li><strong>Stop Painting Section</strong></li></ul><p>Now you have your raster layer edited. Isnt it simple and quick :)</p><h2 id=\"What-is-next\"><a href=\"#What-is-next\" class=\"headerlink\" title=\"What is next?\"></a>What is next?</h2><hr><p>The initial release only provides the most basic functionality. More advanced and handy tools are under development:</p><ul><li><p>Draw polyline/polygon/Circle/Rectangle</p></li><li><p>Draw in selection region</p></li><li><p>Fill polygon</p></li><li><p>Painting history (e.g. undo and redo)</p></li></ul><p>I hope I can finish these updates soon. If you have any idea about the new functionality, dont hesitate to give me a comment :)</p><h2 id=\"Special-Thanks\"><a href=\"#Special-Thanks\" class=\"headerlink\" title=\"Special Thanks\"></a>Special Thanks</h2><hr><p>I would like to thank Xuan Wang, Hancheng Nie and Jiang Qing for contributing their codes to this project. And I would like to thank all people who support and encourage me to continue this project.</p><img src=\"/blog/2015/03/11/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/ArcPaint.png\" title=\"This is an example image\">"},{"title":"gtran: a promised, consistent, user-friendly GeoJson conversion package","date":"2016-02-24T21:00:00.000Z","comments":1,"_content":"\nDo you still feel inconvenient when converting GeoJson to other data formats in Node.js?\n\n<!-- more -->\n\nGeoJson is one of simplest geographic data format. If we search for data conversion packages at [npm.org](https://www.npmjs.com/), there will be a long list packages: [shapefile](https://www.npmjs.com/package/shapefile) for shapefile, [tokml](https://www.npmjs.com/package/tokml) for kml, [geojson2dcsv](https://www.npmjs.com/package/geojson2dsv) for csv, [osm-and-geojson](https://www.npmjs.com/package/osm-and-geojson) for osm package, [geojson2](https://www.npmjs.com/package/geojson2) for multiple formats, [org2org](https://www.npmjs.com/package/ogr2ogr) and [gdal](https://www.npmjs.com/package/gdal) as data solutions... However, I still felt very inconvenient when I developed a GeoJson handling module a few months ago.\n\n# Why inconvenient?\n\nFrom my point of view, there are a few problems:\n\n* Most packages are designed for one specific data format.\n\n* Each package is written in a style different from the other.\n\n* Some packages require external libraries,like [gdal](http://www.gdal.org/), which aren't npm-able.\n\n* Most package aren't asynchronous or promised. (maybe just a personal problem)\n\nAs a result, in order to make them work together, one will need to learn how to use these diverse packages, customize code to handle their diverse input/output, and write some comments for the future project maintainer.\n\nWell, it's not very fun.\n\n# Gtran: the solution\n\nThe programmer's way to handle unhappiness is to write something that make him happy :) What I want is a package with following features:\n\n* Able to work with multiple formats\n\n* Consistent and simple: functions and their input/output\n\n* Completely npm-able\n\n* Asynchronous\n\nAnd here comes **[gtran](https://www.npmjs.com/package/gtran)**.\n\n# What does gtran do?\n\n**gtran** wraps several existing npm packages to provide\n\n* from/to conversion of multiple formats: .shp, .kml, .kmz, .csv, and TopoJson.\n\n* consistent functions: from\\[format name\\]() and to\\[format name\\]()\n\n* simple input/output: geojson or file name\n\n* asynchronous ability with your favorite promise library ([bluebird](https://www.npmjs.com/package/bluebird), [promise](https://www.npmjs.com/package/promise), [Q](https://www.npmjs.com/package/q), or [native](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)).\n\n* minimal installation: each format support is provide by a child package gtran-xxx.\n\nIt could be installed with `npm install gtran`.\n\n# How could it be used?\n\nA complete use guide could be found at the [GitHub repo](https://github.com/haoliangyu/gtran) and here is a small use case:\n\n``` JavaScript\nvar gtran = require('gtran');\n\n# Specify the promise library if necessary\ngtran.setPromiseLib(require('bluebird'));\n\n# Read shapefile\ngtran.fromShp('source.shp')\n.then(function(object) {\n    var geojson = object;\n});\n\n# Save geojson into shapefile\ngtran.toShp(geojson, 'point.shp')\n.then(function(fileNames) {\n    console.log('SHP files have been saved at:' + fileNames.toString());\n});\n\n# Read csv file\n# Assume the test.csv has two columns: latitude and longitude\ngtran.fromCSV('source.csv', {\n    mapping: { x: 'longitude', y: 'latitude' }\n})\n.then(function(object) {\n    var geojson = object;\n});\n\n# Save geojson into a csv file\ngtran.toCSV(geojson, 'point.csv')\n.then(function(fileName) {\n    console.log('CSV file has been saved at:' + fileName);\n});\n```\n\nHope you enjoy it. If you find a bug or want a new feature, just create an [issue](https://github.com/haoliangyu/gtran/issues) and I will appreciate it :-)\n","source":"_posts/gtran-a-promised-consistent-user-friendly-GeoJson-conversion-package.md","raw":"title: 'gtran: a promised, consistent, user-friendly GeoJson conversion package'\ndate: 2016-02-25\ncomments: true\ncategories:\n- Project\ntags:\n- gis\n- project\n- javascript\n---\n\nDo you still feel inconvenient when converting GeoJson to other data formats in Node.js?\n\n<!-- more -->\n\nGeoJson is one of simplest geographic data format. If we search for data conversion packages at [npm.org](https://www.npmjs.com/), there will be a long list packages: [shapefile](https://www.npmjs.com/package/shapefile) for shapefile, [tokml](https://www.npmjs.com/package/tokml) for kml, [geojson2dcsv](https://www.npmjs.com/package/geojson2dsv) for csv, [osm-and-geojson](https://www.npmjs.com/package/osm-and-geojson) for osm package, [geojson2](https://www.npmjs.com/package/geojson2) for multiple formats, [org2org](https://www.npmjs.com/package/ogr2ogr) and [gdal](https://www.npmjs.com/package/gdal) as data solutions... However, I still felt very inconvenient when I developed a GeoJson handling module a few months ago.\n\n# Why inconvenient?\n\nFrom my point of view, there are a few problems:\n\n* Most packages are designed for one specific data format.\n\n* Each package is written in a style different from the other.\n\n* Some packages require external libraries,like [gdal](http://www.gdal.org/), which aren't npm-able.\n\n* Most package aren't asynchronous or promised. (maybe just a personal problem)\n\nAs a result, in order to make them work together, one will need to learn how to use these diverse packages, customize code to handle their diverse input/output, and write some comments for the future project maintainer.\n\nWell, it's not very fun.\n\n# Gtran: the solution\n\nThe programmer's way to handle unhappiness is to write something that make him happy :) What I want is a package with following features:\n\n* Able to work with multiple formats\n\n* Consistent and simple: functions and their input/output\n\n* Completely npm-able\n\n* Asynchronous\n\nAnd here comes **[gtran](https://www.npmjs.com/package/gtran)**.\n\n# What does gtran do?\n\n**gtran** wraps several existing npm packages to provide\n\n* from/to conversion of multiple formats: .shp, .kml, .kmz, .csv, and TopoJson.\n\n* consistent functions: from\\[format name\\]() and to\\[format name\\]()\n\n* simple input/output: geojson or file name\n\n* asynchronous ability with your favorite promise library ([bluebird](https://www.npmjs.com/package/bluebird), [promise](https://www.npmjs.com/package/promise), [Q](https://www.npmjs.com/package/q), or [native](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)).\n\n* minimal installation: each format support is provide by a child package gtran-xxx.\n\nIt could be installed with `npm install gtran`.\n\n# How could it be used?\n\nA complete use guide could be found at the [GitHub repo](https://github.com/haoliangyu/gtran) and here is a small use case:\n\n``` JavaScript\nvar gtran = require('gtran');\n\n# Specify the promise library if necessary\ngtran.setPromiseLib(require('bluebird'));\n\n# Read shapefile\ngtran.fromShp('source.shp')\n.then(function(object) {\n    var geojson = object;\n});\n\n# Save geojson into shapefile\ngtran.toShp(geojson, 'point.shp')\n.then(function(fileNames) {\n    console.log('SHP files have been saved at:' + fileNames.toString());\n});\n\n# Read csv file\n# Assume the test.csv has two columns: latitude and longitude\ngtran.fromCSV('source.csv', {\n    mapping: { x: 'longitude', y: 'latitude' }\n})\n.then(function(object) {\n    var geojson = object;\n});\n\n# Save geojson into a csv file\ngtran.toCSV(geojson, 'point.csv')\n.then(function(fileName) {\n    console.log('CSV file has been saved at:' + fileName);\n});\n```\n\nHope you enjoy it. If you find a bug or want a new feature, just create an [issue](https://github.com/haoliangyu/gtran/issues) and I will appreciate it :-)\n","slug":"gtran-a-promised-consistent-user-friendly-GeoJson-conversion-package","published":1,"updated":"2020-08-08T11:06:20.685Z","layout":"post","photos":[],"link":"","_id":"ckirpyfi4001o0055nwwrgknq","content":"<p>Do you still feel inconvenient when converting GeoJson to other data formats in Node.js?</p><a id=\"more\"></a><p>GeoJson is one of simplest geographic data format. If we search for data conversion packages at <a href=\"https://www.npmjs.com/\" target=\"_blank\" rel=\"noopener\">npm.org</a>, there will be a long list packages: <a href=\"https://www.npmjs.com/package/shapefile\" target=\"_blank\" rel=\"noopener\">shapefile</a> for shapefile, <a href=\"https://www.npmjs.com/package/tokml\" target=\"_blank\" rel=\"noopener\">tokml</a> for kml, <a href=\"https://www.npmjs.com/package/geojson2dsv\" target=\"_blank\" rel=\"noopener\">geojson2dcsv</a> for csv, <a href=\"https://www.npmjs.com/package/osm-and-geojson\" target=\"_blank\" rel=\"noopener\">osm-and-geojson</a> for osm package, <a href=\"https://www.npmjs.com/package/geojson2\" target=\"_blank\" rel=\"noopener\">geojson2</a> for multiple formats, <a href=\"https://www.npmjs.com/package/ogr2ogr\" target=\"_blank\" rel=\"noopener\">org2org</a> and <a href=\"https://www.npmjs.com/package/gdal\" target=\"_blank\" rel=\"noopener\">gdal</a> as data solutions However, I still felt very inconvenient when I developed a GeoJson handling module a few months ago.</p><h1 id=\"Why-inconvenient\"><a href=\"#Why-inconvenient\" class=\"headerlink\" title=\"Why inconvenient?\"></a>Why inconvenient?</h1><p>From my point of view, there are a few problems:</p><ul><li><p>Most packages are designed for one specific data format.</p></li><li><p>Each package is written in a style different from the other.</p></li><li><p>Some packages require external libraries,like <a href=\"http://www.gdal.org/\" target=\"_blank\" rel=\"noopener\">gdal</a>, which arent npm-able.</p></li><li><p>Most package arent asynchronous or promised. (maybe just a personal problem)</p></li></ul><p>As a result, in order to make them work together, one will need to learn how to use these diverse packages, customize code to handle their diverse input/output, and write some comments for the future project maintainer.</p><p>Well, its not very fun.</p><h1 id=\"Gtran-the-solution\"><a href=\"#Gtran-the-solution\" class=\"headerlink\" title=\"Gtran: the solution\"></a>Gtran: the solution</h1><p>The programmers way to handle unhappiness is to write something that make him happy :) What I want is a package with following features:</p><ul><li><p>Able to work with multiple formats</p></li><li><p>Consistent and simple: functions and their input/output</p></li><li><p>Completely npm-able</p></li><li><p>Asynchronous</p></li></ul><p>And here comes <strong><a href=\"https://www.npmjs.com/package/gtran\" target=\"_blank\" rel=\"noopener\">gtran</a></strong>.</p><h1 id=\"What-does-gtran-do\"><a href=\"#What-does-gtran-do\" class=\"headerlink\" title=\"What does gtran do?\"></a>What does gtran do?</h1><p><strong>gtran</strong> wraps several existing npm packages to provide</p><ul><li><p>from/to conversion of multiple formats: .shp, .kml, .kmz, .csv, and TopoJson.</p></li><li><p>consistent functions: from[format name]() and to[format name]()</p></li><li><p>simple input/output: geojson or file name</p></li><li><p>asynchronous ability with your favorite promise library (<a href=\"https://www.npmjs.com/package/bluebird\" target=\"_blank\" rel=\"noopener\">bluebird</a>, <a href=\"https://www.npmjs.com/package/promise\" target=\"_blank\" rel=\"noopener\">promise</a>, <a href=\"https://www.npmjs.com/package/q\" target=\"_blank\" rel=\"noopener\">Q</a>, or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" target=\"_blank\" rel=\"noopener\">native</a>).</p></li><li><p>minimal installation: each format support is provide by a child package gtran-xxx.</p></li></ul><p>It could be installed with <code>npm install gtran</code>.</p><h1 id=\"How-could-it-be-used\"><a href=\"#How-could-it-be-used\" class=\"headerlink\" title=\"How could it be used?\"></a>How could it be used?</h1><p>A complete use guide could be found at the <a href=\"https://github.com/haoliangyu/gtran\" target=\"_blank\" rel=\"noopener\">GitHub repo</a> and here is a small use case:</p><figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gtran = <span class=\"built_in\">require</span>(<span class=\"string\">'gtran'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"># Specify the promise library if necessary</span><br><span class=\"line\">gtran.setPromiseLib(<span class=\"built_in\">require</span>(<span class=\"string\">'bluebird'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"># Read shapefile</span><br><span class=\"line\">gtran.fromShp(<span class=\"string\">'source.shp'</span>)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">object</span>) </span>{</span><br><span class=\"line\">    <span class=\"keyword\">var</span> geojson = object;</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"># Save geojson into shapefile</span><br><span class=\"line\">gtran.toShp(geojson, <span class=\"string\">'point.shp'</span>)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">fileNames</span>) </span>{</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'SHP files have been saved at:'</span> + fileNames.toString());</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"># Read csv file</span><br><span class=\"line\"># Assume the test.csv has two columns: latitude and longitude</span><br><span class=\"line\">gtran.fromCSV(<span class=\"string\">'source.csv'</span>, {</span><br><span class=\"line\">    mapping: { <span class=\"attr\">x</span>: <span class=\"string\">'longitude'</span>, <span class=\"attr\">y</span>: <span class=\"string\">'latitude'</span> }</span><br><span class=\"line\">})</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">object</span>) </span>{</span><br><span class=\"line\">    <span class=\"keyword\">var</span> geojson = object;</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"># Save geojson into a csv file</span><br><span class=\"line\">gtran.toCSV(geojson, <span class=\"string\">'point.csv'</span>)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">fileName</span>) </span>{</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'CSV file has been saved at:'</span> + fileName);</span><br><span class=\"line\">});</span><br></pre></td></tr></tbody></table></figure><p>Hope you enjoy it. If you find a bug or want a new feature, just create an <a href=\"https://github.com/haoliangyu/gtran/issues\" target=\"_blank\" rel=\"noopener\">issue</a> and I will appreciate it :-)</p><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>Do you still feel inconvenient when converting GeoJson to other data formats in Node.js?</p>","more":"<p>GeoJson is one of simplest geographic data format. If we search for data conversion packages at <a href=\"https://www.npmjs.com/\" target=\"_blank\" rel=\"noopener\">npm.org</a>, there will be a long list packages: <a href=\"https://www.npmjs.com/package/shapefile\" target=\"_blank\" rel=\"noopener\">shapefile</a> for shapefile, <a href=\"https://www.npmjs.com/package/tokml\" target=\"_blank\" rel=\"noopener\">tokml</a> for kml, <a href=\"https://www.npmjs.com/package/geojson2dsv\" target=\"_blank\" rel=\"noopener\">geojson2dcsv</a> for csv, <a href=\"https://www.npmjs.com/package/osm-and-geojson\" target=\"_blank\" rel=\"noopener\">osm-and-geojson</a> for osm package, <a href=\"https://www.npmjs.com/package/geojson2\" target=\"_blank\" rel=\"noopener\">geojson2</a> for multiple formats, <a href=\"https://www.npmjs.com/package/ogr2ogr\" target=\"_blank\" rel=\"noopener\">org2org</a> and <a href=\"https://www.npmjs.com/package/gdal\" target=\"_blank\" rel=\"noopener\">gdal</a> as data solutions However, I still felt very inconvenient when I developed a GeoJson handling module a few months ago.</p><h1 id=\"Why-inconvenient\"><a href=\"#Why-inconvenient\" class=\"headerlink\" title=\"Why inconvenient?\"></a>Why inconvenient?</h1><p>From my point of view, there are a few problems:</p><ul><li><p>Most packages are designed for one specific data format.</p></li><li><p>Each package is written in a style different from the other.</p></li><li><p>Some packages require external libraries,like <a href=\"http://www.gdal.org/\" target=\"_blank\" rel=\"noopener\">gdal</a>, which arent npm-able.</p></li><li><p>Most package arent asynchronous or promised. (maybe just a personal problem)</p></li></ul><p>As a result, in order to make them work together, one will need to learn how to use these diverse packages, customize code to handle their diverse input/output, and write some comments for the future project maintainer.</p><p>Well, its not very fun.</p><h1 id=\"Gtran-the-solution\"><a href=\"#Gtran-the-solution\" class=\"headerlink\" title=\"Gtran: the solution\"></a>Gtran: the solution</h1><p>The programmers way to handle unhappiness is to write something that make him happy :) What I want is a package with following features:</p><ul><li><p>Able to work with multiple formats</p></li><li><p>Consistent and simple: functions and their input/output</p></li><li><p>Completely npm-able</p></li><li><p>Asynchronous</p></li></ul><p>And here comes <strong><a href=\"https://www.npmjs.com/package/gtran\" target=\"_blank\" rel=\"noopener\">gtran</a></strong>.</p><h1 id=\"What-does-gtran-do\"><a href=\"#What-does-gtran-do\" class=\"headerlink\" title=\"What does gtran do?\"></a>What does gtran do?</h1><p><strong>gtran</strong> wraps several existing npm packages to provide</p><ul><li><p>from/to conversion of multiple formats: .shp, .kml, .kmz, .csv, and TopoJson.</p></li><li><p>consistent functions: from[format name]() and to[format name]()</p></li><li><p>simple input/output: geojson or file name</p></li><li><p>asynchronous ability with your favorite promise library (<a href=\"https://www.npmjs.com/package/bluebird\" target=\"_blank\" rel=\"noopener\">bluebird</a>, <a href=\"https://www.npmjs.com/package/promise\" target=\"_blank\" rel=\"noopener\">promise</a>, <a href=\"https://www.npmjs.com/package/q\" target=\"_blank\" rel=\"noopener\">Q</a>, or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" target=\"_blank\" rel=\"noopener\">native</a>).</p></li><li><p>minimal installation: each format support is provide by a child package gtran-xxx.</p></li></ul><p>It could be installed with <code>npm install gtran</code>.</p><h1 id=\"How-could-it-be-used\"><a href=\"#How-could-it-be-used\" class=\"headerlink\" title=\"How could it be used?\"></a>How could it be used?</h1><p>A complete use guide could be found at the <a href=\"https://github.com/haoliangyu/gtran\" target=\"_blank\" rel=\"noopener\">GitHub repo</a> and here is a small use case:</p><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gtran = <span class=\"built_in\">require</span>(<span class=\"string\">'gtran'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"># Specify the promise library if necessary</span><br><span class=\"line\">gtran.setPromiseLib(<span class=\"built_in\">require</span>(<span class=\"string\">'bluebird'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"># Read shapefile</span><br><span class=\"line\">gtran.fromShp(<span class=\"string\">'source.shp'</span>)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">object</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> geojson = object;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"># Save geojson into shapefile</span><br><span class=\"line\">gtran.toShp(geojson, <span class=\"string\">'point.shp'</span>)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">fileNames</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'SHP files have been saved at:'</span> + fileNames.toString());</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"># Read csv file</span><br><span class=\"line\"># Assume the test.csv has two columns: latitude and longitude</span><br><span class=\"line\">gtran.fromCSV(<span class=\"string\">'source.csv'</span>, &#123;</span><br><span class=\"line\">    mapping: &#123; <span class=\"attr\">x</span>: <span class=\"string\">'longitude'</span>, <span class=\"attr\">y</span>: <span class=\"string\">'latitude'</span> &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">object</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> geojson = object;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"># Save geojson into a csv file</span><br><span class=\"line\">gtran.toCSV(geojson, <span class=\"string\">'point.csv'</span>)</span><br><span class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">fileName</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'CSV file has been saved at:'</span> + fileName);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure><p>Hope you enjoy it. If you find a bug or want a new feature, just create an <a href=\"https://github.com/haoliangyu/gtran/issues\" target=\"_blank\" rel=\"noopener\">issue</a> and I will appreciate it :-)</p>"},{"title":"geojson-multiply: a simple package to pack single tyle geojson features","date":"2016-05-06T21:00:00.000Z","comments":1,"_content":"\nSome PostGIS functions only accept multi type geometry, so I write a simple geojson utility package to help me aggregate geojson features.\n\n<!-- more -->\n\nThe basic purpose of `geojson-multiply` is to generate a `MutliPoint`/`MultiLineString`/`MultiPolygon` geojson feature from many `Point`/`LineString`/`Polygon` geojson features. So this package provides a function\n\n```\nmultiply(geojsons[, options])\n```\n\nWhere the `geojsons` could be a geojson feature, an array of geojson features, or a geojson feature collection\n\nNot just the coordinates, the `multiply()` also supports the aggregation of properties. Its `options` parameter accepts two input:\n\n* `properties` - the default properties of result geojson\n\n* `onEachFeature` - a function to aggregate properties. It has four parameters:\n\n  * `properties` - the result geojson's properties\n\n  * `featureProp` - input feature geojson's properties\n\n  * `index` - input feature geojson's index in the array\n\n  * `geojsons` - geojson array.\n\nIt takes the form of [Array.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce) and make the aggregation pretty straightforward:\n\n```javascript\nvar multiply = require('geojson-multiply');\n\nvar geojsonA = {\n  type: 'Feature',\n  geometry: { type: 'Point', coordinates: [12, 43] },\n  properties: { count: 5 }\n};\n\nvar geojsonB = {\n  type: 'Feature',\n  geometry: { type: 'Point', coordinates: [13, 34] },\n  properties: { count: 5 }\n};\n\nvar onEachFeature = function(properties, featureProp) {\n  properties.count += featureProp.count;\n  return properties;\n};\n\nvar result = multiply([geojsonA, geojsonB], {\n  properties: { count: 0 },\n  onEachFeature: onEachFeature\n});\n\n/**\nThe reuslt geojson should be\n{\n  type: 'Feature'\n  geometry: {\n    type: 'MultiPoint',\n    coordinates: [[12, 43], [14, 34]]\n  },\n  properties: {\n    count: 10\n  }\n}\n*/\n```\n\nThis package has been published at [npm](https://www.npmjs.com/package/geojson-multiply). If you think it's helpful, just install and try!\n\n```\nnpm install geojson-multiply --save\n```\n","source":"_posts/geojson-multiply-a-simple-library-to-pack-single-type-geojson-features.md","raw":"title: 'geojson-multiply: a simple package to pack single tyle geojson features'\ndate: 2016-05-07\ncomments: true\ncategories:\n- GIS\ntags:\n- javascript\n- geojson\n---\n\nSome PostGIS functions only accept multi type geometry, so I write a simple geojson utility package to help me aggregate geojson features.\n\n<!-- more -->\n\nThe basic purpose of `geojson-multiply` is to generate a `MutliPoint`/`MultiLineString`/`MultiPolygon` geojson feature from many `Point`/`LineString`/`Polygon` geojson features. So this package provides a function\n\n```\nmultiply(geojsons[, options])\n```\n\nWhere the `geojsons` could be a geojson feature, an array of geojson features, or a geojson feature collection\n\nNot just the coordinates, the `multiply()` also supports the aggregation of properties. Its `options` parameter accepts two input:\n\n* `properties` - the default properties of result geojson\n\n* `onEachFeature` - a function to aggregate properties. It has four parameters:\n\n  * `properties` - the result geojson's properties\n\n  * `featureProp` - input feature geojson's properties\n\n  * `index` - input feature geojson's index in the array\n\n  * `geojsons` - geojson array.\n\nIt takes the form of [Array.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce) and make the aggregation pretty straightforward:\n\n```javascript\nvar multiply = require('geojson-multiply');\n\nvar geojsonA = {\n  type: 'Feature',\n  geometry: { type: 'Point', coordinates: [12, 43] },\n  properties: { count: 5 }\n};\n\nvar geojsonB = {\n  type: 'Feature',\n  geometry: { type: 'Point', coordinates: [13, 34] },\n  properties: { count: 5 }\n};\n\nvar onEachFeature = function(properties, featureProp) {\n  properties.count += featureProp.count;\n  return properties;\n};\n\nvar result = multiply([geojsonA, geojsonB], {\n  properties: { count: 0 },\n  onEachFeature: onEachFeature\n});\n\n/**\nThe reuslt geojson should be\n{\n  type: 'Feature'\n  geometry: {\n    type: 'MultiPoint',\n    coordinates: [[12, 43], [14, 34]]\n  },\n  properties: {\n    count: 10\n  }\n}\n*/\n```\n\nThis package has been published at [npm](https://www.npmjs.com/package/geojson-multiply). If you think it's helpful, just install and try!\n\n```\nnpm install geojson-multiply --save\n```\n","slug":"geojson-multiply-a-simple-library-to-pack-single-type-geojson-features","published":1,"updated":"2020-08-08T11:06:20.684Z","layout":"post","photos":[],"link":"","_id":"ckirpyfi7001r00557shb4gg9","content":"<p>Some PostGIS functions only accept multi type geometry, so I write a simple geojson utility package to help me aggregate geojson features.</p><a id=\"more\"></a><p>The basic purpose of <code>geojson-multiply</code> is to generate a <code>MutliPoint</code>/<code>MultiLineString</code>/<code>MultiPolygon</code> geojson feature from many <code>Point</code>/<code>LineString</code>/<code>Polygon</code> geojson features. So this package provides a function</p><figure class=\"highlight plain\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">multiply(geojsons[, options])</span><br></pre></td></tr></tbody></table></figure><p>Where the <code>geojsons</code> could be a geojson feature, an array of geojson features, or a geojson feature collection</p><p>Not just the coordinates, the <code>multiply()</code> also supports the aggregation of properties. Its <code>options</code> parameter accepts two input:</p><ul><li><p><code>properties</code> - the default properties of result geojson</p></li><li><p><code>onEachFeature</code> - a function to aggregate properties. It has four parameters:</p><ul><li><p><code>properties</code> - the result geojsons properties</p></li><li><p><code>featureProp</code> - input feature geojsons properties</p></li><li><p><code>index</code> - input feature geojsons index in the array</p></li><li><p><code>geojsons</code> - geojson array.</p></li></ul></li></ul><p>It takes the form of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" target=\"_blank\" rel=\"noopener\">Array.reduce()</a> and make the aggregation pretty straightforward:</p><figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> multiply = <span class=\"built_in\">require</span>(<span class=\"string\">'geojson-multiply'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> geojsonA = {</span><br><span class=\"line\">  type: <span class=\"string\">'Feature'</span>,</span><br><span class=\"line\">  geometry: { <span class=\"attr\">type</span>: <span class=\"string\">'Point'</span>, <span class=\"attr\">coordinates</span>: [<span class=\"number\">12</span>, <span class=\"number\">43</span>] },</span><br><span class=\"line\">  properties: { <span class=\"attr\">count</span>: <span class=\"number\">5</span> }</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> geojsonB = {</span><br><span class=\"line\">  type: <span class=\"string\">'Feature'</span>,</span><br><span class=\"line\">  geometry: { <span class=\"attr\">type</span>: <span class=\"string\">'Point'</span>, <span class=\"attr\">coordinates</span>: [<span class=\"number\">13</span>, <span class=\"number\">34</span>] },</span><br><span class=\"line\">  properties: { <span class=\"attr\">count</span>: <span class=\"number\">5</span> }</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> onEachFeature = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">properties, featureProp</span>) </span>{</span><br><span class=\"line\">  properties.count += featureProp.count;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> properties;</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = multiply([geojsonA, geojsonB], {</span><br><span class=\"line\">  properties: { <span class=\"attr\">count</span>: <span class=\"number\">0</span> },</span><br><span class=\"line\">  onEachFeature: onEachFeature</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">The reuslt geojson should be</span></span><br><span class=\"line\"><span class=\"comment\">{</span></span><br><span class=\"line\"><span class=\"comment\">  type: 'Feature'</span></span><br><span class=\"line\"><span class=\"comment\">  geometry: {</span></span><br><span class=\"line\"><span class=\"comment\">    type: 'MultiPoint',</span></span><br><span class=\"line\"><span class=\"comment\">    coordinates: [[12, 43], [14, 34]]</span></span><br><span class=\"line\"><span class=\"comment\">  },</span></span><br><span class=\"line\"><span class=\"comment\">  properties: {</span></span><br><span class=\"line\"><span class=\"comment\">    count: 10</span></span><br><span class=\"line\"><span class=\"comment\">  }</span></span><br><span class=\"line\"><span class=\"comment\">}</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></tbody></table></figure><p>This package has been published at <a href=\"https://www.npmjs.com/package/geojson-multiply\" target=\"_blank\" rel=\"noopener\">npm</a>. If you think its helpful, just install and try!</p><figure class=\"highlight plain\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install geojson-multiply --save</span><br></pre></td></tr></tbody></table></figure><script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{}},"excerpt":"<p>Some PostGIS functions only accept multi type geometry, so I write a simple geojson utility package to help me aggregate geojson features.</p>","more":"<p>The basic purpose of <code>geojson-multiply</code> is to generate a <code>MutliPoint</code>/<code>MultiLineString</code>/<code>MultiPolygon</code> geojson feature from many <code>Point</code>/<code>LineString</code>/<code>Polygon</code> geojson features. So this package provides a function</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">multiply(geojsons[, options])</span><br></pre></td></tr></table></figure><p>Where the <code>geojsons</code> could be a geojson feature, an array of geojson features, or a geojson feature collection</p><p>Not just the coordinates, the <code>multiply()</code> also supports the aggregation of properties. Its <code>options</code> parameter accepts two input:</p><ul><li><p><code>properties</code> - the default properties of result geojson</p></li><li><p><code>onEachFeature</code> - a function to aggregate properties. It has four parameters:</p><ul><li><p><code>properties</code> - the result geojsons properties</p></li><li><p><code>featureProp</code> - input feature geojsons properties</p></li><li><p><code>index</code> - input feature geojsons index in the array</p></li><li><p><code>geojsons</code> - geojson array.</p></li></ul></li></ul><p>It takes the form of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" target=\"_blank\" rel=\"noopener\">Array.reduce()</a> and make the aggregation pretty straightforward:</p><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> multiply = <span class=\"built_in\">require</span>(<span class=\"string\">'geojson-multiply'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> geojsonA = &#123;</span><br><span class=\"line\">  type: <span class=\"string\">'Feature'</span>,</span><br><span class=\"line\">  geometry: &#123; <span class=\"attr\">type</span>: <span class=\"string\">'Point'</span>, <span class=\"attr\">coordinates</span>: [<span class=\"number\">12</span>, <span class=\"number\">43</span>] &#125;,</span><br><span class=\"line\">  properties: &#123; <span class=\"attr\">count</span>: <span class=\"number\">5</span> &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> geojsonB = &#123;</span><br><span class=\"line\">  type: <span class=\"string\">'Feature'</span>,</span><br><span class=\"line\">  geometry: &#123; <span class=\"attr\">type</span>: <span class=\"string\">'Point'</span>, <span class=\"attr\">coordinates</span>: [<span class=\"number\">13</span>, <span class=\"number\">34</span>] &#125;,</span><br><span class=\"line\">  properties: &#123; <span class=\"attr\">count</span>: <span class=\"number\">5</span> &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> onEachFeature = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">properties, featureProp</span>) </span>&#123;</span><br><span class=\"line\">  properties.count += featureProp.count;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> properties;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> result = multiply([geojsonA, geojsonB], &#123;</span><br><span class=\"line\">  properties: &#123; <span class=\"attr\">count</span>: <span class=\"number\">0</span> &#125;,</span><br><span class=\"line\">  onEachFeature: onEachFeature</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">The reuslt geojson should be</span></span><br><span class=\"line\"><span class=\"comment\">&#123;</span></span><br><span class=\"line\"><span class=\"comment\">  type: 'Feature'</span></span><br><span class=\"line\"><span class=\"comment\">  geometry: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    type: 'MultiPoint',</span></span><br><span class=\"line\"><span class=\"comment\">    coordinates: [[12, 43], [14, 34]]</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">  properties: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    count: 10</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure><p>This package has been published at <a href=\"https://www.npmjs.com/package/geojson-multiply\" target=\"_blank\" rel=\"noopener\">npm</a>. If you think its helpful, just install and try!</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install geojson-multiply --save</span><br></pre></td></tr></table></figure>"}],"PostAsset":[{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/trainsample.png","slug":"trainsample.png","post":"ckirpyfgz000d0055sl8rwxms","modified":1,"renderable":0},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/testSample.png","slug":"testSample.png","post":"ckirpyfgz000d0055sl8rwxms","modified":1,"renderable":0},{"_id":"source/_posts/Making-masks-with-Landsat-8-Quality-Assessment-band-using-Python/maskresult.png","slug":"maskresult.png","post":"ckirpyfhj000y0055ylkdarfn","modified":1,"renderable":0},{"_id":"source/_posts/Boundary-Now-a-simple-tool-to-extract-OSM-place-boundaries/boundary-now.png","slug":"boundary-now.png","post":"ckirpyfgt000900556p8iyp33","modified":1,"renderable":0},{"_id":"source/_posts/Celebrating-the-1-000-data-portals-at-OpenDataDiscovery-org/region-map.png","slug":"region-map.png","post":"ckirpyfgv000a00556wgmvrv0","modified":1,"renderable":0},{"_id":"source/_posts/The-Launch-of-OpenDataDiscovery.org/map.png","slug":"map.png","post":"ckirpyfhn00130055idzqkokq","modified":1,"renderable":0},{"_id":"source/_posts/AWS-ECS-auto-deployment-with-Travis-CI/travis-deploy.png","post":"ckirpyfgg00020055l4h0z1xj","slug":"travis-deploy.png","modified":1,"renderable":1},{"_id":"source/_posts/AWS-ECS-auto-deployment-with-Travis-CI/travis-env.png","post":"ckirpyfgg00020055l4h0z1xj","slug":"travis-env.png","modified":1,"renderable":1},{"_id":"source/_posts/Generating-masks-from-Landsat-8-image-in-ArcMap/Masking_from_Landsat_8.png","post":"ckirpyfh6000j0055p6urbh5e","slug":"Masking_from_Landsat_8.png","modified":1,"renderable":1},{"_id":"source/_posts/Generating-masks-from-Landsat-8-image-in-ArcMap/Masking_from_Quality_Assessment_Bits.png","post":"ckirpyfh6000j0055p6urbh5e","slug":"Masking_from_Quality_Assessment_Bits.png","modified":1,"renderable":1},{"_id":"source/_posts/Tips-on-developing-cross-platform-Node-js-application/dev-survey.png","post":"ckirpyfhs001800559kb1ob5b","slug":"dev-survey.png","modified":1,"renderable":1},{"_id":"source/_posts/Tips-on-developing-cross-platform-Node-js-application/newline.png","post":"ckirpyfhs001800559kb1ob5b","slug":"newline.png","modified":1,"renderable":1},{"_id":"source/_posts/Work-Life-2016/github-commits.png","post":"ckirpyfhy001g0055pawxl5e4","slug":"github-commits.png","modified":1,"renderable":1},{"_id":"source/_posts/Work-Life-2016/odd-commits.png","post":"ckirpyfhy001g0055pawxl5e4","slug":"odd-commits.png","modified":1,"renderable":1},{"_id":"source/_posts/Work-Life-2016/trait.jpg","slug":"trait.jpg","post":"ckirpyfhy001g0055pawxl5e4","modified":1,"renderable":0},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bitsample.png","post":"ckirpyfhg000v00559052v6bl","slug":"bitsample.png","modified":1,"renderable":1},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bitstructure.png","post":"ckirpyfhg000v00559052v6bl","slug":"bitstructure.png","modified":1,"renderable":1},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/bittable.png","post":"ckirpyfhg000v00559052v6bl","slug":"bittable.png","modified":1,"renderable":1},{"_id":"source/_posts/Making-masks-from-Quality-Control-bits-of-MODIS-land-products-in-Python-Update/hqmask.png","post":"ckirpyfhg000v00559052v6bl","slug":"hqmask.png","modified":1,"renderable":1},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/accuracyfigure.png","post":"ckirpyfgz000d0055sl8rwxms","slug":"accuracyfigure.png","modified":1,"renderable":1},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/accuracytable.png","post":"ckirpyfgz000d0055sl8rwxms","slug":"accuracytable.png","modified":1,"renderable":1},{"_id":"source/_posts/Comparison-of-different-sampling-rules-in-SVM-classification/featurespace.png","post":"ckirpyfgz000d0055sl8rwxms","slug":"featurespace.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/edit_pixels.png","post":"ckirpyfh4000i0055x0qewm90","slug":"edit_pixels.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/edit_tool.png","post":"ckirpyfh4000i0055x0qewm90","slug":"edit_tool.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/eidtor_toolbar.png","post":"ckirpyfh4000i0055x0qewm90","slug":"eidtor_toolbar.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/finish_editing.png","post":"ckirpyfh4000i0055x0qewm90","slug":"finish_editing.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/gotopixel_tool.png","post":"ckirpyfh4000i0055x0qewm90","slug":"gotopixel_tool.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/identify_tool.png","post":"ckirpyfh4000i0055x0qewm90","slug":"identify_tool.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/install_wizard.png","post":"ckirpyfh4000i0055x0qewm90","slug":"install_wizard.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/select_pixels.png","post":"ckirpyfh4000i0055x0qewm90","slug":"select_pixels.png","modified":1,"renderable":1},{"_id":"source/_posts/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/unzipped_folder.png","post":"ckirpyfh4000i0055x0qewm90","slug":"unzipped_folder.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/AddValues.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"AddValues.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/ArcPaint.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"ArcPaint.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Erase.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"Erase.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/EraseTool.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"EraseTool.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/FreehandPaintTool.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"FreehandPaintTool.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Painting.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"Painting.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/RasterPainter.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"RasterPainter.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/Save.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"Save.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/StartPainting.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"StartPainting.png","modified":1,"renderable":1},{"_id":"source/_posts/Yet-another-way-to-edit-your-raster-layer-in-ArcMap-Paint-on-it/WinPaint.png","post":"ckirpyfi1001j0055f6p9vbpo","slug":"WinPaint.png","modified":1,"renderable":1}],"PostCategory":[{"post_id":"ckirpyfgg00020055l4h0z1xj","category_id":"ckirpyfgp00060055e83pxmme","_id":"ckirpyfh3000f0055t96vj3jm"},{"post_id":"ckirpyfgz000d0055sl8rwxms","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfh7000k0055iz234eqq"},{"post_id":"ckirpyfgl0004005541gbvhep","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfhc000o0055pvlylxwu"},{"post_id":"ckirpyfh1000e0055znjir5o7","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfhe000r0055zwn3xyur"},{"post_id":"ckirpyfh4000i0055x0qewm90","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfhh000w0055xe8su2is"},{"post_id":"ckirpyfgr00080055uugm9p8v","category_id":"ckirpyfh3000g0055cppdmq10","_id":"ckirpyfhk000z0055x3pgjlic"},{"post_id":"ckirpyfh6000j0055p6urbh5e","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfhm0011005561nqsbpn"},{"post_id":"ckirpyfhb000n00552ekcrvi5","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfho001400558zrdxabf"},{"post_id":"ckirpyfgt000900556p8iyp33","category_id":"ckirpyfh3000g0055cppdmq10","_id":"ckirpyfhr0016005569rb90gq"},{"post_id":"ckirpyfhd000q0055vuav2ede","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfht00190055u5qx8bpm"},{"post_id":"ckirpyfhg000v00559052v6bl","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfhw001d0055403a075w"},{"post_id":"ckirpyfgv000a00556wgmvrv0","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfhz001h0055uc15fknk"},{"post_id":"ckirpyfhj000y0055ylkdarfn","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfi3001l0055ixqaj9gz"},{"post_id":"ckirpyfhl001000555bcu08ql","category_id":"ckirpyfh3000g0055cppdmq10","_id":"ckirpyfi6001p0055buq60cpg"},{"post_id":"ckirpyfhn00130055idzqkokq","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfi9001s0055spq2xvdc"},{"post_id":"ckirpyfhv001c0055zo3x57ml","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfia001u0055mzeqh12j"},{"post_id":"ckirpyfho001500557ptqz1qj","category_id":"ckirpyfhu001b0055p4hov0r8","_id":"ckirpyfic001x0055c6oodh6q"},{"post_id":"ckirpyfi1001j0055f6p9vbpo","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfid001z0055vpa6ry6k"},{"post_id":"ckirpyfi4001o0055nwwrgknq","category_id":"ckirpyfh3000g0055cppdmq10","_id":"ckirpyfif00220055ww301zxt"},{"post_id":"ckirpyfhs001800559kb1ob5b","category_id":"ckirpyfi2001k0055v0v9exdm","_id":"ckirpyfif00230055olzhgz39"},{"post_id":"ckirpyfi7001r00557shb4gg9","category_id":"ckirpyfgx000b0055wwli8kwg","_id":"ckirpyfig00250055ljj22ezf"},{"post_id":"ckirpyfhy001g0055pawxl5e4","category_id":"ckirpyfi9001t0055ykjpagvv","_id":"ckirpyfih00270055rm3qrr3b"}],"PostTag":[{"post_id":"ckirpyfgg00020055l4h0z1xj","tag_id":"ckirpyfgr00070055gdy1bpuc","_id":"ckirpyfhc000p0055pgkfm8zs"},{"post_id":"ckirpyfgg00020055l4h0z1xj","tag_id":"ckirpyfgy000c00555rxuyp6y","_id":"ckirpyfhf000s0055pmtv225k"},{"post_id":"ckirpyfgg00020055l4h0z1xj","tag_id":"ckirpyfh4000h0055lzwszsq3","_id":"ckirpyfhi000x00559hst7x4l"},{"post_id":"ckirpyfgl0004005541gbvhep","tag_id":"ckirpyfh8000m0055ya390vx3","_id":"ckirpyfhu001a00557pwxj5le"},{"post_id":"ckirpyfgl0004005541gbvhep","tag_id":"ckirpyfhg000u0055j0ywichz","_id":"ckirpyfhx001e0055rfj07uya"},{"post_id":"ckirpyfgl0004005541gbvhep","tag_id":"ckirpyfhm00120055eeompeeb","_id":"ckirpyfi0001i0055f72fg06a"},{"post_id":"ckirpyfhv001c0055zo3x57ml","tag_id":"ckirpyfhg000u0055j0ywichz","_id":"ckirpyfi3001m0055v60w10fl"},{"post_id":"ckirpyfhv001c0055zo3x57ml","tag_id":"ckirpyfhm00120055eeompeeb","_id":"ckirpyfi6001q005598s93ek1"},{"post_id":"ckirpyfgr00080055uugm9p8v","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfic001w005520tfbx8w"},{"post_id":"ckirpyfgr00080055uugm9p8v","tag_id":"ckirpyfhx001f0055vo77a627","_id":"ckirpyfid001y005526axj1f8"},{"post_id":"ckirpyfgr00080055uugm9p8v","tag_id":"ckirpyfi3001n0055n61esbht","_id":"ckirpyfie00210055k3tj0o8q"},{"post_id":"ckirpyfgt000900556p8iyp33","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfig00260055nicycfyp"},{"post_id":"ckirpyfgt000900556p8iyp33","tag_id":"ckirpyfid002000552sz8puk8","_id":"ckirpyfih00280055lwvc74rc"},{"post_id":"ckirpyfgv000a00556wgmvrv0","tag_id":"ckirpyfig00240055dptssk9a","_id":"ckirpyfik002c0055se8lbg3j"},{"post_id":"ckirpyfgv000a00556wgmvrv0","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfik002d00551ms1qmll"},{"post_id":"ckirpyfgv000a00556wgmvrv0","tag_id":"ckirpyfii002a0055eouto7q6","_id":"ckirpyfil002f0055czxz5h78"},{"post_id":"ckirpyfgz000d0055sl8rwxms","tag_id":"ckirpyfij002b0055ej5slj40","_id":"ckirpyfil002g00559205nyb0"},{"post_id":"ckirpyfh1000e0055znjir5o7","tag_id":"ckirpyfil002e0055qs31jmu5","_id":"ckirpyfio002j0055sc5w73kg"},{"post_id":"ckirpyfh1000e0055znjir5o7","tag_id":"ckirpyfim002h0055c6okopoi","_id":"ckirpyfip002k0055gn7chft9"},{"post_id":"ckirpyfh4000i0055x0qewm90","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfir002n0055unockmod"},{"post_id":"ckirpyfh4000i0055x0qewm90","tag_id":"ckirpyfi3001n0055n61esbht","_id":"ckirpyfir002o0055p2kgp4ga"},{"post_id":"ckirpyfh6000j0055p6urbh5e","tag_id":"ckirpyfiq002m005589aq5v8q","_id":"ckirpyfiv002s0055a1go41jl"},{"post_id":"ckirpyfh6000j0055p6urbh5e","tag_id":"ckirpyfij002b0055ej5slj40","_id":"ckirpyfiw002t0055x32v9fr0"},{"post_id":"ckirpyfh6000j0055p6urbh5e","tag_id":"ckirpyfi3001n0055n61esbht","_id":"ckirpyfix002v0055myjmqmyw"},{"post_id":"ckirpyfhb000n00552ekcrvi5","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfiz002x0055zly07v22"},{"post_id":"ckirpyfhb000n00552ekcrvi5","tag_id":"ckirpyfig00240055dptssk9a","_id":"ckirpyfj0002y0055yxupjzgk"},{"post_id":"ckirpyfhd000q0055vuav2ede","tag_id":"ckirpyfhg000u0055j0ywichz","_id":"ckirpyfj200310055yuvhc4qk"},{"post_id":"ckirpyfhd000q0055vuav2ede","tag_id":"ckirpyfhm00120055eeompeeb","_id":"ckirpyfj200320055evhr83i3"},{"post_id":"ckirpyfhg000v00559052v6bl","tag_id":"ckirpyfij002b0055ej5slj40","_id":"ckirpyfj400360055lkjd6kab"},{"post_id":"ckirpyfhg000v00559052v6bl","tag_id":"ckirpyfj200330055taxkup7p","_id":"ckirpyfj5003700558udtt9tj"},{"post_id":"ckirpyfhg000v00559052v6bl","tag_id":"ckirpyfj300340055b26k9yyc","_id":"ckirpyfj600390055cdyex7d0"},{"post_id":"ckirpyfhj000y0055ylkdarfn","tag_id":"ckirpyfij002b0055ej5slj40","_id":"ckirpyfj8003c00554hsjm4fr"},{"post_id":"ckirpyfhj000y0055ylkdarfn","tag_id":"ckirpyfiq002m005589aq5v8q","_id":"ckirpyfj8003d0055u15f7alq"},{"post_id":"ckirpyfhj000y0055ylkdarfn","tag_id":"ckirpyfj300340055b26k9yyc","_id":"ckirpyfj9003f0055b8mv3ckd"},{"post_id":"ckirpyfhl001000555bcu08ql","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfjc003i0055kk7bbgl8"},{"post_id":"ckirpyfhl001000555bcu08ql","tag_id":"ckirpyfhx001f0055vo77a627","_id":"ckirpyfjc003j0055n9bi580w"},{"post_id":"ckirpyfhl001000555bcu08ql","tag_id":"ckirpyfj300340055b26k9yyc","_id":"ckirpyfjd003l00550y1w2b08"},{"post_id":"ckirpyfhn00130055idzqkokq","tag_id":"ckirpyfig00240055dptssk9a","_id":"ckirpyfjf003o0055hhzosawe"},{"post_id":"ckirpyfhn00130055idzqkokq","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfjg003p0055ofb7ohyq"},{"post_id":"ckirpyfhn00130055idzqkokq","tag_id":"ckirpyfii002a0055eouto7q6","_id":"ckirpyfjh003r0055lmmsf8xn"},{"post_id":"ckirpyfho001500557ptqz1qj","tag_id":"ckirpyfi3001n0055n61esbht","_id":"ckirpyfjh003t00555r5girch"},{"post_id":"ckirpyfho001500557ptqz1qj","tag_id":"ckirpyfig00240055dptssk9a","_id":"ckirpyfji003u00559t3gnot1"},{"post_id":"ckirpyfhs001800559kb1ob5b","tag_id":"ckirpyfjh003s0055yy0gwg1i","_id":"ckirpyfjj003x0055f416ydnj"},{"post_id":"ckirpyfhs001800559kb1ob5b","tag_id":"ckirpyfji003v0055jd1r4qo5","_id":"ckirpyfjk003y0055e6j6pacu"},{"post_id":"ckirpyfi1001j0055f6p9vbpo","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfjm00400055oib5yizh"},{"post_id":"ckirpyfi1001j0055f6p9vbpo","tag_id":"ckirpyfi3001n0055n61esbht","_id":"ckirpyfjm00410055f1yayds2"},{"post_id":"ckirpyfi4001o0055nwwrgknq","tag_id":"ckirpyfhs00170055hkmbdgla","_id":"ckirpyfjo00430055kw5hu0x9"},{"post_id":"ckirpyfi4001o0055nwwrgknq","tag_id":"ckirpyfhx001f0055vo77a627","_id":"ckirpyfjo004400559ogvz9u4"},{"post_id":"ckirpyfi4001o0055nwwrgknq","tag_id":"ckirpyfjh003s0055yy0gwg1i","_id":"ckirpyfjo004500554xqdyp3v"},{"post_id":"ckirpyfi7001r00557shb4gg9","tag_id":"ckirpyfjh003s0055yy0gwg1i","_id":"ckirpyfjo00460055auy5b4nt"},{"post_id":"ckirpyfi7001r00557shb4gg9","tag_id":"ckirpyfh8000m0055ya390vx3","_id":"ckirpyfjp0047005593tojxef"}],"Tag":[{"name":"aws","_id":"ckirpyfgr00070055gdy1bpuc"},{"name":"ci","_id":"ckirpyfgy000c00555rxuyp6y"},{"name":"deloyment","_id":"ckirpyfh4000h0055lzwszsq3"},{"name":"geojson","_id":"ckirpyfh8000m0055ya390vx3"},{"name":"leaflet","_id":"ckirpyfhg000u0055j0ywichz"},{"name":"typescript","_id":"ckirpyfhm00120055eeompeeb"},{"name":"gis","_id":"ckirpyfhs00170055hkmbdgla"},{"name":"project","_id":"ckirpyfhx001f0055vo77a627"},{"name":"arcgis","_id":"ckirpyfi3001n0055n61esbht"},{"name":"openstreetmap","_id":"ckirpyfid002000552sz8puk8"},{"name":"open data","_id":"ckirpyfig00240055dptssk9a"},{"name":"OpenDataDiscovery.org","_id":"ckirpyfii002a0055eouto7q6"},{"name":"remote sensing","_id":"ckirpyfij002b0055ej5slj40"},{"name":"arcobject","_id":"ckirpyfil002e0055qs31jmu5"},{"name":"C#","_id":"ckirpyfim002h0055c6okopoi"},{"name":"landsat","_id":"ckirpyfiq002m005589aq5v8q"},{"name":"modis","_id":"ckirpyfj200330055taxkup7p"},{"name":"python","_id":"ckirpyfj300340055b26k9yyc"},{"name":"javascript","_id":"ckirpyfjh003s0055yy0gwg1i"},{"name":"nodejs","_id":"ckirpyfji003v0055jd1r4qo5"}]}}